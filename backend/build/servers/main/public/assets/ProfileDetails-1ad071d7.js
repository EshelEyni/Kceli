import{R as _,r as fe,v as pe,j as r,S as ae,l as d,I as F,B as Y,w as ye,x as ve,O as ge}from"./index-a4812209.js";import{E as oe}from"./ErrorMsg-ed3c6cca.js";import{X as le,Y as se,R as _e,C as be}from"./YAxis-64c976b4.js";import{u as Ae,e as we,c as ee,D as xe,t as Pe,L as X,f as z,C as Ne,A as De,o as K,q as Se,l as J,H as Oe,s as Ee,G as Ce,m as ce,I as te,J as ke,B as Le,K as je,F as Ie,M as Te}from"./generateCategoricalChart-884f19e7.js";import{F as Fe}from"./Footer-665e09cd.js";import{u as We,C as O}from"./index.esm-c458e488.js";var Ge=["type","layout","connectNulls","ref"];function I(e){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(e)}function Be(e,t){if(e==null)return{};var n=Re(e,t),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)i=o[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Re(e,t){if(e==null)return{};var n={},i=Object.keys(e),a,o;for(o=0;o<i.length;o++)a=i[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},M.apply(this,arguments)}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ie(Object(n),!0).forEach(function(i){N(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function j(e){return Ue(e)||Me(e)||Ke(e)||$e()}function $e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ke(e,t){if(e){if(typeof e=="string")return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}}function Me(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ue(e){if(Array.isArray(e))return Q(e)}function Q(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ue(i.key),i)}}function ze(e,t,n){return t&&re(e.prototype,t),n&&re(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},Z(e,t)}function He(e){var t=Ye();return function(){var i=q(e),a;if(t){var o=q(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return Xe(this,a)}}function Xe(e,t){if(t&&(I(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q(e)}function N(e,t,n){return t=ue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e){var t=Je(e,"string");return I(t)==="symbol"?t:String(t)}function Je(e,t){if(I(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(I(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T=function(e){qe(n,e);var t=He(n);function n(){var i;Ve(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o)),N(E(i),"state",{isAnimationFinished:!0,totalLength:0}),N(E(i),"getStrokeDasharray",function(l,u,h){for(var c=h.reduce(function(x,D){return x+D}),m=Math.floor(l/c),f=l%c,v=u-l,p=[],g=0,y=0;;y+=h[g],++g)if(y+h[g]>f){p=[].concat(j(h.slice(0,g)),[f-y]);break}var w=p.length%2===0?[0,v]:[v];return[].concat(j(n.repeat(h,m)),j(p),w).map(function(x){return"".concat(x,"px")}).join(", ")}),N(E(i),"id",Ae("recharts-line-")),N(E(i),"pathRef",function(l){i.mainCurve=l}),N(E(i),"handleAnimationEnd",function(){i.setState({isAnimationFinished:!0}),i.props.onAnimationEnd&&i.props.onAnimationEnd()}),N(E(i),"handleAnimationStart",function(){i.setState({isAnimationFinished:!1}),i.props.onAnimationStart&&i.props.onAnimationStart()}),i}return ze(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.points,u=s.xAxis,h=s.yAxis,c=s.layout,m=s.children,f=Pe(m,ke);if(!f)return null;var v=function(y,w){return{x:y.x,y:y.y,value:y.value,errorVal:ce(y.payload,w)}},p={clipPath:a?"url(#clipPath-".concat(o,")"):null};return _.createElement(X,p,f.map(function(g,y){return _.cloneElement(g,{key:"bar-".concat(y),data:l,xAxis:u,yAxis:h,layout:c,dataPointFormatter:v})}))}},{key:"renderDots",value:function(a,o,s){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,h=u.dot,c=u.points,m=u.dataKey,f=z(this.props),v=z(h,!0),p=c.map(function(y,w){var x=A(A(A({key:"dot-".concat(w),r:3},f),v),{},{value:y.value,dataKey:m,cx:y.x,cy:y.y,index:w,payload:y.payload});return n.renderDotItem(h,x)}),g={clipPath:a?"url(#clipPath-".concat(o?"":"dots-").concat(s,")"):null};return _.createElement(X,M({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(a,o,s,l){var u=this.props,h=u.type,c=u.layout,m=u.connectNulls;u.ref;var f=Be(u,Ge),v=A(A(A({},z(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(s,")"):null,points:a},l),{},{type:h,layout:c,connectNulls:m});return _.createElement(Ne,M({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,o){var s=this,l=this.props,u=l.points,h=l.strokeDasharray,c=l.isAnimationActive,m=l.animationBegin,f=l.animationDuration,v=l.animationEasing,p=l.animationId,g=l.animateNewValues,y=l.width,w=l.height,x=this.state,D=x.prevPoints,W=x.totalLength;return _.createElement(De,{begin:m,duration:f,isActive:c,easing:v,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var P=C.t;if(D){var G=D.length/u.length,S=u.map(function(b,H){var R=Math.floor(H*G);if(D[R]){var $=D[R],L=K($.x,b.x),de=K($.y,b.y);return A(A({},b),{},{x:L(P),y:de(P)})}if(g){var he=K(y*2,b.x),me=K(w/2,b.y);return A(A({},b),{},{x:he(P),y:me(P)})}return A(A({},b),{},{x:b.x,y:b.y})});return s.renderCurveStatically(S,a,o)}var U=K(0,W),k=U(P),B;if(h){var V="".concat(h).split(/[,\s]+/gim).map(function(b){return parseFloat(b)});B=s.getStrokeDasharray(k,W,V)}else B="".concat(k,"px ").concat(W-k,"px");return s.renderCurveStatically(u,a,o,{strokeDasharray:B})})}},{key:"renderCurve",value:function(a,o){var s=this.props,l=s.points,u=s.isAnimationActive,h=this.state,c=h.prevPoints,m=h.totalLength;return u&&l&&l.length&&(!c&&m>0||!Se(c,l))?this.renderCurveWithAnimation(a,o):this.renderCurveStatically(l,a,o)}},{key:"render",value:function(){var a,o=this.props,s=o.hide,l=o.dot,u=o.points,h=o.className,c=o.xAxis,m=o.yAxis,f=o.top,v=o.left,p=o.width,g=o.height,y=o.isAnimationActive,w=o.id;if(s||!u||!u.length)return null;var x=this.state.isAnimationFinished,D=u.length===1,W=ee("recharts-line",h),C=c&&c.allowDataOverflow,P=m&&m.allowDataOverflow,G=C||P,S=J(w)?this.id:w,U=(a=z(l))!==null&&a!==void 0?a:{r:3,strokeWidth:2},k=U.r,B=k===void 0?3:k,V=U.strokeWidth,b=V===void 0?2:V,H=Oe(l)?l:{},R=H.clipDot,$=R===void 0?!0:R,L=B*2+b;return _.createElement(X,{className:W},C||P?_.createElement("defs",null,_.createElement("clipPath",{id:"clipPath-".concat(S)},_.createElement("rect",{x:C?v:v-p/2,y:P?f:f-g/2,width:C?p:p*2,height:P?g:g*2})),!$&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:v-L/2,y:f-L/2,width:p+L,height:g+L}))):null,!D&&this.renderCurve(G,S),this.renderErrorBar(G,S),(D||l)&&this.renderDots(G,$,S),(!y||x)&&Ee.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(a,o){return a.animationId!==o.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:o.curPoints}:a.points!==o.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,o){for(var s=a.length%2!==0?[].concat(j(a),[0]):a,l=[],u=0;u<o;++u)l=[].concat(j(l),j(s));return l}},{key:"renderDotItem",value:function(a,o){var s;if(_.isValidElement(a))s=_.cloneElement(a,o);else if(we(a))s=a(o);else{var l=ee("recharts-line-dot",a?a.className:"");s=_.createElement(xe,M({},o,{className:l}))}return s}}]),n}(fe.PureComponent);N(T,"displayName","Line");N(T,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ce.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});N(T,"getComposedData",function(e){var t=e.props,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,l=e.bandSize,u=e.displayedData,h=e.offset,c=t.layout,m=u.map(function(f,v){var p=ce(f,s);return c==="horizontal"?{x:te({axis:n,ticks:a,bandSize:l,entry:f,index:v}),y:J(p)?null:i.scale(p),value:p,payload:f}:{x:J(p)?null:n.scale(p),y:te({axis:i,ticks:o,bandSize:l,entry:f,index:v}),value:p,payload:f}});return A({points:m,layout:c},h)});var Qe=Le({chartName:"LineChart",GraphicalChild:T,axisComponents:[{axisType:"xAxis",AxisComp:le},{axisType:"yAxis",AxisComp:se}],formatAxisMap:je});const Ze=()=>{const{userDailyStats:e,isLoading:t,isSuccess:n,isError:i}=pe();if(t)return r(ae,{});if(i)return r(oe,{});if(!n||!e)return null;const a=e.map(o=>({...o,date:new Intl.DateTimeFormat("en-GB",{month:"numeric",day:"numeric",year:"2-digit"}).format(new Date(o.date))}));return r("div",{style:{width:"100%",maxWidth:1200,height:300},children:r(_e,{children:d(Qe,{data:a,margin:{top:25,right:35,left:0,bottom:10},style:{backgroundColor:"white",borderRadius:10,boxShadow:"0 0 10px rgba(0,0,0,0.5)",display:"flex"},children:[r(be,{strokeDasharray:"4 1"}),r(le,{dataKey:"date"}),r(se,{}),r(Ie,{}),r(Te,{}),r(T,{type:"monotone",dataKey:"weight",stroke:"#ab1010"}),r(T,{type:"monotone",dataKey:"waist",stroke:"#6543ff"})]})})})};const et=()=>{const{user:e,userDailyStats:t,setIsEditing:n}=F();if(!e||!t)return null;const{username:i,fullname:a,birthdate:o,height:s,weight:l,totalDailyEnergyExpenditure:u,targetCaloricIntakePerDay:h,weightLossGoal:c}=e;function m(){n(!0)}return d("section",{className:"profile-details__user-info",children:[d("div",{className:"user-info__item-container",children:[r("h2",{children:"User name:"}),r("p",{children:i})]}),d("div",{className:"user-info__item-container",children:[r("h2",{children:"Full name:"}),r("p",{children:a})]}),d("div",{className:"user-info__item-container",children:[r("h2",{children:"Birth date:"}),r("p",{children:new Date(o).toLocaleDateString()})]}),d("div",{className:"user-info__item-container",children:[r("h2",{children:"Height:"}),r("p",{children:`${s} cm`})]}),d("div",{className:"user-info__item-container",children:[r("h2",{children:"Weight:"}),r("p",{children:`${l} kg`})]}),d("div",{className:"user-info__item-container",children:[r("h2",{children:"Total Daily Energy Expenditure:"}),r("p",{children:`${u} kcal`})]}),d("div",{className:"user-info__item-container",children:[r("h2",{children:"Target Caloric Intake Per Day:"}),r("p",{children:`${h} kcal`})]}),d("div",{className:"user-info__item-container",children:[r("h2",{children:"Current Weight Loss Goal:"}),r("p",{children:`${c.weightGoal} kg`})]}),d("div",{className:"user-info__item-container",children:[r("h2",{children:"days in process:"}),r("p",{children:t.length})]}),r(Y,{className:"user-info__edit-btn",onClickFn:m,children:"Edit"})]})},tt=()=>{const{recommendedWeight:e}=F();if(!e)return null;const t=Object.entries(e);return d("section",{className:"profile-details__items-list",children:[r("h2",{className:"profile-details__items-list__title",children:"Recommended Weight"}),r("ul",{className:"profile-details__items-list__items-container",children:t.map(([n,i])=>d("li",{className:"profile-details__items-list__item",children:[r("h3",{className:"profile-details__items-list__item__title",children:n}),d("p",{className:"profile-details__items-list__item__value",children:[i," kg"]})]},n))})]})},it=()=>{const{caloriesToLose:e}=F();if(!e)return null;const t=Object.entries(e).map(([n,i])=>n==="dailyIntakes"?["daily intakes",i]:[n,i]);return d("section",{className:"profile-details__items-list",children:[r("h2",{className:"profile-details__items-list__title",children:"Expendable Energy"}),r("ul",{className:"profile-details__items-list__items-container",children:t.map(([n,i])=>d("li",{className:"profile-details__items-list__item",children:[r("h3",{className:"profile-details__items-list__item__title",children:n}),r("p",{className:"profile-details__items-list__item__value",children:i})]},n))})]})},ne=({title:e,time:t})=>{const n=Object.entries(t);return d("section",{className:"profile-details__goal-calender",children:[r("h2",{className:"profile-details__goal-calender__title",children:e}),r("div",{className:"profile-details__goal-calender__list",children:n.map(([i,a])=>d("div",{className:"profile-details__goal-calender__list__item",children:[r("div",{className:"profile-details__goal-calender__list__item__value-cotnainer",children:r("h4",{children:a})}),r(Fe,{className:"profile-details__goal-calender__list__item__footer",children:r("h4",{children:i})})]},i))})]})},rt=()=>{var u,h;const{user:e,updateUser:t,setIsEditing:n}=F(),i={username:(e==null?void 0:e.username)||"",fullname:(e==null?void 0:e.fullname)||"",birthdate:(e==null?void 0:e.birthdate)||new Date,height:(e==null?void 0:e.height)||0,weight:(e==null?void 0:e.weight)||0,totalDailyEnergyExpenditure:(e==null?void 0:e.totalDailyEnergyExpenditure)||0,targetCaloricIntakePerDay:(e==null?void 0:e.targetCaloricIntakePerDay)||0,weightGoal:(e==null?void 0:e.weightLossGoal)||ye.getUtilWeightLossGoal()},{control:a,handleSubmit:o}=We({defaultValues:i});if(!e)return null;function s(){n(!1)}function l(c){if(!e)return;const m={...e,...c};t(m),n(!1)}return d("form",{className:"user-edit-form",onSubmit:o(l),children:[d("div",{className:"user-edit__item-container",children:[r("label",{htmlFor:"username",children:"user name:"}),r(O,{name:"username",control:a,render:({field:c})=>r("input",{id:"username",...c})})]}),d("div",{className:"user-edit__item-container",children:[r("label",{htmlFor:"fullname",children:"full name:"}),r(O,{name:"fullname",control:a,render:({field:c})=>r("input",{id:"fullname",...c})})]}),d("div",{className:"user-edit__item-container",children:[r("label",{htmlFor:"birthdate",children:"birthdate:"}),r(O,{name:"birthdate",control:a,render:({field:c})=>r("input",{id:"birthdate",type:"date",value:new Date(c.value).toISOString().split("T")[0],onChange:m=>c.onChange(new Date(m.target.value))})})]}),d("div",{className:"user-edit__item-container",children:[r("label",{htmlFor:"height",children:"height:"}),r(O,{name:"height",control:a,render:({field:c})=>r("input",{id:"height",type:"number",...c})})]}),d("div",{className:"user-edit__item-container",children:[r("label",{htmlFor:"weight",children:"weight:"}),r(O,{name:"weight",control:a,render:({field:c})=>r("input",{id:"weight",type:"number",...c})})]}),d("div",{className:"user-edit__item-container",children:[r("label",{htmlFor:"startingWeight",children:"goal weight - current:"}),r(O,{name:"weightLossGoal.startingWeight",control:a,defaultValue:(u=e.weightLossGoal)==null?void 0:u.startingWeight,render:({field:c})=>r("input",{id:"startingWeight",type:"number",...c})})]}),d("div",{className:"user-edit__item-container",children:[r("label",{htmlFor:"weightGoal",children:"goal weight - goal:"}),r(O,{name:"weightLossGoal.weightGoal",control:a,defaultValue:(h=e.weightLossGoal)==null?void 0:h.weightGoal,render:({field:c})=>r("input",{id:"weightGoal",type:"number",...c})})]}),d("div",{className:"user-edit__btns-container",children:[r(Y,{onClickFn:s,children:"cancel"}),r(Y,{type:"submit",children:"update"})]})]})},nt=()=>{const{weightToLose:e}=F();return d("section",{className:"profile-details__items-list",children:[r("h2",{className:"profile-details__items-list__title",children:"Weight To Lose"}),r("ul",{className:"profile-details__items-list__items-container",children:r("li",{className:"profile-details__items-list__item",children:d("p",{className:"profile-details__items-list__item__value",children:[e," kg"]})})})]})},dt=()=>{const{user:e,isLoading:t,isSuccess:n,isError:i,timeToMaxRecommendedWeight:a,timeToCurrentWeightLossGoal:o,isEditing:s}=F();return t?r(ae,{withContainer:!0,containerSize:{width:"100%"}}):i?r(oe,{msg:"Something went wrong"}):!n||!e?null:d("main",{className:"page profile-details",children:[s?r(rt,{}):r(et,{}),r(Ze,{}),r(ve,{}),o&&r(ne,{title:"time to current weight loss goal",time:o}),r(tt,{}),r(nt,{}),r(it,{}),a&&r(ne,{title:"time to max recommended weight",time:a}),r(ge,{})]})};export{dt as default};

import{J as m,l as t,j as e,B as u,K as y,S as w,G as v,O as D}from"./index-70737fbf.js";import{E as b}from"./ErrorMsg-61856be2.js";import{W as E,G as C}from"./GoalEdit-608bf041.js";import{F as G}from"./Footer-7a35865e.js";import{u as F,C as _}from"./index.esm-77f883e2.js";import"./index-f7cfff3f.js";import"./generateCategoricalChart-b18f5f09.js";const W=()=>{const{user:i,userDailyStats:l,count:a,setIsEditing:r}=m();if(!i||!l)return null;const{username:s,fullname:c,birthdate:d,height:h,weight:n,totalDailyEnergyExpenditure:o,targetCaloricIntakePerDay:p}=i;function f(){r(!0)}function N(){return!l||!a?0:((l[0].weight-l[l.length-1].weight)/a).toFixed(2)}return t("section",{className:"profile-details__user-info",children:[t("div",{className:"user-info__item-container",children:[e("h2",{children:"User name:"}),e("p",{children:s})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Full name:"}),e("p",{children:c})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Birth date:"}),e("p",{children:new Date(d).toLocaleDateString()})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Height:"}),e("p",{children:`${h} cm`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Weight:"}),e("p",{children:`${n} kg`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Total Daily Energy Expenditure:"}),e("p",{children:`${o} kcal`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Target Caloric Intake Per Day:"}),e("p",{children:`${p} kcal`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"days in process:"}),e("p",{children:a})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"weight loss per day:"}),e("p",{children:N()})]}),e(u,{className:"user-info__edit-btn",onClickFn:f,children:"Edit"})]})},k=()=>{const{recommendedWeight:i}=m();if(!i)return null;const l=Object.entries(i);return t("section",{className:"profile-details__items-list",children:[e("h2",{className:"profile-details__items-list__title",children:"Recommended Weight"}),e("ul",{className:"profile-details__items-list__items-container",children:l.map(([a,r])=>t("li",{className:"profile-details__items-list__item",children:[e("h3",{className:"profile-details__items-list__item__title",children:a}),t("p",{className:"profile-details__items-list__item__value",children:[r," kg"]})]},a))})]})},g=({title:i,time:l})=>{const a=Object.entries(l);return t("section",{className:"profile-details__goal-calender",children:[e("h2",{className:"profile-details__goal-calender__title",children:i}),e("div",{className:"profile-details__goal-calender__list",children:a.map(([r,s])=>t("div",{className:"profile-details__goal-calender__list__item",children:[e("div",{className:"profile-details__goal-calender__list__item__value-cotnainer",children:e("h4",{children:s})}),e(G,{className:"profile-details__goal-calender__list__item__footer",children:e("h4",{children:r})})]},r))})]})},S=()=>{const{user:i,updateUser:l,setIsEditing:a}=m(),r={username:(i==null?void 0:i.username)||"",fullname:(i==null?void 0:i.fullname)||"",birthdate:(i==null?void 0:i.birthdate)||new Date,height:(i==null?void 0:i.height)||0,weight:(i==null?void 0:i.weight)||0,totalDailyEnergyExpenditure:(i==null?void 0:i.totalDailyEnergyExpenditure)||0,targetCaloricIntakePerDay:(i==null?void 0:i.targetCaloricIntakePerDay)||0},{control:s,handleSubmit:c}=F({defaultValues:r});if(!i)return null;function d(){a(!1)}function h(n){if(!i)return;const o={...i,...n};l(o),a(!1)}return t("form",{className:"user-edit-form",onSubmit:c(h),children:[t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"username",children:"user name:"}),e(_,{name:"username",control:s,render:({field:n})=>e("input",{id:"username",...n})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"fullname",children:"full name:"}),e(_,{name:"fullname",control:s,render:({field:n})=>e("input",{id:"fullname",...n})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"birthdate",children:"birthdate:"}),e(_,{name:"birthdate",control:s,render:({field:n})=>e("input",{id:"birthdate",type:"date",value:new Date(n.value).toISOString().split("T")[0],onChange:o=>n.onChange(new Date(o.target.value))})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"height",children:"height:"}),e(_,{name:"height",control:s,render:({field:n})=>e("input",{id:"height",type:"number",...n})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"weight",children:"weight:"}),e(_,{name:"weight",control:s,render:({field:n})=>e("input",{id:"weight",type:"number",...n})})]}),t("div",{className:"user-edit__btns-container",children:[e(u,{onClickFn:d,children:"cancel"}),e(u,{type:"submit",children:"update"})]})]})},I=()=>{const{weightToLose:i}=m();if(!i)return null;const l=Object.entries(i);return t("section",{className:"profile-details__items-list",children:[e("h2",{className:"profile-details__items-list__title",children:"Weight To Lose"}),e("ul",{className:"profile-details__items-list__items-container",children:l.map(([a,r])=>t("li",{className:"profile-details__items-list__item",children:[e("h3",{className:"profile-details__items-list__item__title",children:a}),t("p",{className:"profile-details__items-list__item__value",children:[r," kg"]})]},a))})]})};const L=()=>{const{userGoal:i,setIsGoalEditing:l}=m();if(!i)return null;const{userWeightLossGoal:{startingWeight:a,weightGoal:r},date:s}=i,c=new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"numeric",day:"numeric"}).format(new Date(s));return t("section",{className:"user-display-goal",children:[t(y,{className:"user-display-goal__header",children:[e("h1",{className:"user-display-goal__header__title",children:"your goal"}),e("div",{className:"user-display-goal__header__date",children:c})]}),t("div",{className:"user-display-goal__info",children:[t("div",{className:"user-display-goal__info__row",children:[t("span",{className:"user-display-goal__info__row__value",children:[a," kg"]}),e("span",{className:"user-display-goal__info__row__title",children:"starting weight"})]}),t("div",{className:"user-display-goal__info__row",children:[t("span",{className:"user-display-goal__info__row__value",children:[r," kg"]}),e("span",{className:"user-display-goal__info__row__title",children:"goal weight"})]})]}),e(u,{className:"user-display-goal__btn",onClickFn:()=>l(!0),children:"edit"})]})},R=()=>{const{user:i,userDailyStats:l,isLoading:a,isSuccess:r,isError:s,timeToMaxRecommendedWeight:c,timeToCurrentWeightLossGoal:d,isEditing:h,isGoalEditing:n,setIsGoalEditing:o}=m();return a?e(w,{containerSize:{width:"100%"}}):s?e(b,{msg:"Something went wrong"}):!r||!i?null:t("main",{className:"page profile-details",children:[h?e(S,{}):e(W,{}),l&&e(E,{data:l}),n?e(C,{type:"user",setIsGoalEditing:o}):e(L,{}),e(v,{}),d&&e(g,{title:"time to current weight loss goal",time:d}),e(k,{}),e(I,{}),c&&e(g,{title:"time to max recommended weight",time:c}),e(D,{})]})};export{R as default};

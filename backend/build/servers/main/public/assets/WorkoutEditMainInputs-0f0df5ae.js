import{r as d,j as t,k as a,F as S,i as f,P as m,z as v}from"./index-f7e89679.js";function b(e,i=!0,n=[]){const c=d.useRef(null);return d.useEffect(()=>{function s(o){var l;const u=(l=o==null?void 0:o.target)==null?void 0:l.id;n.includes(u)||c.current&&!c.current.contains(o.target)&&e()}return document.addEventListener("click",s,i),()=>document.removeEventListener("click",s,i)},[e,i,n]),{outsideClickRef:c}}const g=d.createContext(void 0);function h(){const e=d.useContext(g);if(e===void 0)throw new Error("useSelect must be used within a Select");return e}function _(e,i){var p;const n=(p=e.current)==null?void 0:p.getBoundingClientRect();return n?{position:"absolute",...window.innerHeight-n.top<i?{bottom:0}:{top:0},left:"50%",transform:"translateX(-50%)"}:null}const r=({children:e,onChange:i,listHeight:n})=>{const[c,s]=d.useState(!1),[o,u]=d.useState(null),l={isOpen:c,setIsOpen:s,onChange:i,listHeight:n,position:o,setPosition:u};return t(g.Provider,{value:l,children:t("div",{style:{position:"relative"},children:e})})},C=({children:e})=>{const{isOpen:i,setIsOpen:n,listHeight:c,setPosition:s}=h(),o=d.useRef(null);function u(){i||l(),n(p=>!p)}function l(){const p=_(o,c);p&&s(p)}return d.cloneElement(e,{id:"select-trigger",className:"select-trigger",onClick:u,ref:o})},I=({children:e})=>{const{isOpen:i,setIsOpen:n,position:c}=h(),{outsideClickRef:s}=b(o,!0,["select-trigger"]);function o(){n(!1)}return i?t("ul",{style:{...c},className:"select-list",ref:s,children:e}):null},E=({value:e,children:i})=>{const{onChange:n,setIsOpen:c}=h();function s(){n(e),c(!1)}return t("li",{className:"select-list__item",onClick:s,children:i})};r.SelectTrigger=C;r.SelectList=I;r.SelectItem=E;const k=({workout:e,handleTypeSelectChange:i,handleDurationInputChange:n,handleDescInputChange:c,handleSplitSelectChange:s})=>{const o=e&&(e==null?void 0:e.type)==="anaerobic",u=250;return a(S,{children:[a("div",{className:"workout-edit__form__input-container name-input",children:[t("label",{htmlFor:"description-input",children:"description:"}),t("input",{id:"description-input",type:"text",defaultValue:e.description,onChange:f(c,u).debouncedFunc})]}),n&&a("div",{className:"workout-edit__form__input-container name-input",children:[t("label",{htmlFor:"duration-input",children:"duration:"}),t("input",{id:"duration-input",type:"number",defaultValue:e.durationInMin,onChange:f(n,u).debouncedFunc})]}),a("div",{className:"workout-edit__form__input-container",children:[t("label",{children:"workout type:"}),a(r,{onChange:i,listHeight:250,children:[t(r.SelectTrigger,{children:a("div",{children:[t("span",{"data-testid":"workout-type",children:e.type}),t(m,{})]})}),a(r.SelectList,{children:[t(r.SelectItem,{value:"anaerobic",children:"anaerobic"}),t(r.SelectItem,{value:"aerobic",children:"aerobic"})]})]})]}),o&&a("div",{className:"workout-edit__form__input-container",children:[t("label",{children:"split:"}),a(r,{onChange:s,listHeight:250,children:[t(r.SelectTrigger,{children:a("div",{children:[t("span",{children:e.split}),t(m,{})]})}),t(r.SelectList,{children:v.SPLIT_TYPES.map(l=>t(r.SelectItem,{value:l,children:l},l))})]})]})]})};export{r as S,k as W,b as u};

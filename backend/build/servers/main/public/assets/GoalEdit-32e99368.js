import{R as m,r as x,q as Re,l as G,F as Pe,j as _,B as U,s as Ce,m as Ne,o as Le,Y as ze,S as $e}from"./index-b957812d.js";import{c as ee}from"./index-1cc43225.js";import{I as Ie,J as Te,x as ae,K as X,d as Z,f as q,q as Q,u as He,D as Ge,s as Fe,L as oe,C as Me,A as Be,n as V,o as Ve,k as se,M as Ke,r as qe,G as Ue,l as Se,N as ve,O as Ye,z as Xe,H as Qe,E as Je,P as Ze}from"./generateCategoricalChart-168f65a0.js";var le=function(e,r){return le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},le(e,r)};function et(e,r){le(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}function tt(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)r.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(n[t[i]]=e[t[i]]);return n}var rt=function(e,r,n,t){switch(r){case"debounce":return Te(e,n,t);case"throttle":return Ie(e,n,t);default:return e}},me=function(e){return typeof e=="function"},K=function(){return typeof window>"u"},ge=function(e){return e instanceof Element||e instanceof HTMLDocument},nt=function(e,r,n){return function(t){var i=t.width,a=t.height;e(function(o){return o.width===i&&o.height===a||o.width===i&&!n||o.height===a&&!r?o:{width:i,height:a}})}},it=function(e){et(r,e);function r(n){var t=e.call(this,n)||this;t.cancelHandler=function(){t.resizeHandler&&t.resizeHandler.cancel&&(t.resizeHandler.cancel(),t.resizeHandler=null)},t.attachObserver=function(){var u=t.props,s=u.targetRef,h=u.observerOptions;if(!K()){s&&s.current&&(t.targetRef.current=s.current);var c=t.getElement();c&&(t.observableElement&&t.observableElement===c||(t.observableElement=c,t.resizeObserver.observe(c,h)))}},t.getElement=function(){var u=t.props,s=u.querySelector,h=u.targetDomEl;if(K())return null;if(s)return document.querySelector(s);if(h&&ge(h))return h;if(t.targetRef&&ge(t.targetRef.current))return t.targetRef.current;var c=Re.findDOMNode(t);if(!c)return null;var y=t.getRenderType();switch(y){case"renderProp":return c;case"childFunction":return c;case"child":return c;case"childArray":return c;default:return c.parentElement}},t.createResizeHandler=function(u){var s=t.props,h=s.handleWidth,c=h===void 0?!0:h,y=s.handleHeight,d=y===void 0?!0:y,p=s.onResize;if(!(!c&&!d)){var v=nt(function(g){return t.setState(g,function(){return p==null?void 0:p(t.state.width,t.state.height)})},c,d);u.forEach(function(g){var b=g&&g.contentRect||{},O=b.width,P=b.height,W=!t.skipOnMount&&!K();W&&v({width:O,height:P}),t.skipOnMount=!1})}},t.getRenderType=function(){var u=t.props,s=u.render,h=u.children;return me(s)?"renderProp":me(h)?"childFunction":x.isValidElement(h)?"child":Array.isArray(h)?"childArray":"parent"};var i=n.skipOnMount,a=n.refreshMode,o=n.refreshRate,l=o===void 0?1e3:o,f=n.refreshOptions;return t.state={width:void 0,height:void 0},t.skipOnMount=i,t.targetRef=x.createRef(),t.observableElement=null,K()||(t.resizeHandler=rt(t.createResizeHandler,a,l,f),t.resizeObserver=new window.ResizeObserver(t.resizeHandler)),t}return r.prototype.componentDidMount=function(){this.attachObserver()},r.prototype.componentDidUpdate=function(){this.attachObserver()},r.prototype.componentWillUnmount=function(){K()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},r.prototype.render=function(){var n=this.props,t=n.render,i=n.children,a=n.nodeType,o=a===void 0?"div":a,l=this.state,f=l.width,u=l.height,s={width:f,height:u,targetRef:this.targetRef},h=this.getRenderType();switch(h){case"renderProp":return t==null?void 0:t(s);case"childFunction":{var c=i;return c==null?void 0:c(s)}case"child":{var y=i;if(y.type&&typeof y.type=="string"){s.targetRef;var d=tt(s,["targetRef"]);return x.cloneElement(y,d)}return x.cloneElement(y,s)}case"childArray":{var p=i;return p.map(function(v){return!!v&&x.cloneElement(v,s)})}default:return m.createElement(o,null)}},r}(x.PureComponent);function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},ue.apply(this,arguments)}function at(e,r){return ut(e)||lt(e,r)||st(e,r)||ot()}function ot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function st(e,r){if(e){if(typeof e=="string")return be(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,r)}}function be(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function lt(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var t,i,a,o,l=[],f=!0,u=!1;try{if(a=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(t=a.call(n)).done)&&(l.push(t.value),l.length!==r);f=!0);}catch(s){u=!0,i=s}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ut(e){if(Array.isArray(e))return e}var ct=x.forwardRef(function(e,r){var n=e.aspect,t=e.initialDimension,i=t===void 0?{width:-1,height:-1}:t,a=e.width,o=a===void 0?"100%":a,l=e.height,f=l===void 0?"100%":l,u=e.minWidth,s=u===void 0?0:u,h=e.minHeight,c=e.maxHeight,y=e.children,d=e.debounce,p=d===void 0?0:d,v=e.id,g=e.className,b=e.onResize,O=x.useState({containerWidth:i.width,containerHeight:i.height}),P=at(O,2),W=P[0],D=P[1],j=x.useRef(null);x.useImperativeHandle(r,function(){return j},[j]);var R=x.useCallback(function(){return j.current?{containerWidth:j.current.clientWidth,containerHeight:j.current.clientHeight}:null},[]),T=x.useCallback(function(){var S=R();if(S){var w=S.containerWidth,E=S.containerHeight;b&&b(w,E),D(function(A){var $=A.containerWidth,L=A.containerHeight;return w!==$||E!==L?{containerWidth:w,containerHeight:E}:A})}},[R,b]),N=x.useMemo(function(){var S=W.containerWidth,w=W.containerHeight;if(S<0||w<0)return null;ae(X(o)||X(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,f),ae(!n||n>0,"The aspect(%s) must be greater than zero.",n);var E=X(o)?S:o,A=X(f)?w:f;return n&&n>0&&(E?A=E/n:A&&(E=A*n),c&&A>c&&(A=c)),ae(E>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,A,o,f,s,h,n),x.cloneElement(y,{width:E,height:A})},[n,y,f,c,h,s,W,o]);x.useEffect(function(){var S=R();S&&D(S)},[R]);var z={width:o,height:f,minWidth:s,minHeight:h,maxHeight:c};return m.createElement(it,{handleWidth:!0,handleHeight:!0,onResize:T,targetRef:j,refreshMode:p>0?"debounce":void 0,refreshRate:p},m.createElement("div",ue({},v!=null?{id:"".concat(v)}:{},{className:ee("recharts-responsive-container",g),style:z,ref:j}),N))}),ft=["x1","y1","x2","y2","key"];function F(e){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},F(e)}function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},ce.apply(this,arguments)}function ht(e,r){if(e==null)return{};var n=dt(e,r),t,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function dt(e,r){if(e==null)return{};var n={},t=Object.keys(e),i,a;for(a=0;a<t.length;a++)i=t[a],!(r.indexOf(i)>=0)&&(n[i]=e[i]);return n}function we(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,t)}return n}function J(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?we(Object(n),!0).forEach(function(t){pe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pt(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Oe(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,Ee(t.key),t)}}function yt(e,r,n){return r&&Oe(e.prototype,r),n&&Oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vt(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&fe(e,r)}function fe(e,r){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},fe(e,r)}function mt(e){var r=wt();return function(){var t=te(e),i;if(r){var a=te(this).constructor;i=Reflect.construct(t,arguments,a)}else i=t.apply(this,arguments);return gt(this,i)}}function gt(e,r){if(r&&(F(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bt(e)}function bt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},te(e)}function pe(e,r,n){return r=Ee(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ee(e){var r=Ot(e,"string");return F(r)==="symbol"?r:String(r)}function Ot(e,r){if(F(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(F(t)!=="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ye=function(e){vt(n,e);var r=mt(n);function n(){return pt(this,n),r.apply(this,arguments)}return yt(n,[{key:"renderHorizontal",value:function(i){var a=this,o=this.props,l=o.x,f=o.width,u=o.horizontal;if(!i||!i.length)return null;var s=i.map(function(h,c){var y=J(J({},a.props),{},{x1:l,y1:h,x2:l+f,y2:h,key:"line-".concat(c),index:c});return n.renderLineItem(u,y)});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}},{key:"renderVertical",value:function(i){var a=this,o=this.props,l=o.y,f=o.height,u=o.vertical;if(!i||!i.length)return null;var s=i.map(function(h,c){var y=J(J({},a.props),{},{x1:h,y1:l,x2:h,y2:l+f,key:"line-".concat(c),index:c});return n.renderLineItem(u,y)});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}},{key:"renderVerticalStripes",value:function(i){var a=this.props.verticalFill;if(!a||!a.length)return null;var o=this.props,l=o.fillOpacity,f=o.x,u=o.y,s=o.width,h=o.height,c=i.map(function(d){return Math.round(d+f-f)}).sort(function(d,p){return d-p});f!==c[0]&&c.unshift(0);var y=c.map(function(d,p){var v=!c[p+1],g=v?f+s-d:c[p+1]-d;if(g<=0)return null;var b=p%a.length;return m.createElement("rect",{key:"react-".concat(p),x:d,y:u,width:g,height:h,stroke:"none",fill:a[b],fillOpacity:l,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},y)}},{key:"renderHorizontalStripes",value:function(i){var a=this.props.horizontalFill;if(!a||!a.length)return null;var o=this.props,l=o.fillOpacity,f=o.x,u=o.y,s=o.width,h=o.height,c=i.map(function(d){return Math.round(d+u-u)}).sort(function(d,p){return d-p});u!==c[0]&&c.unshift(0);var y=c.map(function(d,p){var v=!c[p+1],g=v?u+h-d:c[p+1]-d;if(g<=0)return null;var b=p%a.length;return m.createElement("rect",{key:"react-".concat(p),y:d,x:f,height:g,width:s,stroke:"none",fill:a[b],fillOpacity:l,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},y)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var a=this.props,o=a.fillOpacity,l=a.x,f=a.y,u=a.width,s=a.height;return m.createElement("rect",{x:l,y:f,width:u,height:s,stroke:"none",fill:i,fillOpacity:o,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,a=i.x,o=i.y,l=i.width,f=i.height,u=i.horizontal,s=i.vertical,h=i.horizontalCoordinatesGenerator,c=i.verticalCoordinatesGenerator,y=i.xAxis,d=i.yAxis,p=i.offset,v=i.chartWidth,g=i.chartHeight;if(!Q(l)||l<=0||!Q(f)||f<=0||!Q(a)||a!==+a||!Q(o)||o!==+o)return null;var b=this.props,O=b.horizontalPoints,P=b.verticalPoints;return(!O||!O.length)&&Z(h)&&(O=h({yAxis:d,width:v,height:g,offset:p})),(!P||!P.length)&&Z(c)&&(P=c({xAxis:y,width:v,height:g,offset:p})),m.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),u&&this.renderHorizontal(O),s&&this.renderVertical(P),u&&this.renderHorizontalStripes(O),s&&this.renderVerticalStripes(P))}}],[{key:"renderLineItem",value:function(i,a){var o;if(m.isValidElement(i))o=m.cloneElement(i,a);else if(Z(i))o=i(a);else{var l=a.x1,f=a.y1,u=a.x2,s=a.y2,h=a.key,c=ht(a,ft);o=m.createElement("line",ce({},q(c),{x1:l,y1:f,x2:u,y2:s,fill:"none",key:h}))}return o}}]),n}(x.PureComponent);pe(ye,"displayName","CartesianGrid");pe(ye,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var xt=["type","layout","connectNulls","ref"];function M(e){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},M(e)}function At(e,r){if(e==null)return{};var n=_t(e,r),t,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function _t(e,r){if(e==null)return{};var n={},t=Object.keys(e),i,a;for(a=0;a<t.length;a++)i=t[a],!(r.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},Y.apply(this,arguments)}function xe(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,t)}return n}function k(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?xe(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function H(e){return Dt(e)||Et(e)||St(e)||Pt()}function Pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(e,r){if(e){if(typeof e=="string")return he(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,r)}}function Et(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dt(e){if(Array.isArray(e))return he(e)}function he(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function jt(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ae(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,De(t.key),t)}}function kt(e,r,n){return r&&Ae(e.prototype,r),n&&Ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wt(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&de(e,r)}function de(e,r){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},de(e,r)}function Rt(e){var r=Nt();return function(){var t=re(e),i;if(r){var a=re(this).constructor;i=Reflect.construct(t,arguments,a)}else i=t.apply(this,arguments);return Ct(this,i)}}function Ct(e,r){if(r&&(M(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function I(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},re(e)}function C(e,r,n){return r=De(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function De(e){var r=Lt(e,"string");return M(r)==="symbol"?r:String(r)}function Lt(e,r){if(M(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(M(t)!=="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var B=function(e){Wt(n,e);var r=Rt(n);function n(){var t;jt(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=r.call.apply(r,[this].concat(a)),C(I(t),"state",{isAnimationFinished:!0,totalLength:0}),C(I(t),"getStrokeDasharray",function(l,f,u){for(var s=u.reduce(function(b,O){return b+O}),h=Math.floor(l/s),c=l%s,y=f-l,d=[],p=0,v=0;;v+=u[p],++p)if(v+u[p]>c){d=[].concat(H(u.slice(0,p)),[c-v]);break}var g=d.length%2===0?[0,y]:[y];return[].concat(H(n.repeat(u,h)),H(d),g).map(function(b){return"".concat(b,"px")}).join(", ")}),C(I(t),"id",He("recharts-line-")),C(I(t),"pathRef",function(l){t.mainCurve=l}),C(I(t),"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),C(I(t),"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return kt(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,f=o.xAxis,u=o.yAxis,s=o.layout,h=o.children,c=Fe(h,Ye);if(!c)return null;var y=function(v,g){return{x:v.x,y:v.y,value:v.value,errorVal:Se(v.payload,g)}},d={clipPath:i?"url(#clipPath-".concat(a,")"):null};return m.createElement(oe,d,c.map(function(p,v){return m.cloneElement(p,{key:"bar-".concat(v),data:l,xAxis:f,yAxis:u,layout:s,dataPointFormatter:y})}))}},{key:"renderDots",value:function(i,a,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var f=this.props,u=f.dot,s=f.points,h=f.dataKey,c=q(this.props),y=q(u,!0),d=s.map(function(v,g){var b=k(k(k({key:"dot-".concat(g),r:3},c),y),{},{value:v.value,dataKey:h,cx:v.x,cy:v.y,index:g,payload:v.payload});return n.renderDotItem(u,b)}),p={clipPath:i?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return m.createElement(oe,Y({className:"recharts-line-dots",key:"dots"},p),d)}},{key:"renderCurveStatically",value:function(i,a,o,l){var f=this.props,u=f.type,s=f.layout,h=f.connectNulls;f.ref;var c=At(f,xt),y=k(k(k({},q(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:i},l),{},{type:u,layout:s,connectNulls:h});return m.createElement(Me,Y({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,a){var o=this,l=this.props,f=l.points,u=l.strokeDasharray,s=l.isAnimationActive,h=l.animationBegin,c=l.animationDuration,y=l.animationEasing,d=l.animationId,p=l.animateNewValues,v=l.width,g=l.height,b=this.state,O=b.prevPoints,P=b.totalLength;return m.createElement(Be,{begin:h,duration:c,isActive:s,easing:y,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(W){var D=W.t;if(O){var j=O.length/f.length,R=f.map(function(w,E){var A=Math.floor(E*j);if(O[A]){var $=O[A],L=V($.x,w.x),je=V($.y,w.y);return k(k({},w),{},{x:L(D),y:je(D)})}if(p){var ke=V(v*2,w.x),We=V(g/2,w.y);return k(k({},w),{},{x:ke(D),y:We(D)})}return k(k({},w),{},{x:w.x,y:w.y})});return o.renderCurveStatically(R,i,a)}var T=V(0,P),N=T(D),z;if(u){var S="".concat(u).split(/[,\s]+/gim).map(function(w){return parseFloat(w)});z=o.getStrokeDasharray(N,P,S)}else z="".concat(N,"px ").concat(P-N,"px");return o.renderCurveStatically(f,i,a,{strokeDasharray:z})})}},{key:"renderCurve",value:function(i,a){var o=this.props,l=o.points,f=o.isAnimationActive,u=this.state,s=u.prevPoints,h=u.totalLength;return f&&l&&l.length&&(!s&&h>0||!Ve(s,l))?this.renderCurveWithAnimation(i,a):this.renderCurveStatically(l,i,a)}},{key:"render",value:function(){var i,a=this.props,o=a.hide,l=a.dot,f=a.points,u=a.className,s=a.xAxis,h=a.yAxis,c=a.top,y=a.left,d=a.width,p=a.height,v=a.isAnimationActive,g=a.id;if(o||!f||!f.length)return null;var b=this.state.isAnimationFinished,O=f.length===1,P=ee("recharts-line",u),W=s&&s.allowDataOverflow,D=h&&h.allowDataOverflow,j=W||D,R=se(g)?this.id:g,T=(i=q(l))!==null&&i!==void 0?i:{r:3,strokeWidth:2},N=T.r,z=N===void 0?3:N,S=T.strokeWidth,w=S===void 0?2:S,E=Ke(l)?l:{},A=E.clipDot,$=A===void 0?!0:A,L=z*2+w;return m.createElement(oe,{className:P},W||D?m.createElement("defs",null,m.createElement("clipPath",{id:"clipPath-".concat(R)},m.createElement("rect",{x:W?y:y-d/2,y:D?c:c-p/2,width:W?d:d*2,height:D?p:p*2})),!$&&m.createElement("clipPath",{id:"clipPath-dots-".concat(R)},m.createElement("rect",{x:y-L/2,y:c-L/2,width:d+L,height:p+L}))):null,!O&&this.renderCurve(j,R),this.renderErrorBar(j,R),(O||l)&&this.renderDots(j,$,R),(!v||b)&&qe.renderCallByParent(this.props,f))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:a.curPoints}:i.points!==a.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,a){for(var o=i.length%2!==0?[].concat(H(i),[0]):i,l=[],f=0;f<a;++f)l=[].concat(H(l),H(o));return l}},{key:"renderDotItem",value:function(i,a){var o;if(m.isValidElement(i))o=m.cloneElement(i,a);else if(Z(i))o=i(a);else{var l=ee("recharts-line-dot",i?i.className:"");o=m.createElement(Ge,Y({},a,{className:l}))}return o}}]),n}(x.PureComponent);C(B,"displayName","Line");C(B,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ue.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});C(B,"getComposedData",function(e){var r=e.props,n=e.xAxis,t=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,f=e.displayedData,u=e.offset,s=r.layout,h=f.map(function(c,y){var d=Se(c,o);return s==="horizontal"?{x:ve({axis:n,ticks:i,bandSize:l,entry:c,index:y}),y:se(d)?null:t.scale(d),value:d,payload:c}:{x:se(d)?null:n.scale(d),y:ve({axis:t,ticks:a,bandSize:l,entry:c,index:y}),value:d,payload:c}});return k({points:h,layout:s},u)});var ne=function(){return null};ne.displayName="XAxis";ne.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var ie=function(){return null};ie.displayName="YAxis";ie.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var zt=Xe({chartName:"LineChart",GraphicalChild:B,axisComponents:[{axisType:"xAxis",AxisComp:ne},{axisType:"yAxis",AxisComp:ie}],formatAxisMap:Qe});const Ft=({data:e})=>{const[r,n]=x.useState("weight"),t=r==="all"||r==="weight",i=r==="all"||r==="waist";if(!e)return null;const a=e.map(u=>({...u,date:new Intl.DateTimeFormat("en-GB",{month:"numeric",day:"numeric",year:"2-digit"}).format(new Date(u.date))})),o=e.reduce((u,s)=>s.weight<u?s.weight:u,1/0),l=e.reduce((u,s)=>s.weight>u?s.weight:u,-1/0);return G(Pe,{children:[_("div",{className:"weight-waist-chart-container",style:{width:"100%",maxWidth:1200,height:300},children:_(ct,{children:G(zt,{data:a,margin:{top:25,right:35,left:0,bottom:10},style:{backgroundColor:"white",borderRadius:10,boxShadow:"0 0 10px rgba(0,0,0,0.5)",display:"flex"},children:[_(ye,{strokeDasharray:"4 1"}),_(ne,{dataKey:"date"}),_(ie,{domain:[o,l]}),_(Je,{}),_(Ze,{}),t&&_(B,{type:"monotone",dataKey:"weight",stroke:"#ab1010"}),i&&_(B,{type:"monotone",dataKey:"waist",stroke:"#6543ff"})]})})}),G("div",{className:"weight-waist-btn-container",children:[_(U,{onClickFn:()=>n("all"),className:r==="all"?"active":"",children:"All"}),_(U,{onClickFn:()=>n("weight"),className:r==="weight"?"active":"",children:"Weight"}),_(U,{onClickFn:()=>n("waist"),className:r==="waist"?"active":"",children:"Waist"})]})]})};function $t(e){const r={id:Ce(),userId:"",description:"",type:e,isCompleted:!1,date:new Date};return e!=="user"?{...r,type:e}:{...r,userWeightLossGoal:{startingWeight:0,weightGoal:0}}}const _e={getDefaultGoal:$t};function It(){const e=Ne(),{mutate:r,isLoading:n}=Le({mutationFn:ze.addGoal,onSuccess:()=>{e.invalidateQueries(["goals"])}});return{addGoal:r,isLoading:n}}const Mt=({type:e,setIsGoalEditing:r})=>{const{addGoal:n,isLoading:t}=It(),[i,a]=x.useState(_e.getDefaultGoal(e));function o(s){s.preventDefault(),a({...i,description:s.target.value})}function l(s){if(s.preventDefault(),!("userWeightLossGoal"in i))return;const h=Number(s.target.valueAsNumber);a({...i,userWeightLossGoal:{...i.userWeightLossGoal,startingWeight:h}})}function f(s){if(s.preventDefault(),!("userWeightLossGoal"in i))return;const h=Number(s.target.valueAsNumber);a({...i,userWeightLossGoal:{...i.userWeightLossGoal,weightGoal:h}})}function u(){n(i),a(_e.getDefaultGoal(e)),r==null||r(!1)}return t?_($e,{containerSize:{height:"50px"}}):G("form",{className:"goal-edit",children:[e==="user"?G(Pe,{children:[_("input",{type:"number",className:"goal-edit__input",placeholder:"Enter your starting waist",onChange:l}),_("input",{type:"number",className:"goal-edit__input",placeholder:"Enter your goal weight",onChange:f})]}):_("input",{type:"text",className:"goal-edit__input",placeholder:"Enter your goal description",value:i.description,onChange:o}),G("div",{className:"goal-edit__btns",children:[_(U,{className:ee("goal-edit__btns__btn ",{active:i.description||"userWeightLossGoal"in i&&i.userWeightLossGoal.startingWeight&&i.userWeightLossGoal.weightGoal}),isDisabled:!i.description||"userWeightLossGoal"in i&&!i.userWeightLossGoal.startingWeight&&!i.userWeightLossGoal.weightGoal,onClickFn:u,children:"Add Goal"}),r&&_(U,{className:"dismiss",onClickFn:()=>r(!1),children:"dismiss"})]})]})};export{ye as C,Mt as G,ct as R,Ft as W,ne as X,ie as Y};

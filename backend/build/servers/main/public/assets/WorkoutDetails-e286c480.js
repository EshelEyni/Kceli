import{a5 as p,r as u,j as t,G as I,m as c,B as _,a6 as R,a7 as T,D as B,S as F,F as S}from"./index-cfe9248a.js";import{E as M}from"./ErrorMsg-de8c4123.js";import{L as v}from"./List-9a629674.js";const x=({children:e})=>{const{isRunning:n}=p(),s=u.useRef(null),i=u.useRef(1),[o,l]=u.useState(C(1));return u.useEffect(()=>{const{current:r}=s;if(n){const a=setInterval(()=>{l(C(i.current)),i.current=i.current===100?0:i.current+1},10);s.current=a}else r&&clearInterval(r);return()=>{r&&clearInterval(r)}},[n]),t("div",{className:"seconds-circle",style:{background:o},children:e})};function C(e){return`radial-gradient(closest-side,  var(--color-background) 85%, transparent 87%),
        conic-gradient(var(--color-text-gray) ${e}%, var(--color-background-light) 0)`}const E=({children:e})=>{const{initialTime:n,time:s,isRunning:i}=p(),o=u.useRef(null),[l,r]=u.useState(k(1));return u.useEffect(()=>{const{current:a}=o;if(i){const d=setInterval(()=>{const g=Math.abs((s-n)*60)/(n*60)*100;r(k(g))},10);o.current=d}else a&&clearInterval(a);return()=>{a&&clearInterval(a)}},[i,n,s]),u.useEffect(()=>{const d=Math.abs((s-n)*60)/(n*60)*100;r(k(d))},[n,s]),t("div",{className:"item-duration-circle",style:{background:l},children:t("div",{className:"item-duration-circle__border",children:e})})};function k(e){return`conic-gradient(var(--color-info) ${Math.max(e,.25)}%, var(--color-background-light) 0)`}const L=({children:e})=>{const{duration:n,completedDuration:s}=p(),i=s/n*100,[o,l]=u.useState(y(i||1));return u.useEffect(()=>{const r=s/n*100;l(y(r))},[s,n]),t("div",{className:"total-duration-circle",style:{background:o},children:t("div",{className:"total-duration-circle__border",children:e})})};function y(e){return`conic-gradient(#6A0DAD ${Math.max(e,.25)}%, var(--color-background-light) 0)`}function V(e){return I({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"}}]})(e)}function W(e){return I({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"}}]})(e)}function z(e){return I({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 8v8h-3V8h3m0-3h-3C8.34 5 7 6.34 7 8v8c0 1.66 1.34 3 3 3h3c1.66 0 3-1.34 3-3V8c0-1.66-1.34-3-3-3zM1 8h2v11h3V5H1v3zm17.5 3c-.83 0-1.5.68-1.5 1.5v2c0 .82.67 1.5 1.5 1.5H21v1h-4v2h4.5c.83 0 1.5-.67 1.5-1.5v-2c0-.83-.67-1.5-1.5-1.5H19v-1h4v-2h-4.5z"}}]})(e)}const H=()=>{const{time:e,setTime:n,isRunning:s,setIsRunning:i,onResetTimer:o,setInitialTime:l}=p(),r=u.useRef(null),a=Math.floor(e/60).toString().padStart(2,"0"),d=Math.floor(e%60),m=(e%1*100).toFixed(0).padStart(2,"0").slice(-2);function g(){i(h=>!h)}function b(){n(0),l(0),i(!1)}function D(){n(h=>h+10),l(h=>h+10)}return u.useEffect(()=>{const h=new Audio("/assets/sounds/SamsungRingtoneSoundEffect.mp3"),{current:f}=r;if(s){const N=setInterval(()=>{n($=>$<=0?(h.play(),clearInterval(N),i(!1),0):$-.01)},10);r.current=N}else f&&clearInterval(f);return()=>{f&&clearInterval(f)}},[s,n,i]),c("section",{className:"timer",children:[t(L,{children:t(E,{children:t(x,{children:t("div",{className:"clock-wrapper",children:c("span",{className:"timer__count",children:[a,":",d<10?`0${d}`:d,".",m]})})})})}),c("div",{className:"timer__controls",children:[t(_,{className:"timer__controls__btn",onClickFn:b,children:t(V,{})}),t(_,{className:"timer__controls__btn",onClickFn:D,children:t(z,{})}),t(_,{className:"timer__controls__btn",onClickFn:g,children:s?t(R,{}):t(T,{})}),t(_,{className:"timer__controls__btn",onClickFn:o,children:t(W,{})})]})]})};const P=({item:e})=>{const n=B.calcItemDuration(e),s=i();function i(){return e.type==="anaerobic"?`${e.name} - ${n} min - ${e.sets} * ${e.reps} - ${e.weight} ${e.weightUnit} - ${e.restInSec}s rest`:e.type==="superset"?`${e.name} - ${n} min - ${e.sets} sets - ${e.items.length} items - ${e.restInSec}s rest`:`${e.name} - ${n} min`}const o=[e.name,"-",`${n} min`];e.type==="anaerobic"&&o.push("-",`${e.sets} * ${e.reps}`,"-",`${e.weight} ${e.weightUnit}`);const l=e.type==="superset";return c("div",{className:"workout-item-display__info",children:[t("h4",{className:"workout-item-display__info__title",children:s}),l&&t("ul",{className:"workout-item-display__info__superset-set-list",children:e.items.map((r,a)=>{const d=`${r.name} - ${r.reps} reps - ${r.weight} ${r.weightUnit}`;return t("li",{className:"workout-item-display__info__superset-set-list__item",children:d},a)})})]})},w=({item:e})=>{const{currItem:n,isWorkoutStarted:s,onStartItem:i,onCompleteItem:o}=p(),r=(n==null?void 0:n.id)===e.id&&s,a=!e.isStarted,d=e.isStarted&&!e.isCompleted;return c("section",{className:"workout-item-display",children:[t(P,{item:e}),r&&c("div",{className:"workout-item-display__btns-container",children:[a&&t(_,{className:"workout-item-display__btn",isDisabled:!s,onClickFn:()=>i(e),children:"start"}),d&&t(_,{className:"workout-item-display__btn",isDisabled:!s,onClickFn:()=>o(e),children:"complete"})]})]})},j=()=>{const{workout:e,unCompletedItems:n,completedItems:s,isLoading:i,isSuccess:o,isError:l,duration:r,isWorkoutStarted:a,onStart:d}=p();return i?t(F,{}):l?t(M,{}):!o||!e?null:t("main",{className:"page workout-details",children:c("div",{className:"workout-details__wrapper",children:[c("section",{className:"workout-details__info",children:[c("div",{className:"workout-details__info__item",children:[t("h2",{children:"description:"}),c("h3",{children:[" ",e.description]})]}),c("div",{className:"workout-details__info__item",children:[t("h2",{children:"duration: "}),c("h3",{children:[r," min"]})]}),c("div",{className:"workout-details__info__item",children:[t("h2",{children:"type: "}),t("h3",{children:e.type})]}),"split"in e&&c("div",{className:"workout-details__info__item",children:[t("h2",{children:"split: "})," ",t("h3",{children:e.split})]}),!a&&t(_,{onClickFn:d,children:"Start"})]}),!a&&c(S,{children:[t("h2",{className:"workout-details__title",children:"items:"}),t(v,{items:e.items,className:"workout-details__list",render:m=>t(w,{item:m},m.id)})]}),a&&c(S,{children:[t(H,{}),t(v,{items:n,className:"workout-details__list",render:m=>t(w,{item:m},m.id)}),s.length>0&&c("div",{className:"workout-details__completed-list-container",children:[t("h2",{className:"workout-details__completed-list-container__title",children:"Completed Items:"}),t("hr",{className:"workout-details__completed-list-container__hr"}),t(v,{items:s,className:"workout-details__list",render:m=>t(w,{item:m},m.id)})]})]})]})})};export{j as default};

import{r as D,u as No,s as ko,c as sn,g as nt,h as xe,a as Me,b as To,d as Ka,e as Qa,f as Bo,i as Lo,k as sr,j as g,l as ln,n as Wn,m as P,G as at,S as Se,o as it,p as ot,q as Mo,t as cn,F as Xe,_ as Vt,$ as E,C as Un,v as Ya,w as Fo,x as Go,y as jn,z as qn,A as $o,B as _o,D as Wo,E as Uo,H as jo,I as qo}from"./index-33f863e7.js";import{c as qe}from"./index-1a433d07.js";import{L as st}from"./List-fdca0c83.js";import{B as V}from"./Button-2694552d.js";import{E as un}from"./ErrorMsg-fd0eaff2.js";import{f as ee,_ as Xa,a as Za,b as Ho,c as Vo,d as ke,T as dn,p as be,L as ve,e as pn,g as Ja,D as zo,h as Ko,i as Qo,j as Yo,G as Xo,u as Zo,C as Jo,S as Hn,k as je,l as $e,A as es,m as rs,n as Vn,o as ts,q as We,r as ns,s as as,t as ei,v as is,w as Lr,x as zn,y as Wr,z as os,B as ss,E as ls}from"./generateCategoricalChart-6b4ba263.js";import{u as ri,C as lr}from"./index.esm-ba88cb49.js";import{W as cs}from"./WorkoutPreview-0c5fb030.js";import{_ as T}from"./extends-98964cd2.js";import{E as us}from"./Empty-fa52bb5b.js";function qr(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function ds(e){D.useEffect(()=>{const r=document.title;return document.title=e||"Kceli",()=>{document.title=r}},[e])}function ps({title:e}){const r=No();ds(e),D.useEffect(()=>{r(ko(!1))},[r])}var lt=(e=>(e.UNIT="unit",e.GRAM="g",e.CUP="cup",e.TABLE_SPOON="tbsp",e.TEA_SPOON="tsp",e.MILLILITER="ml",e))(lt||{});const fs=Object.values(lt);function vs(){return{id:sn(),name:"",items:[ti()],isRecorded:!0,recordedAt:null,type:"food"}}function ti(){return{id:sn(),unit:lt.UNIT,quantity:1,name:""}}function gs(e){switch(e){case"g":return 100;case"ml":return 100;case"unit":return 1;case"cup":return 1;case"tbsp":return 1;case"tsp":return 1;default:return 1}}function ms(e){switch(e){case"g":return 25;case"ml":return 25;case"unit":return 1;case"cup":return 1;case"tbsp":return 1;case"tsp":return 1;default:return 1}}const ue={getDefaultIntake:vs,getDefaultIntakeItem:ti,getUnitDefaultQuantity:gs,getQuantityStepPerUnit:ms,units:fs};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hs=function(r){return r!=null&&r.constructor!=null&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)},ni=ys,bs=[];function ys(e,r){var t=0,n;if(!r)return bs;if(e.FLAG==="long"){for(n=new Array(Math.ceil(r.length/2));t<r.length;)n[t/2]=r.slice(t,t+2),t+=2;return n}return r.split(e.FLAG==="num"?",":"")}var Is=ni,Cs=xs,Ds=[].push,Mr="etaoinshrdlcumwfgypbvkjxqz".split(""),nr=/\s+/,ws=["qwertzuop","yxcvbnm","qaw","say","wse","dsx","sy","edr","fdc","dx","rft","gfv","fc","tgz","hgb","gv","zhu","jhn","hb","uji","kjm","jn","iko","lkm"];function xs(e){var r=Object.create(null),t=Object.create(null),n=Object.create(null),a=[],i={in:[],out:[]},o=[],s=e.toString("utf8"),l=[],u=0,d=s.indexOf(`
`),c,p,f,v,m,h,b,y,I,C,x,w,N;for(n.KEY=[];d>-1;)O(s.slice(u,d)),u=d+1,d=s.indexOf(`
`,u);for(O(s.slice(u)),d=-1;++d<l.length;)if(p=l[d],c=p.split(nr),f=c[0],f==="REP"){for(v=d+parseInt(c[1],10);++d<=v;)c=l[d].split(nr),a.push([c[1],c[2]]);d--}else if(f==="ICONV"||f==="OCONV"){for(v=d+parseInt(c[1],10),y=i[f==="ICONV"?"in":"out"];++d<=v;)c=l[d].split(nr),y.push([new RegExp(c[1],"g"),c[2]]);d--}else if(f==="COMPOUNDRULE"){for(v=d+parseInt(c[1],10);++d<=v;)for(C=l[d].split(nr)[1],I=-1,o.push(C);++I<C.length;)t[C.charAt(I)]=[];d--}else if(f==="PFX"||f==="SFX"){for(v=d+parseInt(c[3],10),C={type:f,combineable:c[2]==="Y",entries:[]},r[c[1]]=C;++d<=v;){c=l[d].split(nr),m=c[2],h=c[3].split("/"),b=c[4],y={add:"",remove:"",match:"",continuation:Is(n,h[1])},h&&h[0]!=="0"&&(y.add=h[0]);try{m!=="0"&&(y.remove=f==="SFX"?Kn(m):m),b&&b!=="."&&(y.match=f==="SFX"?Kn(b):Ss(b))}catch{y=null}y&&C.entries.push(y)}d--}else if(f==="TRY"){for(b=c[1],w=-1,x=[];++w<b.length;)N=b.charAt(w),N.toLowerCase()===N&&x.push(N);for(w=-1;++w<Mr.length;)b.indexOf(Mr[w])<0&&x.push(Mr[w]);n[f]=x}else f==="KEY"?Ds.apply(n[f],c[1].split("|")):f==="COMPOUNDMIN"?n[f]=Number(c[1]):f==="ONLYINCOMPOUND"?(n[f]=c[1],t[c[1]]=[]):n[f]=c[1];return isNaN(n.COMPOUNDMIN)&&(n.COMPOUNDMIN=3),n.KEY.length||(n.KEY=ws),n.TRY||(n.TRY=Mr.concat()),n.KEEPCASE||(n.KEEPCASE=!1),{compoundRuleCodes:t,replacementTable:a,conversion:i,compoundRules:o,rules:r,flags:n};function O(A){A=A.trim(),A&&A.charCodeAt(0)!==35&&l.push(A)}}function Kn(e){return new RegExp(e+"$")}function Ss(e){return new RegExp("^"+e)}var ai=Ps;function Ps(e,r){for(var t=-1;++t<r.length;)e=e.replace(r[t][0],r[t][1]);return e}var ct=As;function As(e,r,t){return t&&r in e&&t.indexOf(e[r])>-1}var Es=ct,Os=Rs;function Rs(e,r){var t=-1;if(e.data[r])return!Es(e.flags,"ONLYINCOMPOUND",e.data[r]);if(r.length>=e.flags.COMPOUNDMIN){for(;++t<e.compoundRules.length;)if(e.compoundRules[t].test(r))return!0}return!1}var Ns=ai,Rt=Os,zt=ct,fn=ks;function ks(e,r,t){var n=r.trim(),a;if(!n)return null;if(n=Ns(n,e.conversion.in),Rt(e,n))return!t&&zt(e.flags,"FORBIDDENWORD",e.data[n])?null:n;if(n.toUpperCase()===n){if(a=n.charAt(0)+n.slice(1).toLowerCase(),Qn(e.flags,e.data[a],t))return null;if(Rt(e,a))return a}if(a=n.toLowerCase(),a!==n){if(Qn(e.flags,e.data[a],t))return null;if(Rt(e,a))return a}return null}function Qn(e,r,t){return zt(e,"KEEPCASE",r)||t||zt(e,"FORBIDDENWORD",r)}var Ts=fn,Bs=Ls;function Ls(e){return!!Ts(this,e)}var Ms=Fs;function Fs(e){var r=Yn(e.charAt(0)),t=e.slice(1);return!t||(t=Yn(t),r===t)?r:r==="u"&&t==="l"?"s":null}function Yn(e){return e===e.toLowerCase()?"l":e===e.toUpperCase()?"u":null}var Ur=Ms,Xn=ai,Gs=ct,$s=fn,_s=Us,Ws=[].push;function Us(e){var r=this,t={},n=[],a={},i,o,s=[],l,u,d,c,p,f,v,m,h,b,y,I,C,x,w,N,O,A,B,L,j,W,F;if(e=Xn(e.trim(),r.conversion.in),!e||r.correct(e))return[];for(F=Ur(e),u=-1;++u<r.replacementTable.length;)for(o=r.replacementTable[u],d=e.indexOf(o[0]);d>-1;)s.push(e.replace(o[0],o[1])),d=e.indexOf(o[0],d+1);for(u=-1;++u<e.length;)for(m=e.charAt(u),b=e.slice(0,u),y=e.slice(u+1),C=m.toLowerCase(),I=C!==m,t={},d=-1;++d<r.flags.KEY.length;)if(h=r.flags.KEY[d],c=h.indexOf(C),!(c<0)){for(f=-1;++f<h.length;)if(f!==c){if(v=h.charAt(f),t[v])continue;t[v]=!0,I&&(v=v.toUpperCase()),s.push(b+v+y)}}for(u=-1,O=e.charAt(0),l=[""],A=1,B=0;++u<e.length;){for(m=O,O=e.charAt(u+1),b=e.slice(0,u),o=m===O?"":m+m,d=-1,p=l.length;++d<p;)d<=A&&l.push(l[d]+o),l[d]+=m;++B<3&&(A=l.length)}for(Ws.apply(s,l),l=[e],o=e.toLowerCase(),(e===o||F===null)&&l.push(e.charAt(0).toUpperCase()+o.slice(1)),o=e.toUpperCase(),e!==o&&l.push(o),i={state:{},weighted:a,suggestions:n},x=Zn(r,i,l,s),w=0,A=Math.min(x.length,Math.pow(Math.max(15-e.length,3),3)),L=Math.max(Math.pow(10-e.length,3),1);!n.length&&w<A;)N=w+L,Zn(r,i,x.slice(w,N)),w=N;for(n.sort(z),l=[],j=[],u=-1;++u<n.length;)W=Xn(n[u],r.conversion.out),o=W.toLowerCase(),j.indexOf(o)<0&&(l.push(W),j.push(o));return l;function z(G,$){return K(G,$)||R(G,$)||M(G,$)}function K(G,$){return a[G]===a[$]?0:a[G]>a[$]?-1:1}function R(G,$){var q=Ur(G),Q=Ur($);return q===Q?0:q===F?-1:Q===F?1:void 0}function M(G,$){return G.localeCompare($)}}function Zn(e,r,t,n){var a=e.flags.TRY,i=e.data,o=e.flags,s=[],l=-1,u,d,c,p,f,v,m,h,b,y,I,C,x;if(n)for(;++l<n.length;)w(n[l],!0);for(l=-1;++l<t.length;)for(u=t[l],d="",c="",p=u.charAt(0),f=u,v=u.slice(1),m=p.toLowerCase()!==p,h=Ur(u),b=-1;++b<=u.length;)for(d+=c,y=f,f=v,v=f.slice(1),c=p,p=u.charAt(b+1),I=m,p&&(m=p.toLowerCase()!==p),f&&I!==m&&(w(d+N(f)),w(d+N(p)+N(c)+v)),w(d+f),f&&w(d+p+c+v),x=-1;++x<a.length;)C=a[x],I&&C!==C.toUpperCase()?(h!=="s"&&(w(d+C+y),w(d+C+f)),C=C.toUpperCase(),w(d+C+y),w(d+C+f)):(w(d+C+y),w(d+C+f));return s;function w(O,A){var B=r.state[O],L;B!==!!B&&(s.push(O),L=$s(e,O),B=L&&!Gs(o,"NOSUGGEST",i[L]),r.state[O]=B,B&&(r.weighted[O]=A?10:0,r.suggestions.push(O))),B&&r.weighted[O]++}function N(O){var A=O.charAt(0);return(A.toLowerCase()===A?A.toUpperCase():A.toLowerCase())+O.slice(1)}}var js=fn,Jn=ct,qs=Hs;function Hs(e){var r=this,t=js(r,e,!0);return{correct:r.correct(e),forbidden:!!(t&&Jn(r.flags,"FORBIDDENWORD",r.data[t])),warn:!!(t&&Jn(r.flags,"WARN",r.data[t]))}}var Vs=ii;function ii(e,r,t,n){for(var a=-1,i,o,s,l,u;++a<r.entries.length;)if(i=r.entries[a],l=i.continuation,u=-1,(!i.match||i.match.test(e))&&(o=i.remove?e.replace(i.remove,""):e,o=r.type==="SFX"?o+i.add:i.add+o,n.push(o),l&&l.length))for(;++u<l.length;)s=t[l[u]],s&&ii(o,s,t,n);return n}var ea=Vs,oi=Qs,zs=[].push,Kt=[];function Ks(e,r,t){var n=e[r];r in e?n===Kt?e[r]=t.concat():zs.apply(n,t):e[r]=t.concat()}function Qs(e,r,t,n){var a=-1,i,o,s,l,u,d,c;for((!("NEEDAFFIX"in n.flags)||t.indexOf(n.flags.NEEDAFFIX)<0)&&Ks(e,r,t);++a<t.length;)if(i=n.rules[t[a]],t[a]in n.compoundRuleCodes&&n.compoundRuleCodes[t[a]].push(r),i){for(d=ea(r,i,n.rules,[]),o=-1;++o<d.length;)if(d[o]in e||(e[d[o]]=Kt),i.combineable){for(s=a;++s<t.length;)if(u=n.rules[t[s]],u&&u.combineable&&i.type!==u.type)for(c=ea(d[o],u,n.rules,[]),l=-1;++l<c.length;)c[l]in e||(e[c[l]]=Kt)}}}var Ys=oi,Xs=Js,Zs=[];function Js(e,r){var t=this;return Ys(t.data,e,t.data[r]||Zs,t),t}var el=rl;function rl(e){var r=this;return delete r.data[e],r}var tl=nl;function nl(){return this.flags.WORDCHARS||null}var al=ni,il=oi,ol=sl,ra=/\s/g;function sl(e,r,t){for(var n=e.toString("utf8"),a=n.indexOf(`
`)+1,i=n.indexOf(`
`,a);i>-1;)n.charCodeAt(a)!==9&&ta(n.slice(a,i),r,t),a=i+1,i=n.indexOf(`
`,a);ta(n.slice(a),r,t)}function ta(e,r,t){for(var n=e.indexOf("/"),a=e.indexOf("#"),i="",o,s;n>-1&&e.charCodeAt(n-1)===92;)e=e.slice(0,n-1)+e.slice(n),n=e.indexOf("/",n);a>-1?n>-1&&n<a?(o=e.slice(0,n),ra.lastIndex=n+1,s=ra.exec(e),i=e.slice(n+1,s?s.index:void 0)):o=e.slice(0,a):n>-1?(o=e.slice(0,n),i=e.slice(n+1)):o=e,o=o.trim(),o&&il(t,o,al(r.flags,i.trim()),r)}var ll=ol,cl=ul;function ul(e){var r=this,t=-1,n,a,i,o;for(ll(e,r,r.data);++t<r.compoundRules.length;){for(n=r.compoundRules[t],a="",o=-1;++o<n.length;)i=n.charAt(o),a+=r.compoundRuleCodes[i].length?"(?:"+r.compoundRuleCodes[i].join("|")+")":i;r.compoundRules[t]=new RegExp(a,"i")}return r}var dl=pl;function pl(e){var r=this,t=e.toString("utf8").split(`
`),n=-1,a,i,o,s;for(r.flags.FORBIDDENWORD===void 0&&(r.flags.FORBIDDENWORD=!1),s=r.flags.FORBIDDENWORD;++n<t.length;)a=t[n].trim(),a&&(a=a.split("/"),o=a[0],i=o.charAt(0)==="*",i&&(o=o.slice(1)),r.add(o,a[1]),i&&r.data[o].push(s));return r}var na=hs,fl=Cs,vl=Hr,Pe=Hr.prototype;Pe.correct=Bs;Pe.suggest=_s;Pe.spell=qs;Pe.add=Xs;Pe.remove=el;Pe.wordCharacters=tl;Pe.dictionary=cl;Pe.personal=dl;function Hr(e,r){var t=-1,n;if(!(this instanceof Hr))return new Hr(e,r);if(typeof e=="string"||na(e)?(typeof r=="string"||na(r))&&(n=[{dic:r}]):e&&("length"in e?(n=e,e=e[0]&&e[0].aff):(e.dic&&(n=[e]),e=e.aff)),!e)throw new Error("Missing `aff` in dictionary");if(e=fl(e),this.data=Object.create(null),this.compoundRuleCodes=e.compoundRuleCodes,this.replacementTable=e.replacementTable,this.conversion=e.conversion,this.compoundRules=e.compoundRules,this.rules=e.rules,this.flags=e.flags,n)for(;++t<n.length;)n[t].dic&&this.dictionary(n[t].dic)}const gl=nt(vl);function ml(e,r){if(!e||!r)return 0;const t=r.weight||e.weight,n=Number((t*33).toFixed(2)),a=r.intakes.filter(i=>i.isRecorded).reduce((i,o)=>o.items.reduce((s,l)=>{if(l.name.toLocaleLowerCase()==="water")switch(l.unit){case"ml":return s+l.quantity;case"cup":return s+l.quantity*250;default:return s}return s},i),0)||0;return Number(((n-a)/1e3).toFixed(2))}const hl={calcRecommendedWaterIntake:ml};function bl(e){return{type:e,response:null,status:"idle",error:null}}const Nt={getDefaultNutritionQuery:bl};async function yl(){const e=await xe.get("intake/favorite");return Me(e)}async function Il(e){const r=await xe.post("intake/favorite",e);return Me(r)}async function Cl(e){const r=await xe.patch(`intake/favorite/${e.id}`,e);return Me(r)}async function Dl(e){await xe.delete(`intake/favorite/${e}`)}const ut={getUserFavoriteIntakes:yl,addUserFavoriteIntake:Il,updateUserFavoriteIntake:Cl,removeUserFavoriteIntake:Dl};function wl(){const{data:e,error:r,isLoading:t,isSuccess:n,isError:a}=To({queryKey:["favoriteIntakes"],queryFn:ut.getUserFavoriteIntakes}),i=!!e&&e.length===0;return{favoriteIntakes:e,error:r,isLoading:t,isSuccess:n,isError:a,isEmpty:i}}var Y=(e=>(e.IntakeEdit="IntakeEdit",e.IntakeList="IntakeList",e.UnRecordedIntakeList="UnRecordedIntakeList",e.FavoriteIntake="FavoriteIntake",e.Water="Water",e.WeightWaistInput="WeightWaistInput",e.Workouts="Workouts",e.Query="Query",e))(Y||{});const si=D.createContext(void 0);function xl({children:e}){const{loggedInUser:r}=Ka(),{dailyData:t,isLoading:n,isSuccess:a,isError:i}=Qa(),{updateDailyData:o,isLoading:s}=Bo(),{favoriteIntakes:l,isLoading:u,isSuccess:d,isError:c,isEmpty:p}=wl(),[f,v]=Lo(),[m,h]=D.useState(f.get("tab")||"IntakeEdit"),[b,y]=D.useState(ue.getDefaultIntake()),[I,C]=D.useState(b.items[0].id),[x,w]=D.useState(Nt.getDefaultNutritionQuery("chatGPT")),[N,O]=D.useState(Nt.getDefaultNutritionQuery("ninjaAPI")),[A,B]=D.useState(Nt.getDefaultNutritionQuery("usdaAPI")),L=(t==null?void 0:t.intakes.filter(q=>q.isRecorded))||[],j=(t==null?void 0:t.intakes.filter(q=>!q.isRecorded))||[],W=sr.getTotalCalories(t),F=sr.calcRemainingCalories(r,t),z=(t==null?void 0:t.targetCaloricIntake)??(r==null?void 0:r.targetCaloricIntakePerDay)??0,K=sr.calcEstimatedBodyFatStatusPerDay(r,t),R=Math.round(W/z*100),M=Math.round(F/z*100),G=hl.calcRecommendedWaterIntake(r,t);D.useEffect(()=>{if(!a||!t||t!=null&&t.weight||t!=null&&t.isWeightWaistIgnored)return;h("WeightWaistInput");const q=new URLSearchParams({tab:"WeightWaistInput"});v(q)},[t,a]);const $={dailyData:t,isLoading:n,isSuccess:a,isError:i,updateDailyData:o,isLoadingUpdate:s,recordedIntakes:L,unrecordedIntakes:j,remainingCalories:F,consumedCalories:W,targetCaloricIntakePerDay:z,estimatedKGChange:K,openedTab:m,setOpenedTab:h,recommendedWaterIntake:G,intake:b,setIntake:y,calConsumedPct:R,calRemainingPct:M,chatGPTQuery:x,setChatGPTQuery:w,ninjaAPIQuery:N,setNinjaAPIQuery:O,USDAAPIQuery:A,setUSDAAPIQuery:B,currIntakeItemId:I,setCurrIntakeItemId:C,favoriteIntakes:l,isLoadingFavoriteIntakes:u,isSuccessFavoriteIntakes:d,isErrorFavoriteIntakes:c,isEmptyFavoriteIntakes:p,setSearchParams:v};return g(si.Provider,{value:$,children:e})}function le(){const e=D.useContext(si);if(e===void 0)throw new Error("useDayEdit must be used within a DayEditProvider");return e}const Sl="calorie";async function Pl(e){const r=await xe.post(`${Sl}/item`,e);return Me(r)}const Al={getCaloriesForItem:Pl},li=D.createContext(void 0);function El({intakeItem:e,children:r}){const{intake:t,setIntake:n,currIntakeItemId:a,setCurrIntakeItemId:i}=le(),o=t.items.length===1,s=e.id===a,[l,u]=D.useState(!1),[d,c]=D.useState(""),[p,f]=D.useState(!1),[v,m]=D.useState([]),[h,b]=D.useState(null),y=D.useRef(null),I=v.length>0&&v[0].suggestions.length>0&&!!e.name.length&&!!h;function C(R){R!==a&&i(R)}function x(R){R.preventDefault();const{value:M,name:G}=R.target;switch(G){case"name":if(w({...e,name:M}),M.length||m([]),!y.current)return;y.current(M);break;case"quantity":w({...e,quantity:Number(M)});break;case"calories":{const $={...e,calories:Number(M)};delete $.caloriesPer100g,w($),c("caloriesPer100g");break}case"caloriesPer100g":{const q=Number(M)*(e.quantity/100);w({...e,caloriesPer100g:Number(M),calories:q}),c("calories");break}}}function w(R){n(M=>({...M,items:M.items.map(G=>G.id===R.id?R:G)}))}function N(){const R=ue.getQuantityStepPerUnit(e.unit);e.quantity-R<1||w({...e,quantity:e.quantity-R})}function O(){const R=ue.getQuantityStepPerUnit(e.unit);w({...e,quantity:e.quantity+R})}function A(){const R=ue.units.indexOf(e.unit),M=R===ue.units.length-1?ue.units[0]:ue.units[R+1],G=ue.getUnitDefaultQuantity(M);w({...e,unit:M,quantity:G})}function B(){const R={...e};l&&(delete R.calories,delete R.caloriesPer100g,c("")),u(M=>!M),w(R)}async function L(){if(!e.name.length)return Wn.error("Please enter a food name!");try{f(!0);const R=await Al.getCaloriesForItem(e);w({...e,calories:R}),u(!0)}catch(R){console.error(R),Wn.error("Failed to calculate calories!")}finally{f(!1)}}function j(R,M){const G=e.name.replace(R,M),$=v.filter(q=>q.original!==R);m($),w({...e,name:G})}function W(R){const M=v.filter(G=>G.original!==R);m(M)}function F(){const R=ue.getDefaultIntakeItem();n(M=>({...M,items:[...M.items,R]})),i(R.id)}function z(){var q,Q;if(t.items.length===1)return;const R=t.items.findIndex(te=>te.id===e.id),M=(q=t.items[R-1])==null?void 0:q.id,G=(Q=t.items[R+1])==null?void 0:Q.id,$=[...t.items];$.splice(R,1),n(te=>({...te,items:$})),i(G||M)}D.useEffect(()=>{Promise.all([fetch("/assets/dictionaries/en_US.aff").then(R=>R.text()),fetch("/assets/dictionaries/en_US.dic").then(R=>R.text())]).then(([R,M])=>{const G=new gl(R,M);b(G)}).catch(R=>{console.error("Failed to load dictionaries:",R)})},[]),D.useEffect(()=>{function R(M){if(!h)return;const G=new Set(["nes","ness"]),Q=M.split(" ").filter(te=>!G.has(te)&&te.length>3).map(te=>({original:te,suggestions:h.suggest(te)}));m(Q)}y.current=ln(R,1e3).debouncedFunc},[h]);const K={intakeItem:e,isOneItem:o,isCurrIntakeItem:s,isManual:l,inputFaded:d,setInputFaded:c,isLoadingCal:p,suggestions:v,setSuggestions:m,isSuggestionListShown:I,handleNameInputClick:C,handleInputChange:x,decreaseQuantity:N,increaseQuantity:O,handleUnitBtnClick:A,handleToggleManual:B,handleCalcBtnClick:L,handleSuggestionClick:j,handleIgnoreSuggestionClick:W,handleAddButtonClick:F,handleRemoveButtonClick:z};return g(li.Provider,{value:K,children:r})}function Ze(){const e=D.useContext(li);if(!e)throw new Error("useIntakeItemEdit must be used within an IntakeItemEditProvider");return e}const Ol=()=>{const{suggestions:e,handleSuggestionClick:r,handleIgnoreSuggestionClick:t}=Ze();return g("ul",{className:"spelling-suggestion-list","data-testid":"spelling-suggestion-list",children:e.map((n,a)=>P("li",{className:"spelling-suggestion-list__item",children:[n.suggestions.map(i=>g(V,{className:"intake-item-edit__btn spelling-suggestion-list__btn",onClickFn:()=>r(n.original,i),dataTestId:"spelling-suggestion-list-btn",children:g("span",{children:i})},i)),g(V,{className:"intake-item-edit__btn spelling-suggestion-list__btn",dataTestId:"ignore-suggestion-btn",onClickFn:()=>t(n.original),children:g("span",{children:"ignore"})})]},a))})};const Rl=()=>{const{intakeItem:e,inputFaded:r,setInputFaded:t,handleInputChange:n}=Ze();function a(i){r===i&&t("")}return P("div",{className:"intake-item-edit__manuall-calorie-edit","data-testid":"intake-item-edit-manuall-calorie-edit",children:[g("input",{type:"number",name:"calories",className:qe("intake-item-input",{faded:r==="calories"}),value:e.calories||"",placeholder:"Calories",onChange:n,onClick:()=>a("calories")}),g("input",{type:"number",name:"caloriesPer100g",className:qe("intake-item-input",{faded:r==="caloriesPer100g"}),value:e.caloriesPer100g||"",placeholder:"Calories per 100g",onChange:n,onClick:()=>a("caloriesPer100g")})]})};function Nl(e){return at({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"}}]})(e)}function kl(e){return at({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"}}]})(e)}const Tl=()=>{const{intakeItem:e,isManual:r,isLoadingCal:t,handleInputChange:n,decreaseQuantity:a,increaseQuantity:i,handleUnitBtnClick:o,handleToggleManual:s,handleCalcBtnClick:l}=Ze();return P("section",{className:"intake-item-edit__inputs-btns","data-testid":"intake-item-edit-inputs-btns",children:[P("div",{className:"quantity-input-container",children:[g(V,{onClickFn:a,children:g(Nl,{})}),g("input",{type:"number",name:"quantity",className:"intake-item-input quantity-input",value:e.quantity,onChange:n}),g(V,{onClickFn:i,children:g(kl,{})})]}),g(V,{onClickFn:o,className:"intake-item-edit__btn",children:g("span",{children:e.unit})}),g(V,{onClickFn:s,className:"intake-item-edit__btn",children:g("span",{children:r?"Manual":"Auto"})}),g(V,{onClickFn:l,className:"intake-item-edit__btn calc-calories-btn",children:t?g(Se,{withContainer:!0,containerSize:{width:"100%"}}):g("span",{children:"calc"})})]})},Bl=()=>{const{isOneItem:e,handleAddButtonClick:r,handleRemoveButtonClick:t}=Ze();return P("section",{className:"intake-edit-item__btns-container","data-testid":"intake-item-edit-btns",children:[!e&&g(V,{onClickFn:t,children:"remove item"}),g(V,{onClickFn:r,children:"add item"})]})},Ll=()=>{const{intakeItem:e,handleNameInputClick:r,handleInputChange:t}=Ze();return g("input",{type:"text",name:"name",className:"intake-item-input",value:e.name,onChange:t,spellCheck:!0,autoComplete:"off",placeholder:"Enter food name",onClick:()=>r(e.id)})},Ml=()=>{const{isCurrIntakeItem:e,isManual:r,isSuggestionListShown:t}=Ze();return P("section",{className:"intake-item-edit","data-testid":"intake-item-edit",children:[g(Ll,{}),t&&g(Ol,{}),g(Tl,{}),r&&g(Rl,{}),e&&g(Bl,{})]})};function ci(){const e=it(),{mutate:r,isLoading:t}=ot({mutationFn:ut.addUserFavoriteIntake,onSuccess:()=>{e.invalidateQueries(["favoriteIntakes"])}});return{addFavoriteIntake:r,isLoading:t}}function ui(){const e=it(),{mutate:r,isLoading:t}=ot({mutationFn:n=>ut.updateUserFavoriteIntake(n),onSuccess:()=>{e.invalidateQueries(["favoriteIntakes"])}});return{updateFavoriteIntake:r,isLoading:t}}const Fl=()=>{const{dailyData:e}=le();if(!e)return null;const r=e.intakes.findLast(n=>n.isRecorded&&n.type==="food");if(!r)return null;const t=Mo(r.recordedAt);return P("h5",{className:"last-time-you-ate-title",children:["Last time you ate: ",t]})};const Gl=()=>{const{intake:e,consumedCalories:r,remainingCalories:t}=le(),n=e.items.reduce((o,s)=>s.calories===void 0?o:o+s.calories,0),a=r+n,i=t-n;return n<=0?null:P("section",{className:"pre-save-calorie-count",children:[P("p",{children:[g("strong",{children:"Total:"})," ",g("span",{children:n})]}),P("p",{children:[g("strong",{children:"Consumed:"})," ",g("span",{children:a})]}),P("p",{children:[g("strong",{children:"Remaining:"})," ",g("span",{children:i})]})]})},$l=()=>{const{dailyData:e,isLoading:r,isLoadingUpdate:t,intake:n,updateDailyData:a,setIntake:i}=le(),{addFavoriteIntake:o,isLoading:s}=ci(),{updateFavoriteIntake:l,isLoading:u}=ui(),{backgroundColor:d}=cn(),c=r||t||s||u;function p(b){b.preventDefault();const{value:y}=b.target;i(I=>({...I,name:y}))}function f(){const b=n.type==="food"?"drink":"food";i(y=>({...y,type:b}))}function v(b){if(b.preventDefault(),!n.items.every(I=>I.name.length&&I.quantity>0))return Vt.error("Please fill all intake items");n.recordedAt=new Date,"userId"in n?l(n):o(n),i(ue.getDefaultIntake())}function m(){i(b=>({...b,recordedAt:null,isRecorded:!b.isRecorded}))}function h(b){if(b.preventDefault(),!e)return;if(!n.items.every(x=>x.name.length&&x.quantity>0))return Vt.error("Please fill all intake items");n.recordedAt=new Date;const C=!e.intakes.some(x=>x.id===n.id)?[...e.intakes,n]:e.intakes.map(x=>x.id===n.id?n:x);a({...e,intakes:C}),i(ue.getDefaultIntake())}return P("form",{className:"intake-edit",onSubmit:h,"data-testid":"intake-edit",children:[c&&g(Se,{withContainer:!0,containerSize:{height:"75px",width:"100%"}}),!c&&P(Xe,{children:[P("header",{className:"intake-edit__header",children:[g("input",{type:"text",placeholder:"Name your intake",autoComplete:"off",value:n.name||"",onChange:p,className:"intake-edit__header__name-input"}),g(V,{onClickFn:f,className:"intake-edit-btn",children:g("span",{children:n.type})})]}),g(st,{items:n.items,render:b=>g(El,{intakeItem:b,children:g(Ml,{})},b.id),className:"intake-edit-item-list",dataTestId:"intake-edit-item-list"})]}),P("div",{className:"intake-edit__info-container",children:[g(Fl,{}),g(Gl,{})]}),P("div",{className:"intake-edit-btns-container",style:{backgroundColor:d},children:[g(V,{onClickFn:b=>v(b),className:"intake-edit-btn",type:"submit",children:"Save To Fav"}),g(V,{onClickFn:m,className:"intake-edit-btn btn-toggle-save-later "+qe({clicked:!n.isRecorded}),children:"Save Later"}),g(V,{onClickFn:b=>h(b),className:"intake-edit-btn",type:"submit",children:"Save Intake"})]})]})};const _l=()=>{const{dailyData:e,setOpenedTab:r,setSearchParams:t}=le();if(!e)return null;function n(i){r(i);const o=new URLSearchParams({tab:i.toString()});t(o)}const a=[{name:"add",value:Y.IntakeEdit},{name:"intakes",value:Y.IntakeList,isShown:e==null?void 0:e.intakes.some(i=>i.isRecorded===!0)},{name:"unrecorded",value:Y.UnRecordedIntakeList,isShown:e==null?void 0:e.intakes.some(i=>i.isRecorded===!1)},{name:"favorites",value:Y.FavoriteIntake},{name:"water",value:Y.Water},{name:"weight",value:Y.WeightWaistInput},{name:"workouts",value:Y.Workouts,isShown:(e==null?void 0:e.workouts.length)>0},{name:"query",value:Y.Query}];return g("ul",{className:"day-edit__filter","data-testid":"day-edit-filter",children:a.map(i=>i.isShown===!1?null:g("li",{className:"filter__item",children:g(V,{className:"btn",onClickFn:()=>n(i.value),children:i.name})},i.value))})};var Wl=["points","className","baseLinePoints","connectNulls"];function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ue.apply(this,arguments)}function Ul(e,r){if(e==null)return{};var t=jl(e,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function jl(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function aa(e){return zl(e)||Vl(e)||Hl(e)||ql()}function ql(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hl(e,r){if(e){if(typeof e=="string")return Qt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qt(e,r)}}function Vl(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zl(e){if(Array.isArray(e))return Qt(e)}function Qt(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var ia=function(r){return r&&r.x===+r.x&&r.y===+r.y},Kl=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[[]];return r.forEach(function(n){ia(n)?t[t.length-1].push(n):t[t.length-1].length>0&&t.push([])}),ia(r[0])&&t[t.length-1].push(r[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t},cr=function(r,t){var n=Kl(r);t&&(n=[n.reduce(function(i,o){return[].concat(aa(i),aa(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Ql=function(r,t,n){var a=cr(r,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(cr(t.reverse(),n).slice(1))},Yl=function(r){var t=r.points,n=r.className,a=r.baseLinePoints,i=r.connectNulls,o=Ul(r,Wl);if(!t||!t.length)return null;var s=qe("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",u=Ql(t,a,i);return E.createElement("g",{className:s},E.createElement("path",Ue({},ee(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?E.createElement("path",Ue({},ee(o,!0),{fill:"none",d:cr(t,i)})):null,l?E.createElement("path",Ue({},ee(o,!0),{fill:"none",d:cr(a,i)})):null)}var d=cr(t,i);return E.createElement("path",Ue({},ee(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))},Xl=Xa,Zl=Za,Jl=Ho;function ec(e,r){return e&&e.length?Xl(e,Zl(r),Jl):void 0}var rc=ec;const tc=nt(rc);var nc=Xa,ac=Vo,ic=Za;function oc(e,r){return e&&e.length?nc(e,ic(r),ac):void 0}var sc=oc;const lc=nt(sc);var cc=["cx","cy","angle","ticks","axisLine"],uc=["ticks","tick","angle","tickFormatter","stroke"];function He(e){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},He(e)}function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ur.apply(this,arguments)}function oa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ee(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?oa(Object(t),!0).forEach(function(n){dt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function sa(e,r){if(e==null)return{};var t=dc(e,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function dc(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function pc(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function la(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,di(n.key),n)}}function fc(e,r,t){return r&&la(e.prototype,r),t&&la(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vc(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Yt(e,r)}function Yt(e,r){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yt(e,r)}function gc(e){var r=bc();return function(){var n=Vr(e),a;if(r){var i=Vr(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return mc(this,a)}}function mc(e,r){if(r&&(He(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hc(e)}function hc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vr(e){return Vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vr(e)}function dt(e,r,t){return r=di(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function di(e){var r=yc(e,"string");return He(r)==="symbol"?r:String(r)}function yc(e,r){if(He(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(He(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var pt=function(e){vc(t,e);var r=gc(t);function t(){return pc(this,t),r.apply(this,arguments)}return fc(t,[{key:"getTickValueCoord",value:function(a){var i=a.coordinate,o=this.props,s=o.angle,l=o.cx,u=o.cy;return be(l,u,i,s)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,i;switch(a){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var a=this.props,i=a.cx,o=a.cy,s=a.angle,l=a.ticks,u=lc(l,function(c){return c.coordinate||0}),d=tc(l,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:d.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.cx,o=a.cy,s=a.angle,l=a.ticks,u=a.axisLine,d=sa(a,cc),c=l.reduce(function(m,h){return[Math.min(m[0],h.coordinate),Math.max(m[1],h.coordinate)]},[1/0,-1/0]),p=be(i,o,c[0],s),f=be(i,o,c[1],s),v=Ee(Ee(Ee({},ee(d)),{},{fill:"none"},ee(u)),{},{x1:p.x,y1:p.y,x2:f.x,y2:f.y});return E.createElement("line",ur({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var a=this,i=this.props,o=i.ticks,s=i.tick,l=i.angle,u=i.tickFormatter,d=i.stroke,c=sa(i,uc),p=this.getTickTextAnchor(),f=ee(c),v=ee(s),m=o.map(function(h,b){var y=a.getTickValueCoord(h),I=Ee(Ee(Ee(Ee({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},f),{},{stroke:"none",fill:d},v),{},{index:b},y),{},{payload:h});return E.createElement(ve,ur({className:"recharts-polar-radius-axis-tick",key:"tick-".concat(b)},pn(a.props,h,b)),t.renderTickItem(s,I,u?u(h.value,b):h.value))});return E.createElement(ve,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var a=this.props,i=a.ticks,o=a.axisLine,s=a.tick;return!i||!i.length?null:E.createElement(ve,{className:"recharts-polar-radius-axis"},o&&this.renderAxisLine(),s&&this.renderTicks(),Ja.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,i,o){var s;return E.isValidElement(a)?s=E.cloneElement(a,i):ke(a)?s=a(i):s=E.createElement(dn,ur({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}]),t}(D.PureComponent);dt(pt,"displayName","PolarRadiusAxis");dt(pt,"axisType","radiusAxis");dt(pt,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ve(e){"@babel/helpers - typeof";return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ve(e)}function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Te.apply(this,arguments)}function ca(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Oe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ca(Object(t),!0).forEach(function(n){ft(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ca(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ic(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ua(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pi(n.key),n)}}function Cc(e,r,t){return r&&ua(e.prototype,r),t&&ua(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dc(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Xt(e,r)}function Xt(e,r){return Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xt(e,r)}function wc(e){var r=Pc();return function(){var n=zr(e),a;if(r){var i=zr(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return xc(this,a)}}function xc(e,r){if(r&&(Ve(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sc(e)}function Sc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zr(e){return zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zr(e)}function ft(e,r,t){return r=pi(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function pi(e){var r=Ac(e,"string");return Ve(r)==="symbol"?r:String(r)}function Ac(e,r){if(Ve(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Ve(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Ec=Math.PI/180,da=1e-5,vt=function(e){Dc(t,e);var r=wc(t);function t(){return Ic(this,t),r.apply(this,arguments)}return Cc(t,[{key:"getTickLineCoord",value:function(a){var i=this.props,o=i.cx,s=i.cy,l=i.radius,u=i.orientation,d=i.tickSize,c=d||8,p=be(o,s,l,a.coordinate),f=be(o,s,l+(u==="inner"?-1:1)*c,a.coordinate);return{x1:p.x,y1:p.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(a){var i=this.props.orientation,o=Math.cos(-a.coordinate*Ec),s;return o>da?s=i==="outer"?"start":"end":o<-da?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.cx,o=a.cy,s=a.radius,l=a.axisLine,u=a.axisLineType,d=Oe(Oe({},ee(this.props)),{},{fill:"none"},ee(l));if(u==="circle")return E.createElement(zo,Te({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:o,r:s}));var c=this.props.ticks,p=c.map(function(f){return be(i,o,s,f.coordinate)});return E.createElement(Yl,Te({className:"recharts-polar-angle-axis-line"},d,{points:p}))}},{key:"renderTicks",value:function(){var a=this,i=this.props,o=i.ticks,s=i.tick,l=i.tickLine,u=i.tickFormatter,d=i.stroke,c=ee(this.props),p=ee(s),f=Oe(Oe({},c),{},{fill:"none"},ee(l)),v=o.map(function(m,h){var b=a.getTickLineCoord(m),y=a.getTickTextAnchor(m),I=Oe(Oe(Oe({textAnchor:y},c),{},{stroke:"none",fill:d},p),{},{index:h,payload:m,x:b.x2,y:b.y2});return E.createElement(ve,Te({className:"recharts-polar-angle-axis-tick",key:"tick-".concat(h)},pn(a.props,m,h)),l&&E.createElement("line",Te({className:"recharts-polar-angle-axis-tick-line"},f,b)),s&&t.renderTickItem(s,I,u?u(m.value,h):m.value))});return E.createElement(ve,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var a=this.props,i=a.ticks,o=a.radius,s=a.axisLine;return o<=0||!i||!i.length?null:E.createElement(ve,{className:"recharts-polar-angle-axis"},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,i,o){var s;return E.isValidElement(a)?s=E.cloneElement(a,i):ke(a)?s=a(i):s=E.createElement(dn,Te({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}]),t}(D.PureComponent);ft(vt,"displayName","PolarAngleAxis");ft(vt,"axisType","angleAxis");ft(vt,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Oc=Ko,Rc=Oc(Object.getPrototypeOf,Object),Nc=Rc,kc=Qo,Tc=Nc,Bc=Yo,Lc="[object Object]",Mc=Function.prototype,Fc=Object.prototype,fi=Mc.toString,Gc=Fc.hasOwnProperty,$c=fi.call(Object);function _c(e){if(!Bc(e)||kc(e)!=Lc)return!1;var r=Tc(e);if(r===null)return!0;var t=Gc.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&fi.call(t)==$c}var Wc=_c;const Uc=nt(Wc);function ze(e){"@babel/helpers - typeof";return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ze(e)}function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Be.apply(this,arguments)}function pa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function H(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?pa(Object(t),!0).forEach(function(n){de(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jc(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fa(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vi(n.key),n)}}function qc(e,r,t){return r&&fa(e.prototype,r),t&&fa(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hc(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Zt(e,r)}function Zt(e,r){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zt(e,r)}function Vc(e){var r=Kc();return function(){var n=Kr(e),a;if(r){var i=Kr(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return zc(this,a)}}function zc(e,r){if(r&&(ze(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _e(e)}function _e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kr(e){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kr(e)}function de(e,r,t){return r=vi(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function vi(e){var r=Qc(e,"string");return ze(r)==="symbol"?r:String(r)}function Qc(e,r){if(ze(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(ze(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ge=function(e){Hc(t,e);var r=Vc(t);function t(n){var a;return jc(this,t),a=r.call(this,n),de(_e(a),"pieRef",null),de(_e(a),"sectorRefs",[]),de(_e(a),"id",Zo("recharts-pie-")),de(_e(a),"handleAnimationEnd",function(){var i=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),ke(i)&&i()}),de(_e(a),"handleAnimationStart",function(){var i=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),ke(i)&&i()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return qc(t,[{key:"isActiveIndex",value:function(a){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(a)!==-1:a===i}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,l=o.labelLine,u=o.dataKey,d=o.valueKey,c=ee(this.props),p=ee(s),f=ee(l),v=s&&s.offsetRadius||20,m=a.map(function(h,b){var y=(h.startAngle+h.endAngle)/2,I=be(h.cx,h.cy,h.outerRadius+v,y),C=H(H(H(H({},c),h),{},{stroke:"none"},p),{},{index:b,textAnchor:t.getTextAnchor(I.x,h.cx)},I),x=H(H(H(H({},c),h),{},{fill:"none",stroke:h.fill},f),{},{index:b,points:[be(h.cx,h.cy,h.outerRadius,y),I],key:"line"}),w=u;return je(u)&&je(d)?w="value":je(u)&&(w=d),E.createElement(ve,{key:"label-".concat(b)},l&&t.renderLabelLineItem(l,x),t.renderLabelItem(s,C,$e(h,w)))});return E.createElement(ve,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(a){var i=this,o=this.props,s=o.activeShape,l=o.blendStroke,u=o.inactiveShape;return a.map(function(d,c){var p=u&&i.hasActiveIndex()?u:null,f=i.isActiveIndex(c)?s:p,v=H(H({},d),{},{stroke:l?d.fill:d.stroke});return E.createElement(ve,Be({ref:function(h){h&&!i.sectorRefs.includes(h)&&i.sectorRefs.push(h)},tabIndex:-1,className:"recharts-pie-sector"},pn(i.props,d,c),{key:"sector-".concat(c)}),t.renderSectorItem(f,v))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,i=this.props,o=i.sectors,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,c=i.animationId,p=this.state,f=p.prevSectors,v=p.prevIsAnimationActive;return E.createElement(es,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var h=m.t,b=[],y=o&&o[0],I=y.startAngle;return o.forEach(function(C,x){var w=f&&f[x],N=x>0?rs(C,"paddingAngle",0):0;if(w){var O=Vn(w.endAngle-w.startAngle,C.endAngle-C.startAngle),A=H(H({},C),{},{startAngle:I+N,endAngle:I+O(h)+N});b.push(A),I=A.endAngle}else{var B=C.endAngle,L=C.startAngle,j=Vn(0,B-L),W=j(h),F=H(H({},C),{},{startAngle:I+N,endAngle:I+W+N});b.push(F),I=F.endAngle}}),E.createElement(ve,null,a.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(a){var i=this;a.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,i=a.sectors,o=a.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!ts(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,i=this.props,o=i.hide,s=i.sectors,l=i.className,u=i.label,d=i.cx,c=i.cy,p=i.innerRadius,f=i.outerRadius,v=i.isAnimationActive,m=this.state.isAnimationFinished;if(o||!s||!s.length||!We(d)||!We(c)||!We(p)||!We(f))return null;var h=qe("recharts-pie",l);return E.createElement(ve,{tabIndex:this.props.rootTabIndex,className:h,ref:function(y){a.pieRef=y}},this.renderSectors(),u&&this.renderLabels(s),Ja.renderCallByParent(this.props,null,!1),(!v||m)&&ns.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return i.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:a.sectors!==i.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,i){return a>i?"start":a<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,i){return E.isValidElement(a)?E.cloneElement(a,i):ke(a)?a(i):E.createElement(Jo,Be({},i,{type:"linear",className:"recharts-pie-label-line"}))}},{key:"renderLabelItem",value:function(a,i,o){if(E.isValidElement(a))return E.cloneElement(a,i);var s=o;return ke(a)&&(s=a(i),E.isValidElement(s))?s:E.createElement(dn,Be({},i,{alignmentBaseline:"middle",className:"recharts-pie-label-text"}),s)}},{key:"renderSectorItem",value:function(a,i){return E.isValidElement(a)?E.cloneElement(a,i):ke(a)?a(i):Uc(a)?E.createElement(Hn,Be({tabIndex:-1},i,a)):E.createElement(Hn,Be({tabIndex:-1},i))}}]),t}(D.PureComponent);de(ge,"displayName","Pie");de(ge,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Xo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});de(ge,"parseDeltaAngle",function(e,r){var t=Wr(r-e),n=Math.min(Math.abs(r-e),360);return t*n});de(ge,"getRealPieData",function(e){var r=e.props,t=r.data,n=r.children,a=ee(e.props),i=as(n,ei);return t&&t.length?t.map(function(o,s){return H(H(H({payload:o},a),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return H(H({},a),o.props)}):[]});de(ge,"parseCoordinateOfPie",function(e,r){var t=r.top,n=r.left,a=r.width,i=r.height,o=is(a,i),s=n+Lr(e.props.cx,a,a/2),l=t+Lr(e.props.cy,i,i/2),u=Lr(e.props.innerRadius,o,0),d=Lr(e.props.outerRadius,o,o*.8),c=e.props.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:c}});de(ge,"getComposedData",function(e){var r=e.item,t=e.offset,n=ge.getRealPieData(r);if(!n||!n.length)return null;var a=r.props,i=a.cornerRadius,o=a.startAngle,s=a.endAngle,l=a.paddingAngle,u=a.dataKey,d=a.nameKey,c=a.valueKey,p=a.tooltipType,f=Math.abs(r.props.minAngle),v=ge.parseCoordinateOfPie(r,t),m=ge.parseDeltaAngle(o,s),h=Math.abs(m),b=u;je(u)&&je(c)?(zn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):je(u)&&(zn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=c);var y=n.filter(function(O){return $e(O,b,0)!==0}).length,I=(h>=360?y:y-1)*l,C=h-y*f-I,x=n.reduce(function(O,A){var B=$e(A,b,0);return O+(We(B)?B:0)},0),w;if(x>0){var N;w=n.map(function(O,A){var B=$e(O,b,0),L=$e(O,d,A),j=(We(B)?B:0)/x,W;A?W=N.endAngle+Wr(m)*l*(B!==0?1:0):W=o;var F=W+Wr(m)*((B!==0?f:0)+j*C),z=(W+F)/2,K=(v.innerRadius+v.outerRadius)/2,R=[{name:L,value:B,payload:O,dataKey:b,type:p}],M=be(v.cx,v.cy,K,z);return N=H(H(H({percent:j,cornerRadius:i,name:L,tooltipPayload:R,midAngle:z,middleRadius:K,tooltipPosition:M},O),v),{},{value:$e(O,b),startAngle:W,endAngle:F,payload:O,paddingAngle:Wr(m)*l}),N})}return H(H({},v),{},{sectors:w,data:n})});var Yc=os({chartName:"PieChart",GraphicalChild:ge,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:vt},{axisType:"radiusAxis",AxisComp:pt}],formatAxisMap:ss,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Xc=({intakes:e,remainingCalories:r})=>{const t=[...e.map(n=>({name:n.items.reduce((a,i,o,s)=>s.length===1?i.name:o===0?a+`${i.name}, `:o===s.length-1?a+`and ${i.name}`:a+` ${i.name}, `,""),value:n.items.reduce((a,i)=>a+i.calories,0)})),{name:"remaining",value:r}];return r<=0&&t.pop(),P(Yc,{width:250,height:250,children:[g(ge,{dataKey:"value",isAnimationActive:!1,data:t,cx:125,cy:125,innerRadius:80,outerRadius:110,children:t.map((n,a)=>{const i=n.name==="remaining"?"#a7a7a7":Un[a%Un.length];return g(ei,{fill:i},`cell-${a}`)})}),g(ls,{})]})},Zc=()=>{const{dailyData:e,recordedIntakes:r,calConsumedPct:t,calRemainingPct:n,remainingCalories:a,consumedCalories:i,estimatedKGChange:o}=le();if(!e)return null;const{date:s}=e,l=new Intl.DateTimeFormat("en-GB",{weekday:"long",month:"numeric",day:"numeric",year:"numeric"}).format(new Date(s)),u=a>0?"remaining":"over your limit";return P("header",{className:"day-edit__header","data-testid":"day-edit-header",children:[g("div",{className:"day-edit__header__date-container",children:g("h2",{className:"day-edit__header__date","data-testid":"day-edit-header-date",children:l})}),g(Xc,{intakes:r,remainingCalories:a}),P("div",{className:"day-edit__header__titles",children:[P("p",{className:"day-edit__header__titles__title","data-testid":"day-edit-header-remaining-calories",children:[P("strong",{children:[Math.abs(a)," "]}),"calories ",u]}),g("hr",{}),i>0&&P("p",{className:"day-edit__header__titles__title","data-testid":"day-edit-header-consumed-calories",children:[g("strong",{children:Math.round(i)})," calories consumed"]}),g("hr",{}),P("div",{className:"day-edit__header__percentages-container",children:[P("div",{className:"day-edit__header__percentage","data-testid":"day-edit-header-consumed-percentage",children:[g("p",{className:"day-edit__header__percentage__title",children:"consumed:"}),P("p",{className:"day-edit__header__percentage__value",children:[t,"%"]})]}),P("div",{className:"day-edit__header__percentage","data-testid":"day-edit-header-remaining-percentage",children:[g("p",{className:"day-edit__header__percentage__title",children:"remaining:"}),P("p",{className:"day-edit__header__percentage__value",children:[n,"%"]})]})]}),g("hr",{}),P("p",{className:"day-edit__header__titles__title","data-testid":"day-edit-header-estimated-kg-change",children:["estimated to ",o>0?"gain":"lose",P("strong",{children:[" ",Math.abs(o)]})," kg"]}),g("hr",{})]})]})};const Jc=({mode:e,zIndex:r})=>g("div",{className:`main-screen ${e||""}`,style:{zIndex:r},"data-testid":"main-screen"});function eu(e,r=!0){const t=D.useRef(null);return D.useEffect(()=>{function n(a){t.current&&!t.current.contains(a.target)&&e()}return document.addEventListener("click",n,r),()=>document.removeEventListener("click",n,r)},[e,r]),{outsideClickRef:t}}const ru=({isModalAbove:e,isFullScreen:r=!1})=>{const t="tippy"+(e?" down":" up")+(r?" full-screen":"");return g("div",{className:t,"data-testid":"tippy"})};function gi(e,r){var s;const t=(s=e.current)==null?void 0:s.getBoundingClientRect();if(!t)return;const a=window.innerHeight-t.top<r,i={top:t.bottom+t.height/2+window.scrollY},o={bottom:window.innerHeight-t.top+t.height/2};return{isModalAbove:a,position:{...a?o:i,left:t.left+t.width/2+window.scrollX},rect:t}}const br=D.createContext(void 0),ae=({children:e,externalStateControl:r,onClose:t,onOpen:n,onAfterClose:a})=>{const[i,o]=D.useState(""),[s,l]=D.useState(null),[u,d]=D.useState(null),[c,p]=D.useState(!1),f=()=>{if(t==null||t(),r){r.setOpenedModalName(""),a==null||a();return}o(""),a==null||a()},v=y=>{if(n==null||n(),r){r.setOpenedModalName(y);return}o(y)},{debouncedFunc:m,cancel:h}=ln(()=>{f()},500),b={openedModalName:(r==null?void 0:r.openedModalName)||i,close:f,open:v,position:s,setPosition:l,isModalAbove:c,setIsModalAbove:p,modalHoverGuardZone:u,setModalHoverGuardZone:d,debouncedClose:m,cancelDebouncedClose:h};return g(br.Provider,{value:b,children:e})},tu=({children:e,modalName:r,setPositionByRef:t=!1,modalHeight:n=0,externalControlFunc:a})=>{const{open:i,setPosition:o,setIsModalAbove:s}=D.useContext(br),l=D.useRef(null),u=D.useCallback(()=>{const c=gi(l,n),{isModalAbove:p,position:f}=c;s(p),o(f)},[n,s,o]),d=()=>{if(t&&u(),a)return a();i(r)};return D.useEffect(()=>{if(!t)return;const c=["wheel","scroll","resize"];return c.forEach(p=>{window.addEventListener(p,u)}),()=>{c.forEach(p=>{window.removeEventListener(p,u)})}},[t,u]),D.cloneElement(e,{onClick:d,ref:l})},nu=({children:e,onClickFn:r})=>{const{close:t}=D.useContext(br);return D.cloneElement(e,{onClick:()=>{r==null||r(),t()}})},au=({children:e,modalName:r,modalHeight:t=0})=>{const{open:n,setPosition:a,setIsModalAbove:i,setModalHoverGuardZone:o,debouncedClose:s,cancelDebouncedClose:l}=D.useContext(br),u=D.useRef(null),{debouncedFunc:d,cancel:c}=ln(p,500);function p(){const m=gi(u,t);m&&(a(m.position),i(m.isModalAbove),o({height:m.rect.height,width:m.rect.width}),n(r))}function f(){l(),d()}function v(){c(),s()}return g("div",{className:"modal-hover-open",ref:u,onMouseEnter:f,onMouseLeave:v,children:e})},iu=({children:e,name:r,className:t,mainScreenMode:n="transparent",mainScreenZIndex:a=1e3,elementId:i="app",includeTippy:o=!1,style:s={},hoverControl:l=!1})=>{const{openedModalName:u,open:d,close:c,position:p,isModalAbove:f,modalHoverGuardZone:v,debouncedClose:m,cancelDebouncedClose:h}=D.useContext(br),{outsideClickRef:b}=eu(c);function y(){h(),d(r)}function I(){m()}return r!==u?null:Ya.createPortal(P(Xe,{children:[!l&&g(Jc,{mode:n,zIndex:a}),P("section",{className:`modal ${t||r}`,style:{...s,zIndex:a+1,...p},ref:l?void 0:b,onMouseEnter:()=>l&&y(),onMouseLeave:()=>l&&I(),"data-testid":"modal-window",children:[o&&g(ru,{isModalAbove:!!f}),e,l&&v&&g("div",{className:"modal-hover-guard-zone",style:{top:f?"100%":`-${v.height/2}px`,height:`${v.height/2}px`||"10%",width:`${v.width}px`||"10%"}})]})]}),document.getElementById(i))};ae.OpenBtn=tu;ae.Window=iu;ae.CloseBtn=nu;ae.ModalHoverOpen=au;function ou(){const e=it(),{mutate:r,isLoading:t}=ot({mutationFn:async n=>ut.removeUserFavoriteIntake(n),onSuccess:()=>{e.invalidateQueries(["favoriteIntakes"])}});return{removeFavoriteIntake:r,isLoading:t}}const mi=({intake:e,isFavorite:r=!1})=>{const{dailyData:t,openedTab:n,setOpenedTab:a,setIntake:i,updateDailyData:o}=le(),{addFavoriteIntake:s,isLoading:l}=ci(),{removeFavoriteIntake:u}=ou(),d=n===Y.IntakeList,c=!d||r,p=sr.getTotalCalories(e),f=r?e.name??e.items.map(I=>I.name).join(", "):null;function v(I){if(r)return u(I);if(!t)return;const C={...t};C.intakes=t.intakes.filter(x=>x.id!==I),o(C)}function m(I){if(!t)return;const C={...I};i(C),a(Y.IntakeEdit)}function h(I){if(!t)return;const C={...I};C.id=sn(),C.recordedAt=new Date,o({...t,intakes:[...t.intakes,C]})}function b(I){if(!t)return;const C={...t};r?C.intakes=[...t.intakes,e]:C.intakes=t.intakes.map(x=>(x.id!==I||(x.isRecorded=!0,x.recordedAt=new Date),x)),o(C)}function y(I){s(I)}return l?g(Se,{withContainer:!0,containerSize:{height:"50px"}}):P("section",{className:"intake-preview","data-testid":"intake-preview",children:[f&&g("h2",{className:"intake-preview__title",children:f}),g(st,{items:e.items,className:"intake-preview__item-list",render:I=>g("li",{className:"intake-preview__item-list__item","data-testid":"intake-preview-item",children:`${I.name} - ${I.quantity} ${I.unit} - calories: ${Math.round(I.calories)}`},I.id)}),P("p",{className:"intake-preview__total-calories",children:["total calories: ",p]}),P("div",{id:"intake-preview-btns-container",className:"intake-preview__btns-container",children:[P(ae,{children:[g(ae.OpenBtn,{modalName:"delete-intake",children:g("button",{className:"btn",children:"Delete"})}),P(ae.Window,{name:"delete-intake",elementId:"intake-preview-btns-container",className:"delete-intake-modal",children:[g("h2",{children:"Are you sure you want to delete this intake?"}),g(ae.CloseBtn,{onClickFn:()=>v(e.id),children:g("button",{className:"btn delete-btn",children:"Delete"})}),g(ae.CloseBtn,{children:g("button",{className:"btn",children:"Cancel"})})]})]}),r&&g(V,{className:"btn",onClickFn:()=>m(e),children:"Edit"}),d&&P(Xe,{children:[g(V,{className:"btn",onClickFn:()=>m(e),children:"Edit"}),g(V,{className:"btn",onClickFn:()=>h(e),children:"duplicate"})]}),c&&g(V,{className:"btn",onClickFn:()=>b(e.id),children:"Save"}),!r&&g(V,{className:"btn",onClickFn:()=>y(e),children:"add to fav"})]})]})};const su=()=>{const{dailyData:e,unrecordedIntakes:r,recordedIntakes:t,openedTab:n,isLoadingUpdate:a}=le();if(!e)return null;const i=n===Y.IntakeList,s=(i?t:r).sort((u,d)=>!u.recordedAt||!d.recordedAt?0:new Date(u.recordedAt).getTime()-new Date(d.recordedAt).getTime()),l=sr.getTotalCaloriesFromDailyData({dailyData:e,isRecorded:i});return P(Xe,{children:[P("header",{className:"intake-list__header","data-testid":"intake-list-header",children:[P("h3",{className:"intake-list__header__title",children:[i?"Recorded":"Unrecorded"," Intakes"]}),P("h4",{className:"intake-list__header__total-calories",children:["total calories: ",l]})]}),a&&g(Se,{}),!a&&g(st,{className:"intake-list",items:s,render:(u,d)=>{const c=u.recordedAt?`- ${Fo(u.recordedAt)}`:"";return P("li",{className:"intake-list-item",children:[P("h5",{className:"intake-list-item__title",children:["Intake ",d+1,"# ",c]}),g(mi,{intake:u})]},u.id)}})]})};const lu=()=>{const{dailyData:e,isLoading:r,updateDailyData:t,setOpenedTab:n}=le(),{control:a,handleSubmit:i}=ri({defaultValues:{weight:"",waist:""}});function o(){e&&(t({...e,isWeightWaistIgnored:!0}),n(Y.IntakeEdit))}function s(u){e&&t({...e,weight:Number(u.weight),waist:Number(u.waist)})}if(!e)return null;const l=!e.weight&&!e.waist&&!r;return r?g(Se,{withContainer:!0,containerSize:{height:"75px"}}):g(Xe,{children:l?P("form",{className:"weight-waist-form","data-testid":"weight-waist-form",onSubmit:i(s),children:[g(lr,{control:a,name:"weight",render:({field:u})=>g("input",{...u,type:"number",className:"weight-waist-form__input",placeholder:"Enter your weight",required:!0})}),g(lr,{control:a,name:"waist",render:({field:u})=>g("input",{...u,type:"number",className:"weight-waist-form__input",placeholder:"Enter your waist size",required:!0})}),P("div",{className:"weight-waist-form__btns-container",children:[g(V,{className:"btn",type:"submit",children:"update"}),!e.isWeightWaistIgnored&&g(V,{className:"btn",onClickFn:o,children:"dissmis"})]})]}):P("div",{className:"weight-waist-details","data-testid":"weight-waist-details",children:[g("p",{className:"weight-waist-details__title",children:"weight:"}),P("p",{className:"weight-waist-details__text",children:[e.weight," kg"]}),g("p",{className:"weight-waist-details__title",children:"waist:"}),P("p",{className:"weight-waist-details__text",children:[e.waist," cm"]})]})})},vn="nutrition";async function cu(e){const r=await xe.get(`${vn}/chatGPT?prompt=${e}`);return Me(r)}async function uu(e){const r=await xe.get(`${vn}/ninja?query=${e}`);return Me(r)}async function du(e){const r=await xe.get(`${vn}/usda?query=${e}`);return Me(r)}const kt={queryChatGPT:cu,queryNinja:uu,queryUSDA:du};function pu(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2 19V8H1V6H4V4C4 3.44772 4.44772 3 5 3H19C19.5523 3 20 3.44772 20 4V6H23V8H22V19H23V21H1V19H2ZM13 19V12H11V19H13ZM8 19V12H6V19H8ZM18 19V12H16V19H18ZM6 5V6H18V5H6Z"}}]})(e)}function fu(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.5624 10.1875C20.8124 9.5 20.8749 8.8125 20.8124 8.125C20.7499 7.4375 20.4999 6.75 20.1874 6.125C19.6249 5.1875 18.8124 4.4375 17.8749 4C16.8749 3.5625 15.8124 3.4375 14.7499 3.6875C14.2499 3.1875 13.6874 2.75 13.0624 2.4375C12.4374 2.125 11.6874 2 10.9999 2C9.9374 2 8.8749 2.3125 7.9999 2.9375C7.1249 3.5625 6.4999 4.4375 6.1874 5.4375C5.4374 5.625 4.8124 5.9375 4.1874 6.3125C3.6249 6.75 3.1874 7.3125 2.8124 7.875C2.24991 8.8125 2.06241 9.875 2.18741 10.9375C2.31241 12 2.7499 13 3.4374 13.8125C3.1874 14.5 3.1249 15.1875 3.1874 15.875C3.2499 16.5625 3.4999 17.25 3.8124 17.875C4.3749 18.8125 5.1874 19.5625 6.1249 20C7.1249 20.4375 8.1874 20.5625 9.2499 20.3125C9.7499 20.8125 10.3124 21.25 10.9374 21.5625C11.5624 21.875 12.3124 22 12.9999 22C14.0624 22 15.1249 21.6875 15.9999 21.0625C16.8749 20.4375 17.4999 19.5625 17.8124 18.5625C18.4999 18.4375 19.1874 18.125 19.7499 17.6875C20.3124 17.25 20.8124 16.75 21.1249 16.125C21.6874 15.1875 21.8749 14.125 21.7499 13.0625C21.6249 12 21.2499 11 20.5624 10.1875ZM13.0624 20.6875C12.0624 20.6875 11.3124 20.375 10.6249 19.8125C10.6249 19.8125 10.6874 19.75 10.7499 19.75L14.7499 17.4375C14.8749 17.375 14.9374 17.3125 14.9999 17.1875C15.0624 17.0625 15.0624 17 15.0624 16.875V11.25L16.7499 12.25V16.875C16.8124 19.0625 15.0624 20.6875 13.0624 20.6875ZM4.9999 17.25C4.5624 16.5 4.3749 15.625 4.5624 14.75C4.5624 14.75 4.6249 14.8125 4.6874 14.8125L8.6874 17.125C8.8124 17.1875 8.8749 17.1875 8.9999 17.1875C9.1249 17.1875 9.2499 17.1875 9.3124 17.125L14.1874 14.3125V16.25L10.1249 18.625C9.2499 19.125 8.2499 19.25 7.3124 19C6.3124 18.75 5.4999 18.125 4.9999 17.25ZM3.9374 8.5625C4.3749 7.8125 5.0624 7.25 5.8749 6.9375V7.0625V11.6875C5.8749 11.8125 5.8749 11.9375 5.9374 12C5.9999 12.125 6.0624 12.1875 6.1874 12.25L11.0624 15.0625L9.3749 16.0625L5.3749 13.75C4.4999 13.25 3.8749 12.4375 3.6249 11.5C3.3749 10.5625 3.4374 9.4375 3.9374 8.5625ZM17.7499 11.75L12.8749 8.9375L14.5624 7.9375L18.5624 10.25C19.1874 10.625 19.6874 11.125 19.9999 11.75C20.3124 12.375 20.4999 13.0625 20.4374 13.8125C20.3749 14.5 20.1249 15.1875 19.6874 15.75C19.2499 16.3125 18.6874 16.75 17.9999 17V12.25C17.9999 12.125 17.9999 12 17.9374 11.9375C17.9374 11.9375 17.8749 11.8125 17.7499 11.75ZM19.4374 9.25C19.4374 9.25 19.3749 9.1875 19.3124 9.1875L15.3124 6.875C15.1874 6.8125 15.1249 6.8125 14.9999 6.8125C14.8749 6.8125 14.7499 6.8125 14.6874 6.875L9.8124 9.6875V7.75L13.8749 5.375C14.4999 5 15.1874 4.875 15.9374 4.875C16.6249 4.875 17.3124 5.125 17.9374 5.5625C18.4999 6 18.9999 6.5625 19.2499 7.1875C19.4999 7.8125 19.5624 8.5625 19.4374 9.25ZM8.9374 12.75L7.2499 11.75V7.0625C7.2499 6.375 7.4374 5.625 7.8124 5.0625C8.1874 4.4375 8.7499 4 9.3749 3.6875C9.9999 3.375 10.7499 3.25 11.4374 3.375C12.1249 3.4375 12.8124 3.75 13.3749 4.1875C13.3749 4.1875 13.3124 4.25 13.2499 4.25L9.2499 6.5625C9.1249 6.625 9.0624 6.6875 8.9999 6.8125C8.9374 6.9375 8.9374 7 8.9374 7.125V12.75ZM9.8124 10.75L11.9999 9.5L14.1874 10.75V13.25L11.9999 14.5L9.8124 13.25V10.75Z"}}]})(e)}const vu=()=>g("div",{className:"dot-loader","data-testid":"dot-loader"}),Tt=({queryState:{type:e,status:r,error:t,response:n}})=>r==="loading"?g(vu,{}):r==="error"&&t?g(un,{msg:t}):r==="success"?P("section",{"data-testid":"nutrition-query-response-handler",children:[e==="chatGPT"&&g("p",{children:n}),e==="ninjaAPI"&&g("ul",{className:"nutrition-query__results__item__list","data-testid":"nutrition-query-response-ninja-api-response",children:n.map((a,i)=>g("li",{children:Object.entries(a).map(([o,s])=>o==="name"?g("strong",{children:a.name},o):P("div",{children:[P("span",{children:[o,":"]}),g("span",{children:s})]},o))},i))}),e==="usdaAPI"&&g("ul",{className:"nutrition-query__results__item__list","data-testid":"nutrition-query-response-usda-api-response",children:n.map((a,i)=>{const o=Object.entries(a);return g("li",{children:o.map(([s,l])=>s==="description"?g("strong",{children:a.description},s):P("div",{children:[P("span",{children:[s,":"]}),g("span",{children:l})]},s))},i)})})]}):null;const gu=()=>{const{chatGPTQuery:e,setChatGPTQuery:r,ninjaAPIQuery:t,setNinjaAPIQuery:n,USDAAPIQuery:a,setUSDAAPIQuery:i}=le(),{control:o,handleSubmit:s}=ri({defaultValues:{chatGPTQuery:"",ninjaAPIQuery:"",USDAAPIQuery:""}});async function l(u){if(u.chatGPTQuery)try{r({...e,status:"loading"});const d=await kt.queryChatGPT(u.chatGPTQuery);r({...e,status:"success",response:d})}catch(d){r({...e,status:"error",error:d instanceof Error?d.message:"An unknown error occurred."})}if(u.ninjaAPIQuery)try{n({...t,status:"loading"});const d=await kt.queryNinja(u.ninjaAPIQuery);n({...t,status:"success",response:d})}catch(d){n({...t,status:"error",error:d instanceof Error?d.message:"An unknown error occurred."})}if(u.USDAAPIQuery)try{i({...a,status:"loading"});const d=await kt.queryUSDA(u.USDAAPIQuery);i({...a,status:"success",response:d})}catch(d){i({...a,status:"error",error:d instanceof Error?d.message:"An unknown error occurred."})}}return P("section",{className:"nutrition-query","data-testid":"nutrition-query",children:[P("section",{className:"nutrition-query__desc",children:[g("p",{children:"This tab let's you query the APIs used by the app."}),P("ul",{children:[g("li",{children:"The first one is a chatbot that generates a response based on the input"}),g("li",{children:"The second one is a food database."}),g("li",{children:"The third one is a nutrition database."})]})]}),P("form",{className:"nutrition-query__form",autoComplete:"off","data-testid":"nutrition-query-form",children:[P("label",{htmlFor:"chatGPTQuery",children:[g("span",{children:"Chat GPT"}),g(fu,{})]}),g(lr,{name:"chatGPTQuery",control:o,render:({field:u})=>g("textarea",{id:"chatGPTQuery",...u})}),P("label",{htmlFor:"ninjaAPIQuery",children:[g("span",{children:"Ninja API"}),g(Go,{})]}),g(lr,{name:"ninjaAPIQuery",control:o,render:({field:u})=>g("input",{id:"ninjaAPIQuery",...u})}),P("label",{htmlFor:"USDAAPIQuery",children:[g("span",{children:"USDA API"}),g(pu,{})]}),g(lr,{name:"USDAAPIQuery",control:o,render:({field:u})=>g("input",{id:"USDAAPIQuery",...u})}),g(V,{onClickFn:s(l),children:"query"})]}),P("div",{className:"nutrition-query__results",children:[e.status!=="idle"&&P("div",{className:"nutrition-query__results__item",children:[g("h1",{children:"Chat GPT Response:"}),g(Tt,{queryState:e})]}),t.status!=="idle"&&P("div",{className:"nutrition-query__results__item",children:[g("h1",{children:"Ninja API Response:"}),g(Tt,{queryState:t})]}),a.status!=="idle"&&P("div",{className:"nutrition-query__results__item",children:[g("h1",{children:"USDA API Response:"}),g(Tt,{queryState:a})]})]})]})};const va=[{name:"cup (250ml)",value:250},{name:"bottle (750ml)",value:750},{name:"1.5 Liter",value:1500}],mu=()=>{const{dailyData:e,updateDailyData:r,recommendedWaterIntake:t}=le(),[n,a]=D.useState("");function i(s){a(s.name)}function o(){if(!e)return;const s=va.find(d=>d.name===n);if(!s)return Vt.error("Please select a value");const l=ue.getDefaultIntake();l.items[0].quantity=s.value,l.items[0].unit=lt.MILLILITER,l.items[0].name="water";const u=[...e.intakes,l];r({...e,intakes:u})}return P("section",{className:"water-edit","data-testid":"water-edit",children:[g("h2",{className:"water-edit__title",children:`Recommended water intake: ${t} ml`}),g("div",{className:"water-edit__btns-values-container",children:va.map(s=>g(V,{className:qe("btn",{"btn-selected":n===s.name}),onClickFn:()=>i(s),children:s.name},s.value))}),g(V,{className:"water-edit__btn-save",onClickFn:o,children:"Save"})]})};function Jt(e,r){return Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jt(e,r)}function hi(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,Jt(e,r)}var bi=E.createContext(null);function hu(e){e()}var yi=hu,bu=function(r){return yi=r},yu=function(){return yi};function Iu(){var e=yu(),r=null,t=null;return{clear:function(){r=null,t=null},notify:function(){e(function(){for(var a=r;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=r;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=t={callback:a,next:null,prev:t};return o.prev?o.prev.next=o:r=o,function(){!i||r===null||(i=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var ga={notify:function(){},get:function(){return[]}};function Ii(e,r){var t,n=ga;function a(c){return l(),n.subscribe(c)}function i(){n.notify()}function o(){d.onStateChange&&d.onStateChange()}function s(){return!!t}function l(){t||(t=r?r.addNestedSub(o):e.subscribe(o),n=Iu())}function u(){t&&(t(),t=void 0,n.clear(),n=ga)}var d={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:s,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return n}};return d}var Ci=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?D.useLayoutEffect:D.useEffect;function Cu(e){var r=e.store,t=e.context,n=e.children,a=D.useMemo(function(){var s=Ii(r);return{store:r,subscription:s}},[r]),i=D.useMemo(function(){return r.getState()},[r]);Ci(function(){var s=a.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),i!==r.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[a,i]);var o=t||bi;return E.createElement(o.Provider,{value:a},n)}var Di={exports:{}},U={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt=60103,mt=60106,yr=60107,Ir=60108,Cr=60114,Dr=60109,wr=60110,xr=60112,Sr=60113,gn=60120,Pr=60115,Ar=60116,wi=60121,xi=60122,Si=60117,Pi=60129,Ai=60131;if(typeof Symbol=="function"&&Symbol.for){var J=Symbol.for;gt=J("react.element"),mt=J("react.portal"),yr=J("react.fragment"),Ir=J("react.strict_mode"),Cr=J("react.profiler"),Dr=J("react.provider"),wr=J("react.context"),xr=J("react.forward_ref"),Sr=J("react.suspense"),gn=J("react.suspense_list"),Pr=J("react.memo"),Ar=J("react.lazy"),wi=J("react.block"),xi=J("react.server.block"),Si=J("react.fundamental"),Pi=J("react.debug_trace_mode"),Ai=J("react.legacy_hidden")}function he(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case gt:switch(e=e.type,e){case yr:case Cr:case Ir:case Sr:case gn:return e;default:switch(e=e&&e.$$typeof,e){case wr:case xr:case Ar:case Pr:case Dr:return e;default:return r}}case mt:return r}}}var Du=Dr,wu=gt,xu=xr,Su=yr,Pu=Ar,Au=Pr,Eu=mt,Ou=Cr,Ru=Ir,Nu=Sr;U.ContextConsumer=wr;U.ContextProvider=Du;U.Element=wu;U.ForwardRef=xu;U.Fragment=Su;U.Lazy=Pu;U.Memo=Au;U.Portal=Eu;U.Profiler=Ou;U.StrictMode=Ru;U.Suspense=Nu;U.isAsyncMode=function(){return!1};U.isConcurrentMode=function(){return!1};U.isContextConsumer=function(e){return he(e)===wr};U.isContextProvider=function(e){return he(e)===Dr};U.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gt};U.isForwardRef=function(e){return he(e)===xr};U.isFragment=function(e){return he(e)===yr};U.isLazy=function(e){return he(e)===Ar};U.isMemo=function(e){return he(e)===Pr};U.isPortal=function(e){return he(e)===mt};U.isProfiler=function(e){return he(e)===Cr};U.isStrictMode=function(e){return he(e)===Ir};U.isSuspense=function(e){return he(e)===Sr};U.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yr||e===Cr||e===Pi||e===Ir||e===Sr||e===gn||e===Ai||typeof e=="object"&&e!==null&&(e.$$typeof===Ar||e.$$typeof===Pr||e.$$typeof===Dr||e.$$typeof===wr||e.$$typeof===xr||e.$$typeof===Si||e.$$typeof===wi||e[0]===xi)};U.typeOf=he;Di.exports=U;var ku=Di.exports,Tu=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Bu=["reactReduxForwardedRef"],Lu=[],Mu=[null,null];function Fu(e,r){var t=e[1];return[r.payload,t+1]}function ma(e,r,t){Ci(function(){return e.apply(void 0,r)},t)}function Gu(e,r,t,n,a,i,o){e.current=n,r.current=a,t.current=!1,i.current&&(i.current=null,o())}function $u(e,r,t,n,a,i,o,s,l,u){if(e){var d=!1,c=null,p=function(){if(!d){var m=r.getState(),h,b;try{h=n(m,a.current)}catch(y){b=y,c=y}b||(c=null),h===i.current?o.current||l():(i.current=h,s.current=h,o.current=!0,u({type:"STORE_UPDATED",payload:{error:b}}))}};t.onStateChange=p,t.trySubscribe(),p();var f=function(){if(d=!0,t.tryUnsubscribe(),t.onStateChange=null,c)throw c};return f}}var _u=function(){return[null,0]};function Wu(e,r){r===void 0&&(r={});var t=r,n=t.getDisplayName,a=n===void 0?function(I){return"ConnectAdvanced("+I+")"}:n,i=t.methodName,o=i===void 0?"connectAdvanced":i,s=t.renderCountProp,l=s===void 0?void 0:s,u=t.shouldHandleStateChanges,d=u===void 0?!0:u,c=t.storeKey,p=c===void 0?"store":c;t.withRef;var f=t.forwardRef,v=f===void 0?!1:f,m=t.context,h=m===void 0?bi:m,b=qr(t,Tu),y=h;return function(C){var x=C.displayName||C.name||"Component",w=a(x),N=T({},b,{getDisplayName:a,methodName:o,renderCountProp:l,shouldHandleStateChanges:d,storeKey:p,displayName:w,wrappedComponentName:x,WrappedComponent:C}),O=b.pure;function A(F){return e(F.dispatch,N)}var B=O?D.useMemo:function(F){return F()};function L(F){var z=D.useMemo(function(){var tr=F.reactReduxForwardedRef,Ot=qr(F,Bu);return[F.context,tr,Ot]},[F]),K=z[0],R=z[1],M=z[2],G=D.useMemo(function(){return K&&K.Consumer&&ku.isContextConsumer(E.createElement(K.Consumer,null))?K:y},[K,y]),$=D.useContext(G),q=!!F.store&&!!F.store.getState&&!!F.store.dispatch;$&&$.store;var Q=q?F.store:$.store,te=D.useMemo(function(){return A(Q)},[Q]),Rr=D.useMemo(function(){if(!d)return Mu;var tr=Ii(Q,q?null:$.subscription),Ot=tr.notifyNestedSubs.bind(tr);return[tr,Ot]},[Q,q,$]),ye=Rr[0],Nr=Rr[1],kr=D.useMemo(function(){return q?$:T({},$,{subscription:ye})},[q,$,ye]),Tr=D.useReducer(Fu,Lu,_u),xt=Tr[0],Fe=xt[0],St=Tr[1];if(Fe&&Fe.error)throw Fe.error;var $n=D.useRef(),Pt=D.useRef(M),Br=D.useRef(),_n=D.useRef(!1),At=B(function(){return Br.current&&M===Pt.current?Br.current:te(Q.getState(),M)},[Q,Fe,M]);ma(Gu,[Pt,$n,_n,M,At,Br,Nr]),ma($u,[d,Q,ye,te,Pt,$n,_n,Br,Nr,St],[Q,ye,te]);var Et=D.useMemo(function(){return E.createElement(C,T({},At,{ref:R}))},[R,C,At]),Ro=D.useMemo(function(){return d?E.createElement(G.Provider,{value:kr},Et):Et},[G,Et,kr]);return Ro}var j=O?E.memo(L):L;if(j.WrappedComponent=C,j.displayName=L.displayName=w,v){var W=E.forwardRef(function(z,K){return E.createElement(j,T({},z,{reactReduxForwardedRef:K}))});return W.displayName=w,W.WrappedComponent=C,jn(W,C)}return jn(j,C)}}function ha(e,r){return e===r?e!==0||r!==0||1/e===1/r:e!==e&&r!==r}function Bt(e,r){if(ha(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var a=0;a<t.length;a++)if(!Object.prototype.hasOwnProperty.call(r,t[a])||!ha(e[t[a]],r[t[a]]))return!1;return!0}function Uu(e,r){var t={},n=function(o){var s=e[o];typeof s=="function"&&(t[o]=function(){return r(s.apply(void 0,arguments))})};for(var a in e)n(a);return t}function mn(e){return function(t,n){var a=e(t,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function ba(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function Ei(e,r){return function(n,a){a.displayName;var i=function(s,l){return i.dependsOnOwnProps?i.mapToProps(s,l):i.mapToProps(s)};return i.dependsOnOwnProps=!0,i.mapToProps=function(s,l){i.mapToProps=e,i.dependsOnOwnProps=ba(e);var u=i(s,l);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=ba(u),u=i(s,l)),u},i}}function ju(e){return typeof e=="function"?Ei(e):void 0}function qu(e){return e?void 0:mn(function(r){return{dispatch:r}})}function Hu(e){return e&&typeof e=="object"?mn(function(r){return Uu(e,r)}):void 0}const Vu=[ju,qu,Hu];function zu(e){return typeof e=="function"?Ei(e):void 0}function Ku(e){return e?void 0:mn(function(){return{}})}const Qu=[zu,Ku];function Yu(e,r,t){return T({},t,e,r)}function Xu(e){return function(t,n){n.displayName;var a=n.pure,i=n.areMergedPropsEqual,o=!1,s;return function(u,d,c){var p=e(u,d,c);return o?(!a||!i(p,s))&&(s=p):(o=!0,s=p),s}}}function Zu(e){return typeof e=="function"?Xu(e):void 0}function Ju(e){return e?void 0:function(){return Yu}}const ed=[Zu,Ju];var rd=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function td(e,r,t,n){return function(i,o){return t(e(i,o),r(n,o),o)}}function nd(e,r,t,n,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,s=a.areStatePropsEqual,l=!1,u,d,c,p,f;function v(I,C){return u=I,d=C,c=e(u,d),p=r(n,d),f=t(c,p,d),l=!0,f}function m(){return c=e(u,d),r.dependsOnOwnProps&&(p=r(n,d)),f=t(c,p,d),f}function h(){return e.dependsOnOwnProps&&(c=e(u,d)),r.dependsOnOwnProps&&(p=r(n,d)),f=t(c,p,d),f}function b(){var I=e(u,d),C=!s(I,c);return c=I,C&&(f=t(c,p,d)),f}function y(I,C){var x=!o(C,d),w=!i(I,u,C,d);return u=I,d=C,x&&w?m():x?h():w?b():f}return function(C,x){return l?y(C,x):v(C,x)}}function ad(e,r){var t=r.initMapStateToProps,n=r.initMapDispatchToProps,a=r.initMergeProps,i=qr(r,rd),o=t(e,i),s=n(e,i),l=a(e,i),u=i.pure?nd:td;return u(o,s,l,e,i)}var id=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Lt(e,r,t){for(var n=r.length-1;n>=0;n--){var a=r[n](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+t+" argument when connecting component "+o.wrappedComponentName+".")}}function od(e,r){return e===r}function sd(e){var r=e===void 0?{}:e,t=r.connectHOC,n=t===void 0?Wu:t,a=r.mapStateToPropsFactories,i=a===void 0?Qu:a,o=r.mapDispatchToPropsFactories,s=o===void 0?Vu:o,l=r.mergePropsFactories,u=l===void 0?ed:l,d=r.selectorFactory,c=d===void 0?ad:d;return function(f,v,m,h){h===void 0&&(h={});var b=h,y=b.pure,I=y===void 0?!0:y,C=b.areStatesEqual,x=C===void 0?od:C,w=b.areOwnPropsEqual,N=w===void 0?Bt:w,O=b.areStatePropsEqual,A=O===void 0?Bt:O,B=b.areMergedPropsEqual,L=B===void 0?Bt:B,j=qr(b,id),W=Lt(f,i,"mapStateToProps"),F=Lt(v,s,"mapDispatchToProps"),z=Lt(m,u,"mergeProps");return n(c,T({methodName:"connect",getDisplayName:function(R){return"Connect("+R+")"},shouldHandleStateChanges:!!f,initMapStateToProps:W,initMapDispatchToProps:F,initMergeProps:z,pure:I,areStatesEqual:x,areOwnPropsEqual:N,areStatePropsEqual:A,areMergedPropsEqual:L},j))}}const Oi=sd();bu(Ya.unstable_batchedUpdates);function ld(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function Ri(e,r){var t=D.useState(function(){return{inputs:r,result:e()}})[0],n=D.useRef(!0),a=D.useRef(t),i=n.current||!!(r&&a.current.inputs&&ld(r,a.current.inputs)),o=i?a.current:{inputs:r,result:e()};return D.useEffect(function(){n.current=!1,a.current=o},[o]),o.result}function cd(e,r){return Ri(function(){return e},r)}var _=Ri,k=cd,ud=!0,Mt="Invariant failed";function dd(e,r){if(!e){if(ud)throw new Error(Mt);var t=typeof r=="function"?r():r,n=t?"".concat(Mt,": ").concat(t):Mt;throw new Error(n)}}var me=function(r){var t=r.top,n=r.right,a=r.bottom,i=r.left,o=n-i,s=a-t,l={top:t,right:n,bottom:a,left:i,width:o,height:s,x:i,y:t,center:{x:(n+i)/2,y:(a+t)/2}};return l},hn=function(r,t){return{top:r.top-t.top,left:r.left-t.left,bottom:r.bottom+t.bottom,right:r.right+t.right}},ya=function(r,t){return{top:r.top+t.top,left:r.left+t.left,bottom:r.bottom-t.bottom,right:r.right-t.right}},pd=function(r,t){return{top:r.top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x}},Ft={top:0,right:0,bottom:0,left:0},bn=function(r){var t=r.borderBox,n=r.margin,a=n===void 0?Ft:n,i=r.border,o=i===void 0?Ft:i,s=r.padding,l=s===void 0?Ft:s,u=me(hn(t,a)),d=me(ya(t,o)),c=me(ya(d,l));return{marginBox:u,borderBox:me(t),paddingBox:d,contentBox:c,margin:a,border:o,padding:l}},ce=function(r){var t=r.slice(0,-2),n=r.slice(-2);if(n!=="px")return 0;var a=Number(t);return isNaN(a)&&dd(!1),a},fd=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Qr=function(r,t){var n=r.borderBox,a=r.border,i=r.margin,o=r.padding,s=pd(n,t);return bn({borderBox:s,border:a,margin:i,padding:o})},Yr=function(r,t){return t===void 0&&(t=fd()),Qr(r,t)},Ni=function(r,t){var n={top:ce(t.marginTop),right:ce(t.marginRight),bottom:ce(t.marginBottom),left:ce(t.marginLeft)},a={top:ce(t.paddingTop),right:ce(t.paddingRight),bottom:ce(t.paddingBottom),left:ce(t.paddingLeft)},i={top:ce(t.borderTopWidth),right:ce(t.borderRightWidth),bottom:ce(t.borderBottomWidth),left:ce(t.borderLeftWidth)};return bn({borderBox:r,margin:n,padding:a,border:i})},ki=function(r){var t=r.getBoundingClientRect(),n=window.getComputedStyle(r);return Ni(t,n)},Ia=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function vd(e,r){return!!(e===r||Ia(e)&&Ia(r))}function gd(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(!vd(e[t],r[t]))return!1;return!0}function X(e,r){r===void 0&&(r=gd);var t,n=[],a,i=!1;function o(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return i&&t===this&&r(s,n)||(a=e.apply(this,s),i=!0,t=this,n=s),a}return o}var md=function(r){var t=[],n=null,a=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];t=s,!n&&(n=requestAnimationFrame(function(){n=null,r.apply(void 0,t)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};const fr=md;function Ti(e,r){}Ti.bind(null,"warn");Ti.bind(null,"error");function Ie(){}function hd(e,r){return T({},e,{},r)}function pe(e,r,t){var n=r.map(function(a){var i=hd(t,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(function(i){i()})}}var bd="Invariant failed";function Xr(e){this.message=e}Xr.prototype.toString=function(){return this.message};function S(e,r){if(!e)throw new Xr(bd)}var yd=function(e){hi(r,e);function r(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=Ie,n.onWindowError=function(s){var l=n.getCallbacks();l.isDragging()&&l.tryAbort();var u=s.error;u instanceof Xr&&s.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(s){n.callbacks=s},n}var t=r.prototype;return t.componentDidMount=function(){this.unbind=pe(window,[{eventName:"error",fn:this.onWindowError}])},t.componentDidCatch=function(a){if(a instanceof Xr){this.setState({});return}throw a},t.componentWillUnmount=function(){this.unbind()},t.render=function(){return this.props.children(this.setCallbacks)},r}(E.Component),Id=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Zr=function(r){return r+1},Cd=function(r){return`
  You have lifted an item in position `+Zr(r.source.index)+`
`},Bi=function(r,t){var n=r.droppableId===t.droppableId,a=Zr(r.index),i=Zr(t.index);return n?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+r.droppableId+`
    to list `+t.droppableId+`
    in position `+i+`
  `},Li=function(r,t,n){var a=t.droppableId===n.droppableId;return a?`
      The item `+r+`
      has been combined with `+n.draggableId:`
      The item `+r+`
      in list `+t.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Dd=function(r){var t=r.destination;if(t)return Bi(r.source,t);var n=r.combine;return n?Li(r.draggableId,r.source,n):"You are over an area that cannot be dropped on"},Ca=function(r){return`
  The item has returned to its starting position
  of `+Zr(r.index)+`
`},wd=function(r){if(r.reason==="CANCEL")return`
      Movement cancelled.
      `+Ca(r.source)+`
    `;var t=r.destination,n=r.combine;return t?`
      You have dropped the item.
      `+Bi(r.source,t)+`
    `:n?`
      You have dropped the item.
      `+Li(r.draggableId,r.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Ca(r.source)+`
  `},jr={dragHandleUsageInstructions:Id,onDragStart:Cd,onDragUpdate:Dd,onDragEnd:wd},Z={x:0,y:0},re=function(r,t){return{x:r.x+t.x,y:r.y+t.y}},ie=function(r,t){return{x:r.x-t.x,y:r.y-t.y}},Ce=function(r,t){return r.x===t.x&&r.y===t.y},Je=function(r){return{x:r.x!==0?-r.x:0,y:r.y!==0?-r.y:0}},Le=function(r,t,n){var a;return n===void 0&&(n=0),a={},a[r]=t,a[r==="x"?"y":"x"]=n,a},vr=function(r,t){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))},Da=function(r,t){return Math.min.apply(Math,t.map(function(n){return vr(r,n)}))},Mi=function(r){return function(t){return{x:r(t.x),y:r(t.y)}}},xd=function(e,r){var t=me({top:Math.max(r.top,e.top),right:Math.min(r.right,e.right),bottom:Math.min(r.bottom,e.bottom),left:Math.max(r.left,e.left)});return t.width<=0||t.height<=0?null:t},Er=function(r,t){return{top:r.top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x}},wa=function(r){return[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.bottom}]},Sd={top:0,right:0,bottom:0,left:0},Pd=function(r,t){return t?Er(r,t.scroll.diff.displacement):r},Ad=function(r,t,n){if(n&&n.increasedBy){var a;return T({},r,(a={},a[t.end]=r[t.end]+n.increasedBy[t.line],a))}return r},Ed=function(r,t){return t&&t.shouldClipSubject?xd(t.pageMarginBox,r):me(r)},Ke=function(e){var r=e.page,t=e.withPlaceholder,n=e.axis,a=e.frame,i=Pd(r.marginBox,a),o=Ad(i,n,t),s=Ed(o,a);return{page:r,withPlaceholder:t,active:s}},yn=function(e,r){e.frame||S(!1);var t=e.frame,n=ie(r,t.scroll.initial),a=Je(n),i=T({},t,{scroll:{initial:t.scroll.initial,current:r,diff:{value:n,displacement:a},max:t.scroll.max}}),o=Ke({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),s=T({},e,{frame:i,subject:o});return s};function Jr(e){return Object.values?Object.values(e):Object.keys(e).map(function(r){return e[r]})}function In(e,r){if(e.findIndex)return e.findIndex(r);for(var t=0;t<e.length;t++)if(r(e[t]))return t;return-1}function Ae(e,r){if(e.find)return e.find(r);var t=In(e,r);if(t!==-1)return e[t]}function Fi(e){return Array.prototype.slice.call(e)}var Gi=X(function(e){return e.reduce(function(r,t){return r[t.descriptor.id]=t,r},{})}),$i=X(function(e){return e.reduce(function(r,t){return r[t.descriptor.id]=t,r},{})}),ht=X(function(e){return Jr(e)}),Od=X(function(e){return Jr(e)}),er=X(function(e,r){var t=Od(r).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return t});function Cn(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function bt(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var yt=X(function(e,r){return r.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),Rd=function(e){var r=e.isMovingForward,t=e.draggable,n=e.destination,a=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var o=Cn(i);if(!o)return null;function s(m){var h={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return T({},i,{at:h})}var l=i.displaced.all,u=l.length?l[0]:null;if(r)return u?s(u):null;var d=yt(t,a);if(!u){if(!d.length)return null;var c=d[d.length-1];return s(c.descriptor.id)}var p=In(d,function(m){return m.descriptor.id===u});p===-1&&S(!1);var f=p-1;if(f<0)return null;var v=d[f];return s(v.descriptor.id)},rr=function(e,r){return e.descriptor.droppableId===r.descriptor.id},_i={point:Z,value:0},gr={invisible:{},visible:{},all:[]},Nd={displaced:gr,displacedBy:_i,at:null},fe=function(e,r){return function(t){return e<=t&&t<=r}},Wi=function(e){var r=fe(e.top,e.bottom),t=fe(e.left,e.right);return function(n){var a=r(n.top)&&r(n.bottom)&&t(n.left)&&t(n.right);if(a)return!0;var i=r(n.top)||r(n.bottom),o=t(n.left)||t(n.right),s=i&&o;if(s)return!0;var l=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,d=l&&u;if(d)return!0;var c=l&&o||u&&i;return c}},kd=function(e){var r=fe(e.top,e.bottom),t=fe(e.left,e.right);return function(n){var a=r(n.top)&&r(n.bottom)&&t(n.left)&&t(n.right);return a}},Dn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ui={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Td=function(e){return function(r){var t=fe(r.top,r.bottom),n=fe(r.left,r.right);return function(a){return e===Dn?t(a.top)&&t(a.bottom):n(a.left)&&n(a.right)}}},Bd=function(r,t){var n=t.frame?t.frame.scroll.diff.displacement:Z;return Er(r,n)},Ld=function(r,t,n){return t.subject.active?n(t.subject.active)(r):!1},Md=function(r,t,n){return n(t)(r)},wn=function(r){var t=r.target,n=r.destination,a=r.viewport,i=r.withDroppableDisplacement,o=r.isVisibleThroughFrameFn,s=i?Bd(t,n):t;return Ld(s,n,o)&&Md(s,a,o)},Fd=function(r){return wn(T({},r,{isVisibleThroughFrameFn:Wi}))},ji=function(r){return wn(T({},r,{isVisibleThroughFrameFn:kd}))},Gd=function(r){return wn(T({},r,{isVisibleThroughFrameFn:Td(r.destination.axis)}))},$d=function(r,t,n){if(typeof n=="boolean")return n;if(!t)return!0;var a=t.invisible,i=t.visible;if(a[r])return!1;var o=i[r];return o?o.shouldAnimate:!0};function _d(e,r){var t=e.page.marginBox,n={top:r.point.y,right:0,bottom:0,left:r.point.x};return me(hn(t,n))}function mr(e){var r=e.afterDragging,t=e.destination,n=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return r.reduce(function(l,u){var d=_d(u,n),c=u.descriptor.id;l.all.push(c);var p=Fd({target:d,destination:t,viewport:a,withDroppableDisplacement:!0});if(!p)return l.invisible[u.descriptor.id]=!0,l;var f=$d(c,o,i),v={draggableId:c,shouldAnimate:f};return l.visible[c]=v,l},{all:[],visible:{},invisible:{}})}function Wd(e,r){if(!e.length)return 0;var t=e[e.length-1].descriptor.index;return r.inHomeList?t:t+1}function xa(e){var r=e.insideDestination,t=e.inHomeList,n=e.displacedBy,a=e.destination,i=Wd(r,{inHomeList:t});return{displaced:gr,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function et(e){var r=e.draggable,t=e.insideDestination,n=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,s=e.index,l=e.forceShouldAnimate,u=rr(r,n);if(s==null)return xa({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});var d=Ae(t,function(m){return m.descriptor.index===s});if(!d)return xa({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});var c=yt(r,t),p=t.indexOf(d),f=c.slice(p),v=mr({afterDragging:f,destination:n,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:l});return{displaced:v,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function we(e,r){return!!r.effected[e]}var Ud=function(e){var r=e.isMovingForward,t=e.destination,n=e.draggables,a=e.combine,i=e.afterCritical;if(!t.isCombineEnabled)return null;var o=a.draggableId,s=n[o],l=s.descriptor.index,u=we(o,i);return u?r?l:l-1:r?l+1:l},jd=function(e){var r=e.isMovingForward,t=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var i=a.index,o=r?i+1:i-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return o<s||o>u?null:o},qd=function(e){var r=e.isMovingForward,t=e.isInHomeList,n=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,s=e.previousImpact,l=e.viewport,u=e.afterCritical,d=s.at;if(d||S(!1),d.type==="REORDER"){var c=jd({isMovingForward:r,isInHomeList:t,location:d.destination,insideDestination:o});return c==null?null:et({draggable:n,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:c})}var p=Ud({isMovingForward:r,destination:i,displaced:s.displaced,draggables:a,combine:d.combine,afterCritical:u});return p==null?null:et({draggable:n,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})},Hd=function(e){var r=e.displaced,t=e.afterCritical,n=e.combineWith,a=e.displacedBy,i=!!(r.visible[n]||r.invisible[n]);return we(n,t)?i?Z:Je(a.point):i?a.point:Z},Vd=function(e){var r=e.afterCritical,t=e.impact,n=e.draggables,a=bt(t);a||S(!1);var i=a.draggableId,o=n[i].page.borderBox.center,s=Hd({displaced:t.displaced,afterCritical:r,combineWith:i,displacedBy:t.displacedBy});return re(o,s)},qi=function(r,t){return t.margin[r.start]+t.borderBox[r.size]/2},zd=function(r,t){return t.margin[r.end]+t.borderBox[r.size]/2},xn=function(r,t,n){return t[r.crossAxisStart]+n.margin[r.crossAxisStart]+n.borderBox[r.crossAxisSize]/2},Sa=function(r){var t=r.axis,n=r.moveRelativeTo,a=r.isMoving;return Le(t.line,n.marginBox[t.end]+qi(t,a),xn(t,n.marginBox,a))},Pa=function(r){var t=r.axis,n=r.moveRelativeTo,a=r.isMoving;return Le(t.line,n.marginBox[t.start]-zd(t,a),xn(t,n.marginBox,a))},Kd=function(r){var t=r.axis,n=r.moveInto,a=r.isMoving;return Le(t.line,n.contentBox[t.start]+qi(t,a),xn(t,n.contentBox,a))},Qd=function(e){var r=e.impact,t=e.draggable,n=e.draggables,a=e.droppable,i=e.afterCritical,o=er(a.descriptor.id,n),s=t.page,l=a.axis;if(!o.length)return Kd({axis:l,moveInto:a.page,isMoving:s});var u=r.displaced,d=r.displacedBy,c=u.all[0];if(c){var p=n[c];if(we(c,i))return Pa({axis:l,moveRelativeTo:p.page,isMoving:s});var f=Qr(p.page,d.point);return Pa({axis:l,moveRelativeTo:f,isMoving:s})}var v=o[o.length-1];if(v.descriptor.id===t.descriptor.id)return s.borderBox.center;if(we(v.descriptor.id,i)){var m=Qr(v.page,Je(i.displacedBy.point));return Sa({axis:l,moveRelativeTo:m,isMoving:s})}return Sa({axis:l,moveRelativeTo:v.page,isMoving:s})},en=function(e,r){var t=e.frame;return t?re(r,t.scroll.diff.displacement):r},Yd=function(r){var t=r.impact,n=r.draggable,a=r.droppable,i=r.draggables,o=r.afterCritical,s=n.page.borderBox.center,l=t.at;return!a||!l?s:l.type==="REORDER"?Qd({impact:t,draggable:n,draggables:i,droppable:a,afterCritical:o}):Vd({impact:t,draggables:i,afterCritical:o})},It=function(e){var r=Yd(e),t=e.droppable,n=t?en(t,r):r;return n},Hi=function(e,r){var t=ie(r,e.scroll.initial),n=Je(t),a=me({top:r.y,bottom:r.y+e.frame.height,left:r.x,right:r.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:r,diff:{value:t,displacement:n}}};return i};function Aa(e,r){return e.map(function(t){return r[t]})}function Xd(e,r){for(var t=0;t<r.length;t++){var n=r[t].visible[e];if(n)return n}return null}var Zd=function(e){var r=e.impact,t=e.viewport,n=e.destination,a=e.draggables,i=e.maxScrollChange,o=Hi(t,re(t.scroll.current,i)),s=n.frame?yn(n,re(n.frame.scroll.current,i)):n,l=r.displaced,u=mr({afterDragging:Aa(l.all,a),destination:n,displacedBy:r.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),d=mr({afterDragging:Aa(l.all,a),destination:s,displacedBy:r.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),c={},p={},f=[l,u,d];l.all.forEach(function(m){var h=Xd(m,f);if(h){p[m]=h;return}c[m]=!0});var v=T({},r,{displaced:{all:l.all,invisible:c,visible:p}});return v},Jd=function(e,r){return re(e.scroll.diff.displacement,r)},Sn=function(e){var r=e.pageBorderBoxCenter,t=e.draggable,n=e.viewport,a=Jd(n,r),i=ie(a,t.page.borderBox.center);return re(t.client.borderBox.center,i)},Vi=function(e){var r=e.draggable,t=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,s=o===void 0?!1:o,l=ie(n,r.page.borderBox.center),u=Er(r.page.borderBox,l),d={target:u,destination:t,withDroppableDisplacement:i,viewport:a};return s?Gd(d):ji(d)},ep=function(e){var r=e.isMovingForward,t=e.draggable,n=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var d=er(n.descriptor.id,a),c=rr(t,n),p=Rd({isMovingForward:r,draggable:t,destination:n,insideDestination:d,previousImpact:i})||qd({isMovingForward:r,isInHomeList:c,draggable:t,draggables:a,destination:n,insideDestination:d,previousImpact:i,viewport:o,afterCritical:u});if(!p)return null;var f=It({impact:p,draggable:t,droppable:n,draggables:a,afterCritical:u}),v=Vi({draggable:t,destination:n,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var m=Sn({pageBorderBoxCenter:f,draggable:t,viewport:o});return{clientSelection:m,impact:p,scrollJumpRequest:null}}var h=ie(f,s),b=Zd({impact:p,viewport:o,destination:n,draggables:a,maxScrollChange:h});return{clientSelection:l,impact:b,scrollJumpRequest:h}},ne=function(r){var t=r.subject.active;return t||S(!1),t},rp=function(e){var r=e.isMovingForward,t=e.pageBorderBoxCenter,n=e.source,a=e.droppables,i=e.viewport,o=n.subject.active;if(!o)return null;var s=n.axis,l=fe(o[s.start],o[s.end]),u=ht(a).filter(function(c){return c!==n}).filter(function(c){return c.isEnabled}).filter(function(c){return!!c.subject.active}).filter(function(c){return Wi(i.frame)(ne(c))}).filter(function(c){var p=ne(c);return r?o[s.crossAxisEnd]<p[s.crossAxisEnd]:p[s.crossAxisStart]<o[s.crossAxisStart]}).filter(function(c){var p=ne(c),f=fe(p[s.start],p[s.end]);return l(p[s.start])||l(p[s.end])||f(o[s.start])||f(o[s.end])}).sort(function(c,p){var f=ne(c)[s.crossAxisStart],v=ne(p)[s.crossAxisStart];return r?f-v:v-f}).filter(function(c,p,f){return ne(c)[s.crossAxisStart]===ne(f[0])[s.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(c){var p=fe(ne(c)[s.start],ne(c)[s.end]);return p(t[s.line])});return d.length===1?d[0]:d.length>1?d.sort(function(c,p){return ne(c)[s.start]-ne(p)[s.start]})[0]:u.sort(function(c,p){var f=Da(t,wa(ne(c))),v=Da(t,wa(ne(p)));return f!==v?f-v:ne(c)[s.start]-ne(p)[s.start]})[0]},Ea=function(r,t){var n=r.page.borderBox.center;return we(r.descriptor.id,t)?ie(n,t.displacedBy.point):n},tp=function(r,t){var n=r.page.borderBox;return we(r.descriptor.id,t)?Er(n,Je(t.displacedBy.point)):n},np=function(e){var r=e.pageBorderBoxCenter,t=e.viewport,n=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(s){return ji({target:tp(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})}).sort(function(s,l){var u=vr(r,en(n,Ea(s,i))),d=vr(r,en(n,Ea(l,i)));return u<d?-1:d<u?1:s.descriptor.index-l.descriptor.index});return o[0]||null},Or=X(function(r,t){var n=t[r.line];return{value:n,point:Le(r.line,n)}}),ap=function(r,t,n){var a=r.axis;if(r.descriptor.mode==="virtual")return Le(a.line,t[a.line]);var i=r.subject.page.contentBox[a.size],o=er(r.descriptor.id,n),s=o.reduce(function(d,c){return d+c.client.marginBox[a.size]},0),l=s+t[a.line],u=l-i;return u<=0?null:Le(a.line,u)},zi=function(r,t){return T({},r,{scroll:T({},r.scroll,{max:t})})},Ki=function(r,t,n){var a=r.frame;rr(t,r)&&S(!1),r.subject.withPlaceholder&&S(!1);var i=Or(r.axis,t.displaceBy).point,o=ap(r,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:r.frame?r.frame.scroll.max:null};if(!a){var l=Ke({page:r.subject.page,withPlaceholder:s,axis:r.axis,frame:r.frame});return T({},r,{subject:l})}var u=o?re(a.scroll.max,o):a.scroll.max,d=zi(a,u),c=Ke({page:r.subject.page,withPlaceholder:s,axis:r.axis,frame:d});return T({},r,{subject:c,frame:d})},ip=function(r){var t=r.subject.withPlaceholder;t||S(!1);var n=r.frame;if(!n){var a=Ke({page:r.subject.page,axis:r.axis,frame:null,withPlaceholder:null});return T({},r,{subject:a})}var i=t.oldFrameMaxScroll;i||S(!1);var o=zi(n,i),s=Ke({page:r.subject.page,axis:r.axis,frame:o,withPlaceholder:null});return T({},r,{subject:s,frame:o})},op=function(e){var r=e.previousPageBorderBoxCenter,t=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,s=e.viewport,l=e.afterCritical;if(!t){if(n.length)return null;var u={displaced:gr,displacedBy:_i,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},d=It({impact:u,draggable:a,droppable:o,draggables:i,afterCritical:l}),c=rr(a,o)?o:Ki(o,a,i),p=Vi({draggable:a,destination:c,newPageBorderBoxCenter:d,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?u:null}var f=r[o.axis.line]<=t.page.borderBox.center[o.axis.line],v=function(){var h=t.descriptor.index;return t.descriptor.id===a.descriptor.id||f?h:h+1}(),m=Or(o.axis,a.displaceBy);return et({draggable:a,insideDestination:n,destination:o,viewport:s,displacedBy:m,last:gr,index:v})},sp=function(e){var r=e.isMovingForward,t=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,s=e.viewport,l=e.afterCritical,u=rp({isMovingForward:r,pageBorderBoxCenter:t,source:a,droppables:o,viewport:s});if(!u)return null;var d=er(u.descriptor.id,i),c=np({pageBorderBoxCenter:t,viewport:s,destination:u,insideDestination:d,afterCritical:l}),p=op({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:c,insideDestination:d,viewport:s,afterCritical:l});if(!p)return null;var f=It({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l}),v=Sn({pageBorderBoxCenter:f,draggable:n,viewport:s});return{clientSelection:v,impact:p,scrollJumpRequest:null}},oe=function(e){var r=e.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null},lp=function(r,t){var n=oe(r);return n?t[n]:null},cp=function(e){var r=e.state,t=e.type,n=lp(r.impact,r.dimensions.droppables),a=!!n,i=r.dimensions.droppables[r.critical.droppable.id],o=n||i,s=o.axis.direction,l=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!a)return null;var u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=r.dimensions.draggables[r.critical.draggable.id],c=r.current.page.borderBoxCenter,p=r.dimensions,f=p.draggables,v=p.droppables;return l?ep({isMovingForward:u,previousPageBorderBoxCenter:c,draggable:d,destination:o,draggables:f,viewport:r.viewport,previousClientSelection:r.current.client.selection,previousImpact:r.impact,afterCritical:r.afterCritical}):sp({isMovingForward:u,previousPageBorderBoxCenter:c,draggable:d,isOver:o,draggables:f,droppables:v,viewport:r.viewport,afterCritical:r.afterCritical})};function Ne(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Qi(e){var r=fe(e.top,e.bottom),t=fe(e.left,e.right);return function(a){return r(a.y)&&t(a.x)}}function up(e,r){return e.left<r.right&&e.right>r.left&&e.top<r.bottom&&e.bottom>r.top}function dp(e){var r=e.pageBorderBox,t=e.draggable,n=e.candidates,a=t.page.borderBox.center,i=n.map(function(o){var s=o.axis,l=Le(o.axis.line,r.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:vr(a,l)}}).sort(function(o,s){return s.distance-o.distance});return i[0]?i[0].id:null}function pp(e){var r=e.pageBorderBox,t=e.draggable,n=e.droppables,a=ht(n).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!up(r,o))return!1;if(Qi(o)(r.center))return!0;var s=i.axis,l=o.center[s.crossAxisLine],u=r[s.crossAxisStart],d=r[s.crossAxisEnd],c=fe(o[s.crossAxisStart],o[s.crossAxisEnd]),p=c(u),f=c(d);return!p&&!f?!0:p?u<l:d>l});return a.length?a.length===1?a[0].descriptor.id:dp({pageBorderBox:r,draggable:t,candidates:a}):null}var Yi=function(r,t){return me(Er(r,t))},fp=function(e,r){var t=e.frame;return t?Yi(r,t.scroll.diff.value):r};function Xi(e){var r=e.displaced,t=e.id;return!!(r.visible[t]||r.invisible[t])}function vp(e){var r=e.draggable,t=e.closest,n=e.inHomeList;return t?n&&t.descriptor.index>r.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var gp=function(e){var r=e.pageBorderBoxWithDroppableScroll,t=e.draggable,n=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,s=e.afterCritical,l=n.axis,u=Or(n.axis,t.displaceBy),d=u.value,c=r[l.start],p=r[l.end],f=yt(t,a),v=Ae(f,function(h){var b=h.descriptor.id,y=h.page.borderBox.center[l.line],I=we(b,s),C=Xi({displaced:i,id:b});return I?C?p<=y:c<y-d:C?p<=y+d:c<y}),m=vp({draggable:t,closest:v,inHomeList:rr(t,n)});return et({draggable:t,insideDestination:a,destination:n,viewport:o,last:i,displacedBy:u,index:m})},mp=4,hp=function(e){var r=e.draggable,t=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,l=Or(a.axis,r.displaceBy),u=l.value,d=t[s.start],c=t[s.end],p=yt(r,i),f=Ae(p,function(m){var h=m.descriptor.id,b=m.page.borderBox,y=b[s.size],I=y/mp,C=we(h,o),x=Xi({displaced:n.displaced,id:h});return C?x?c>b[s.start]+I&&c<b[s.end]-I:d>b[s.start]-u+I&&d<b[s.end]-u-I:x?c>b[s.start]+u+I&&c<b[s.end]+u-I:d>b[s.start]+I&&d<b[s.end]-I});if(!f)return null;var v={displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:a.descriptor.id}}};return v},Zi=function(e){var r=e.pageOffset,t=e.draggable,n=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,s=e.afterCritical,l=Yi(t.page.borderBox,r),u=pp({pageBorderBox:l,draggable:t,droppables:a});if(!u)return Nd;var d=a[u],c=er(d.descriptor.id,n),p=fp(d,l);return hp({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:d,insideDestination:c,afterCritical:s})||gp({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:d,insideDestination:c,last:i.displaced,viewport:o,afterCritical:s})},Pn=function(e,r){var t;return T({},e,(t={},t[r.descriptor.id]=r,t))},bp=function(r){var t=r.previousImpact,n=r.impact,a=r.droppables,i=oe(t),o=oe(n);if(!i||i===o)return a;var s=a[i];if(!s.subject.withPlaceholder)return a;var l=ip(s);return Pn(a,l)},yp=function(e){var r=e.draggable,t=e.draggables,n=e.droppables,a=e.previousImpact,i=e.impact,o=bp({previousImpact:a,impact:i,droppables:n}),s=oe(i);if(!s)return o;var l=n[s];if(rr(r,l)||l.subject.withPlaceholder)return o;var u=Ki(l,r,t);return Pn(o,u)},dr=function(e){var r=e.state,t=e.clientSelection,n=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,s=a||r.viewport,l=n||r.dimensions,u=t||r.current.client.selection,d=ie(u,r.initial.client.selection),c={offset:d,selection:u,borderBoxCenter:re(r.initial.client.borderBoxCenter,d)},p={selection:re(c.selection,s.scroll.current),borderBoxCenter:re(c.borderBoxCenter,s.scroll.current),offset:re(c.offset,s.scroll.diff.value)},f={client:c,page:p};if(r.phase==="COLLECTING")return T({phase:"COLLECTING"},r,{dimensions:l,viewport:s,current:f});var v=l.draggables[r.critical.draggable.id],m=i||Zi({pageOffset:p.offset,draggable:v,draggables:l.draggables,droppables:l.droppables,previousImpact:r.impact,viewport:s,afterCritical:r.afterCritical}),h=yp({draggable:v,impact:m,previousImpact:r.impact,draggables:l.draggables,droppables:l.droppables}),b=T({},r,{current:f,dimensions:{draggables:l.draggables,droppables:h},impact:m,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return b};function Ip(e,r){return e.map(function(t){return r[t]})}var Ji=function(e){var r=e.impact,t=e.viewport,n=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=r.displaced,s=Ip(o.all,n),l=mr({afterDragging:s,destination:a,displacedBy:r.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:o});return T({},r,{displaced:l})},eo=function(e){var r=e.impact,t=e.draggable,n=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,s=It({impact:r,draggable:t,draggables:a,droppable:n,afterCritical:o});return Sn({pageBorderBoxCenter:s,draggable:t,viewport:i})},ro=function(e){var r=e.state,t=e.dimensions,n=e.viewport;r.movementMode!=="SNAP"&&S(!1);var a=r.impact,i=n||r.viewport,o=t||r.dimensions,s=o.draggables,l=o.droppables,u=s[r.critical.draggable.id],d=oe(a);d||S(!1);var c=l[d],p=Ji({impact:a,viewport:i,destination:c,draggables:s}),f=eo({impact:p,draggable:u,droppable:c,draggables:s,viewport:i,afterCritical:r.afterCritical});return dr({impact:p,clientSelection:f,state:r,dimensions:o,viewport:i})},Cp=function(e){return{index:e.index,droppableId:e.droppableId}},to=function(e){var r=e.draggable,t=e.home,n=e.draggables,a=e.viewport,i=Or(t.axis,r.displaceBy),o=er(t.descriptor.id,n),s=o.indexOf(r);s===-1&&S(!1);var l=o.slice(s+1),u=l.reduce(function(f,v){return f[v.descriptor.id]=!0,f},{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u},c=mr({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),p={displaced:c,displacedBy:i,at:{type:"REORDER",destination:Cp(r.descriptor)}};return{impact:p,afterCritical:d}},Dp=function(e,r){return{draggables:e.draggables,droppables:Pn(e.droppables,r)}},wp=function(e){var r=e.draggable,t=e.offset,n=e.initialWindowScroll,a=Qr(r.client,t),i=Yr(a,n),o=T({},r,{placeholder:T({},r.placeholder,{client:a}),client:a,page:i});return o},xp=function(e){var r=e.frame;return r||S(!1),r},Sp=function(e){var r=e.additions,t=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return r.map(function(i){var o=i.descriptor.droppableId,s=t[o],l=xp(s),u=l.scroll.diff.value,d=re(a,u),c=wp({draggable:i,offset:d,initialWindowScroll:n.scroll.initial});return c})},Pp=function(e){var r=e.state,t=e.published,n=t.modified.map(function(I){var C=r.dimensions.droppables[I.droppableId],x=yn(C,I.scroll);return x}),a=T({},r.dimensions.droppables,{},Gi(n)),i=$i(Sp({additions:t.additions,updatedDroppables:a,viewport:r.viewport})),o=T({},r.dimensions.draggables,{},i);t.removals.forEach(function(I){delete o[I]});var s={droppables:a,draggables:o},l=oe(r.impact),u=l?s.droppables[l]:null,d=s.draggables[r.critical.draggable.id],c=s.droppables[r.critical.droppable.id],p=to({draggable:d,home:c,draggables:o,viewport:r.viewport}),f=p.impact,v=p.afterCritical,m=u&&u.isCombineEnabled?r.impact:f,h=Zi({pageOffset:r.current.page.offset,draggable:s.draggables[r.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:r.viewport,afterCritical:v}),b=T({phase:"DRAGGING"},r,{phase:"DRAGGING",impact:h,onLiftImpact:f,dimensions:s,afterCritical:v,forceShouldAnimate:!1});if(r.phase==="COLLECTING")return b;var y=T({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:r.reason,isWaiting:!1});return y},rn=function(r){return r.movementMode==="SNAP"},Gt=function(r,t,n){var a=Dp(r.dimensions,t);return!rn(r)||n?dr({state:r,dimensions:a}):ro({state:r,dimensions:a})};function $t(e){return e.isDragging&&e.movementMode==="SNAP"?T({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Oa={phase:"IDLE",completed:null,shouldFlush:!1},Ap=function(e,r){if(e===void 0&&(e=Oa),r.type==="FLUSH")return T({},Oa,{shouldFlush:!0});if(r.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&S(!1);var t=r.payload,n=t.critical,a=t.clientSelection,i=t.viewport,o=t.dimensions,s=t.movementMode,l=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],d={selection:a,borderBoxCenter:l.client.borderBox.center,offset:Z},c={client:d,page:{selection:re(d.selection,i.scroll.initial),borderBoxCenter:re(d.selection,i.scroll.initial),offset:re(d.selection,i.scroll.diff.value)}},p=ht(o.droppables).every(function(St){return!St.isFixedOnPage}),f=to({draggable:l,home:u,draggables:o.draggables,viewport:i}),v=f.impact,m=f.afterCritical,h={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:c,current:c,isWindowScrollAllowed:p,impact:v,afterCritical:m,onLiftImpact:v,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return h}if(r.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&S(!1);var b=T({phase:"COLLECTING"},e,{phase:"COLLECTING"});return b}if(r.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||S(!1),Pp({state:e,published:r.payload});if(r.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ne(e)||S(!1);var y=r.payload.client;return Ce(y,e.current.client.selection)?e:dr({state:e,clientSelection:y,impact:rn(e)?e.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return $t(e);Ne(e)||S(!1);var I=r.payload,C=I.id,x=I.newScroll,w=e.dimensions.droppables[C];if(!w)return e;var N=yn(w,x);return Gt(e,N,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ne(e)||S(!1);var O=r.payload,A=O.id,B=O.isEnabled,L=e.dimensions.droppables[A];L||S(!1),L.isEnabled===B&&S(!1);var j=T({},L,{isEnabled:B});return Gt(e,j,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ne(e)||S(!1);var W=r.payload,F=W.id,z=W.isCombineEnabled,K=e.dimensions.droppables[F];K||S(!1),K.isCombineEnabled===z&&S(!1);var R=T({},K,{isCombineEnabled:z});return Gt(e,R,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ne(e)||S(!1),e.isWindowScrollAllowed||S(!1);var M=r.payload.newScroll;if(Ce(e.viewport.scroll.current,M))return $t(e);var G=Hi(e.viewport,M);return rn(e)?ro({state:e,viewport:G}):dr({state:e,viewport:G})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ne(e))return e;var $=r.payload.maxScroll;if(Ce($,e.viewport.scroll.max))return e;var q=T({},e.viewport,{scroll:T({},e.viewport.scroll,{max:$})});return T({phase:"DRAGGING"},e,{viewport:q})}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&S(!1);var Q=cp({state:e,type:r.type});return Q?dr({state:e,impact:Q.impact,clientSelection:Q.clientSelection,scrollJumpRequest:Q.scrollJumpRequest}):e}if(r.type==="DROP_PENDING"){var te=r.payload.reason;e.phase!=="COLLECTING"&&S(!1);var Rr=T({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:te});return Rr}if(r.type==="DROP_ANIMATE"){var ye=r.payload,Nr=ye.completed,kr=ye.dropDuration,Tr=ye.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||S(!1);var xt={phase:"DROP_ANIMATING",completed:Nr,dropDuration:kr,newHomeClientOffset:Tr,dimensions:e.dimensions};return xt}if(r.type==="DROP_COMPLETE"){var Fe=r.payload.completed;return{phase:"IDLE",completed:Fe,shouldFlush:!1}}return e},Ep=function(r){return{type:"BEFORE_INITIAL_CAPTURE",payload:r}},Op=function(r){return{type:"LIFT",payload:r}},Rp=function(r){return{type:"INITIAL_PUBLISH",payload:r}},Np=function(r){return{type:"PUBLISH_WHILE_DRAGGING",payload:r}},kp=function(){return{type:"COLLECTION_STARTING",payload:null}},Tp=function(r){return{type:"UPDATE_DROPPABLE_SCROLL",payload:r}},Bp=function(r){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:r}},Lp=function(r){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:r}},no=function(r){return{type:"MOVE",payload:r}},Mp=function(r){return{type:"MOVE_BY_WINDOW_SCROLL",payload:r}},Fp=function(r){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:r}},Gp=function(){return{type:"MOVE_UP",payload:null}},$p=function(){return{type:"MOVE_DOWN",payload:null}},_p=function(){return{type:"MOVE_RIGHT",payload:null}},Wp=function(){return{type:"MOVE_LEFT",payload:null}},An=function(){return{type:"FLUSH",payload:null}},Up=function(r){return{type:"DROP_ANIMATE",payload:r}},En=function(r){return{type:"DROP_COMPLETE",payload:r}},ao=function(r){return{type:"DROP",payload:r}},jp=function(r){return{type:"DROP_PENDING",payload:r}},io=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},qp=function(e){return function(r){var t=r.getState,n=r.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,s=o.id,l=o.clientSelection,u=o.movementMode,d=t();d.phase==="DROP_ANIMATING"&&n(En({completed:d.completed})),t().phase!=="IDLE"&&S(!1),n(An()),n(Ep({draggableId:s,movementMode:u}));var c={shouldPublishImmediately:u==="SNAP"},p={draggableId:s,scrollOptions:c},f=e.startPublishing(p),v=f.critical,m=f.dimensions,h=f.viewport;n(Rp({critical:v,dimensions:m,clientSelection:l,movementMode:u,viewport:h}))}}}},Hp=function(e){return function(){return function(r){return function(t){t.type==="INITIAL_PUBLISH"&&e.dragging(),t.type==="DROP_ANIMATE"&&e.dropping(t.payload.completed.result.reason),(t.type==="FLUSH"||t.type==="DROP_COMPLETE")&&e.resting(),r(t)}}}},On={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},hr={opacity:{drop:0,combining:.7},scale:{drop:.75}},Rn={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Re=Rn.outOfTheWay+"s "+On.outOfTheWay,pr={fluid:"opacity "+Re,snap:"transform "+Re+", opacity "+Re,drop:function(r){var t=r+"s "+On.drop;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Re,placeholder:"height "+Re+", width "+Re+", margin "+Re},Ra=function(r){return Ce(r,Z)?null:"translate("+r.x+"px, "+r.y+"px)"},tn={moveTo:Ra,drop:function(r,t){var n=Ra(r);return n?t?n+" scale("+hr.scale.drop+")":n:null}},nn=Rn.minDropTime,oo=Rn.maxDropTime,Vp=oo-nn,Na=1500,zp=.6,Kp=function(e){var r=e.current,t=e.destination,n=e.reason,a=vr(r,t);if(a<=0)return nn;if(a>=Na)return oo;var i=a/Na,o=nn+Vp*i,s=n==="CANCEL"?o*zp:o;return Number(s.toFixed(2))},Qp=function(e){var r=e.impact,t=e.draggable,n=e.dimensions,a=e.viewport,i=e.afterCritical,o=n.draggables,s=n.droppables,l=oe(r),u=l?s[l]:null,d=s[t.descriptor.droppableId],c=eo({impact:r,draggable:t,draggables:o,afterCritical:i,droppable:u||d,viewport:a}),p=ie(c,t.client.borderBox.center);return p},Yp=function(e){var r=e.draggables,t=e.reason,n=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!n.at||t!=="DROP"){var s=Ji({draggables:r,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var l=T({},n,{displaced:gr});return{impact:l,didDropInsideDroppable:!0}},Xp=function(e){var r=e.getState,t=e.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var i=r(),o=a.payload.reason;if(i.phase==="COLLECTING"){t(jp({reason:o}));return}if(i.phase!=="IDLE"){var s=i.phase==="DROP_PENDING"&&i.isWaiting;s&&S(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||S(!1);var l=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],c=Yp({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=c.impact,f=c.didDropInsideDroppable,v=f?Cn(p):null,m=f?bt(p):null,h={index:l.draggable.index,droppableId:l.droppable.id},b={draggableId:d.descriptor.id,type:d.descriptor.type,source:h,reason:o,mode:i.movementMode,destination:v,combine:m},y=Qp({impact:p,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),I={critical:i.critical,afterCritical:i.afterCritical,result:b,impact:p},C=!Ce(i.current.client.offset,y)||!!b.combine;if(!C){t(En({completed:I}));return}var x=Kp({current:i.current.client.offset,destination:y,reason:o}),w={newHomeClientOffset:y,dropDuration:x,completed:I};t(Up(w))}}}},so=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Zp(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}function Jp(e){var r=e.onWindowScroll;function t(){r(so())}var n=fr(t),a=Zp(n),i=Ie;function o(){return i!==Ie}function s(){o()&&S(!1),i=pe(window,[a])}function l(){o()||S(!1),n.cancel(),i(),i=Ie}return{start:s,stop:l,isActive:o}}var ef=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},rf=function(e){var r=Jp({onWindowScroll:function(n){e.dispatch(Mp({newScroll:n}))}});return function(t){return function(n){!r.isActive()&&n.type==="INITIAL_PUBLISH"&&r.start(),r.isActive()&&ef(n)&&r.stop(),t(n)}}},tf=function(e){var r=!1,t=!1,n=setTimeout(function(){t=!0}),a=function(o){r||t||(r=!0,e(o),clearTimeout(n))};return a.wasCalled=function(){return r},a},nf=function(){var e=[],r=function(i){var o=In(e,function(u){return u.timerId===i});o===-1&&S(!1);var s=e.splice(o,1),l=s[0];l.callback()},t=function(i){var o=setTimeout(function(){return r(o)}),s={timerId:o,callback:i};e.push(s)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:t,flush:n}},af=function(r,t){return r==null&&t==null?!0:r==null||t==null?!1:r.droppableId===t.droppableId&&r.index===t.index},of=function(r,t){return r==null&&t==null?!0:r==null||t==null?!1:r.draggableId===t.draggableId&&r.droppableId===t.droppableId},sf=function(r,t){if(r===t)return!0;var n=r.draggable.id===t.draggable.id&&r.draggable.droppableId===t.draggable.droppableId&&r.draggable.type===t.draggable.type&&r.draggable.index===t.draggable.index,a=r.droppable.id===t.droppable.id&&r.droppable.type===t.droppable.type;return n&&a},ar=function(r,t){t()},Fr=function(r,t){return{draggableId:r.draggable.id,type:r.droppable.type,source:{droppableId:r.droppable.id,index:r.draggable.index},mode:t}},_t=function(r,t,n,a){if(!r){n(a(t));return}var i=tf(n),o={announce:i};r(t,o),i.wasCalled()||n(a(t))},lf=function(e,r){var t=nf(),n=null,a=function(p,f){n&&S(!1),ar("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var m={draggableId:p,mode:f};v(m)}})},i=function(p,f){n&&S(!1),ar("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(Fr(p,f))})},o=function(p,f){n&&S(!1);var v=Fr(p,f);n={mode:f,lastCritical:p,lastLocation:v.source,lastCombine:null},t.add(function(){ar("onDragStart",function(){return _t(e().onDragStart,v,r,jr.onDragStart)})})},s=function(p,f){var v=Cn(f),m=bt(f);n||S(!1);var h=!sf(p,n.lastCritical);h&&(n.lastCritical=p);var b=!af(n.lastLocation,v);b&&(n.lastLocation=v);var y=!of(n.lastCombine,m);if(y&&(n.lastCombine=m),!(!h&&!b&&!y)){var I=T({},Fr(p,n.mode),{combine:m,destination:v});t.add(function(){ar("onDragUpdate",function(){return _t(e().onDragUpdate,I,r,jr.onDragUpdate)})})}},l=function(){n||S(!1),t.flush()},u=function(p){n||S(!1),n=null,ar("onDragEnd",function(){return _t(e().onDragEnd,p,r,jr.onDragEnd)})},d=function(){if(n){var p=T({},Fr(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(p)}};return{beforeCapture:a,beforeStart:i,start:o,update:s,flush:l,drop:u,abort:d}},cf=function(e,r){var t=lf(e,r);return function(n){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){t.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;t.beforeStart(o,i.payload.movementMode),a(i),t.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var s=i.payload.completed.result;t.flush(),a(i),t.drop(s);return}if(a(i),i.type==="FLUSH"){t.abort();return}var l=n.getState();l.phase==="DRAGGING"&&t.update(l.critical,l.impact)}}}},uf=function(e){return function(r){return function(t){if(t.type!=="DROP_ANIMATION_FINISHED"){r(t);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&S(!1),e.dispatch(En({completed:n.completed}))}}},df=function(e){var r=null,t=null;function n(){t&&(cancelAnimationFrame(t),t=null),r&&(r(),r=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=e.getState();l.phase==="DROP_ANIMATING"&&e.dispatch(io())}};t=requestAnimationFrame(function(){t=null,r=pe(window,[o])})}}}},pf=function(e){return function(){return function(r){return function(t){(t.type==="DROP_COMPLETE"||t.type==="FLUSH"||t.type==="DROP_ANIMATE")&&e.stopPublishing(),r(t)}}}},ff=function(e){var r=!1;return function(){return function(t){return function(n){if(n.type==="INITIAL_PUBLISH"){r=!0,e.tryRecordFocus(n.payload.critical.draggable.id),t(n),e.tryRestoreFocusRecorded();return}if(t(n),!!r){if(n.type==="FLUSH"){r=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){r=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},vf=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},gf=function(e){return function(r){return function(t){return function(n){if(vf(n)){e.stop(),t(n);return}if(n.type==="INITIAL_PUBLISH"){t(n);var a=r.getState();a.phase!=="DRAGGING"&&S(!1),e.start(a);return}t(n),e.scroll(r.getState())}}}},mf=function(e){return function(r){return function(t){if(r(t),t.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(ao({reason:n.reason})))}}}},hf=Uo,bf=function(e){var r=e.dimensionMarshal,t=e.focusMarshal,n=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return _o(Ap,hf(Wo(Hp(n),pf(r),qp(r),Xp,uf,df,mf,gf(o),rf,ff(t),cf(a,i))))},Wt=function(){return{additions:{},removals:{},modified:{}}};function yf(e){var r=e.registry,t=e.callbacks,n=Wt(),a=null,i=function(){a||(t.collectionStarting(),a=requestAnimationFrame(function(){a=null;var d=n,c=d.additions,p=d.removals,f=d.modified,v=Object.keys(c).map(function(b){return r.draggable.getById(b).getDimension(Z)}).sort(function(b,y){return b.descriptor.index-y.descriptor.index}),m=Object.keys(f).map(function(b){var y=r.droppable.getById(b),I=y.callbacks.getScrollWhileDragging();return{droppableId:b,scroll:I}}),h={additions:v,removals:Object.keys(p),modified:m};n=Wt(),t.publish(h)}))},o=function(d){var c=d.descriptor.id;n.additions[c]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},s=function(d){var c=d.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},l=function(){a&&(cancelAnimationFrame(a),a=null,n=Wt())};return{add:o,remove:s,stop:l}}var lo=function(e){var r=e.scrollHeight,t=e.scrollWidth,n=e.height,a=e.width,i=ie({x:t,y:r},{x:a,y:n}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},co=function(){var e=document.documentElement;return e||S(!1),e},uo=function(){var e=co(),r=lo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return r},If=function(){var e=so(),r=uo(),t=e.y,n=e.x,a=co(),i=a.clientWidth,o=a.clientHeight,s=n+i,l=t+o,u=me({top:t,left:n,right:s,bottom:l}),d={frame:u,scroll:{initial:e,current:e,max:r,diff:{value:Z,displacement:Z}}};return d},Cf=function(e){var r=e.critical,t=e.scrollOptions,n=e.registry,a=If(),i=a.scroll.current,o=r.droppable,s=n.droppable.getAllByType(o.type).map(function(c){return c.callbacks.getDimensionAndWatchScroll(i,t)}),l=n.draggable.getAllByType(r.draggable.type).map(function(c){return c.getDimension(i)}),u={draggables:$i(l),droppables:Gi(s)},d={dimensions:u,critical:r,viewport:a};return d};function ka(e,r,t){if(t.descriptor.id===r.id||t.descriptor.type!==r.type)return!1;var n=e.droppable.getById(t.descriptor.droppableId);return n.descriptor.mode==="virtual"}var Df=function(e,r){var t=null,n=yf({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:e}),a=function(f,v){e.droppable.exists(f)||S(!1),t&&r.updateDroppableIsEnabled({id:f,isEnabled:v})},i=function(f,v){t&&(e.droppable.exists(f)||S(!1),r.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:v}))},o=function(f,v){t&&(e.droppable.exists(f)||S(!1),r.updateDroppableScroll({id:f,newScroll:v}))},s=function(f,v){t&&e.droppable.getById(f).callbacks.scroll(v)},l=function(){if(t){n.stop();var f=t.critical.droppable;e.droppable.getAllByType(f.type).forEach(function(v){return v.callbacks.dragStopped()}),t.unsubscribe(),t=null}},u=function(f){t||S(!1);var v=t.critical.draggable;f.type==="ADDITION"&&ka(e,v,f.value)&&n.add(f.value),f.type==="REMOVAL"&&ka(e,v,f.value)&&n.remove(f.value)},d=function(f){t&&S(!1);var v=e.draggable.getById(f.draggableId),m=e.droppable.getById(v.descriptor.droppableId),h={draggable:v.descriptor,droppable:m.descriptor},b=e.subscribe(u);return t={critical:h,unsubscribe:b},Cf({critical:h,registry:e,scrollOptions:f.scrollOptions})},c={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:s,updateDroppableScroll:o,startPublishing:d,stopPublishing:l};return c},po=function(e,r){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===r?!1:e.completed.result.reason==="DROP"},wf=function(e){window.scrollBy(e.x,e.y)},xf=X(function(e){return ht(e).filter(function(r){return!(!r.isEnabled||!r.frame)})}),Sf=function(r,t){var n=Ae(xf(t),function(a){return a.frame||S(!1),Qi(a.frame.pageMarginBox)(r)});return n},Pf=function(e){var r=e.center,t=e.destination,n=e.droppables;if(t){var a=n[t];return a.frame?a:null}var i=Sf(r,n);return i},De={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(r){return Math.pow(r,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Af=function(e,r){var t=e[r.size]*De.startFromPercentage,n=e[r.size]*De.maxScrollAtPercentage,a={startScrollingFrom:t,maxScrollValueAt:n};return a},fo=function(e){var r=e.startOfRange,t=e.endOfRange,n=e.current,a=t-r;if(a===0)return 0;var i=n-r,o=i/a;return o},Nn=1,Ef=function(e,r){if(e>r.startScrollingFrom)return 0;if(e<=r.maxScrollValueAt)return De.maxPixelScroll;if(e===r.startScrollingFrom)return Nn;var t=fo({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:e}),n=1-t,a=De.maxPixelScroll*De.ease(n);return Math.ceil(a)},Ta=De.durationDampening.accelerateAt,Ba=De.durationDampening.stopDampeningAt,Of=function(e,r){var t=r,n=Ba,a=Date.now(),i=a-t;if(i>=Ba)return e;if(i<Ta)return Nn;var o=fo({startOfRange:Ta,endOfRange:n,current:i}),s=e*De.ease(o);return Math.ceil(s)},La=function(e){var r=e.distanceToEdge,t=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,i=Ef(r,t);return i===0?0:a?Math.max(Of(i,n),Nn):i},Ma=function(e){var r=e.container,t=e.distanceToEdges,n=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=Af(r,a),s=t[a.end]<t[a.start];return s?La({distanceToEdge:t[a.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i}):-1*La({distanceToEdge:t[a.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i})},Rf=function(e){var r=e.container,t=e.subject,n=e.proposedScroll,a=t.height>r.height,i=t.width>r.width;return!i&&!a?n:i&&a?null:{x:i?0:n.x,y:a?0:n.y}},Nf=Mi(function(e){return e===0?0:e}),vo=function(e){var r=e.dragStartTime,t=e.container,n=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-t.top,right:t.right-a.x,bottom:t.bottom-a.y,left:a.x-t.left},s=Ma({container:t,distanceToEdges:o,dragStartTime:r,axis:Dn,shouldUseTimeDampening:i}),l=Ma({container:t,distanceToEdges:o,dragStartTime:r,axis:Ui,shouldUseTimeDampening:i}),u=Nf({x:l,y:s});if(Ce(u,Z))return null;var d=Rf({container:t,subject:n,proposedScroll:u});return d?Ce(d,Z)?null:d:null},kf=Mi(function(e){return e===0?0:e>0?1:-1}),kn=function(){var e=function(t,n){return t<0?t:t>n?t-n:0};return function(r){var t=r.current,n=r.max,a=r.change,i=re(t,a),o={x:e(i.x,n.x),y:e(i.y,n.y)};return Ce(o,Z)?null:o}}(),go=function(r){var t=r.max,n=r.current,a=r.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=kf(a),s=kn({max:i,current:n,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},Tn=function(r,t){return go({current:r.scroll.current,max:r.scroll.max,change:t})},Tf=function(r,t){if(!Tn(r,t))return null;var n=r.scroll.max,a=r.scroll.current;return kn({current:a,max:n,change:t})},Bn=function(r,t){var n=r.frame;return n?go({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Bf=function(r,t){var n=r.frame;return!n||!Bn(r,t)?null:kn({current:n.scroll.current,max:n.scroll.max,change:t})},Lf=function(e){var r=e.viewport,t=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=vo({dragStartTime:a,container:r.frame,subject:t,center:n,shouldUseTimeDampening:i});return o&&Tn(r,o)?o:null},Mf=function(e){var r=e.droppable,t=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=r.frame;if(!o)return null;var s=vo({dragStartTime:a,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i});return s&&Bn(r,s)?s:null},Fa=function(e){var r=e.state,t=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=r.current.page.borderBoxCenter,s=r.dimensions.draggables[r.critical.draggable.id],l=s.page.marginBox;if(r.isWindowScrollAllowed){var u=r.viewport,d=Lf({dragStartTime:t,viewport:u,subject:l,center:o,shouldUseTimeDampening:n});if(d){a(d);return}}var c=Pf({center:o,destination:oe(r.impact),droppables:r.dimensions.droppables});if(c){var p=Mf({dragStartTime:t,droppable:c,subject:l,center:o,shouldUseTimeDampening:n});p&&i(c.descriptor.id,p)}},Ff=function(e){var r=e.scrollWindow,t=e.scrollDroppable,n=fr(r),a=fr(t),i=null,o=function(d){i||S(!1);var c=i,p=c.shouldUseTimeDampening,f=c.dragStartTime;Fa({state:d,scrollWindow:n,scrollDroppable:a,dragStartTime:f,shouldUseTimeDampening:p})},s=function(d){i&&S(!1);var c=Date.now(),p=!1,f=function(){p=!0};Fa({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f}),i={dragStartTime:c,shouldUseTimeDampening:p},p&&o(d)},l=function(){i&&(n.cancel(),a.cancel(),i=null)};return{start:s,stop:l,scroll:o}},Gf=function(e){var r=e.move,t=e.scrollDroppable,n=e.scrollWindow,a=function(u,d){var c=re(u.current.client.selection,d);r({client:c})},i=function(u,d){if(!Bn(u,d))return d;var c=Bf(u,d);if(!c)return t(u.descriptor.id,d),null;var p=ie(d,c);t(u.descriptor.id,p);var f=ie(d,p);return f},o=function(u,d,c){if(!u||!Tn(d,c))return c;var p=Tf(d,c);if(!p)return n(c),null;var f=ie(c,p);n(f);var v=ie(c,f);return v},s=function(u){var d=u.scrollJumpRequest;if(d){var c=oe(u.impact);c||S(!1);var p=i(u.dimensions.droppables[c],d);if(p){var f=u.viewport,v=o(u.isWindowScrollAllowed,f,p);v&&a(u,v)}}};return s},$f=function(e){var r=e.scrollDroppable,t=e.scrollWindow,n=e.move,a=Ff({scrollWindow:t,scrollDroppable:r}),i=Gf({move:n,scrollWindow:t,scrollDroppable:r}),o=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){a.scroll(u);return}u.scrollJumpRequest&&i(u)}},s={scroll:o,start:a.start,stop:a.stop};return s},Qe="data-rbd",Ye=function(){var e=Qe+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),an=function(){var e=Qe+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),_f=function(){var e=Qe+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Ga={contextId:Qe+"-scroll-container-context-id"},Wf=function(r){return function(t){return"["+t+'="'+r+'"]'}},ir=function(r,t){return r.map(function(n){var a=n.styles[t];return a?n.selector+" { "+a+" }":""}).join(" ")},Uf="pointer-events: none;",jf=function(e){var r=Wf(e),t=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(Ye.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:Uf,dropAnimating:s}}}(),n=function(){var s=`
      transition: `+pr.outOfTheWay+`;
    `;return{selector:r(an.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),a={selector:r(_f.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,t,a,i];return{always:ir(o,"always"),resting:ir(o,"resting"),dragging:ir(o,"dragging"),dropAnimating:ir(o,"dropAnimating"),userCancel:ir(o,"userCancel")}},se=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?D.useLayoutEffect:D.useEffect,Ut=function(){var r=document.querySelector("head");return r||S(!1),r},$a=function(r){var t=document.createElement("style");return r&&t.setAttribute("nonce",r),t.type="text/css",t};function qf(e,r){var t=_(function(){return jf(e)},[e]),n=D.useRef(null),a=D.useRef(null),i=k(X(function(c){var p=a.current;p||S(!1),p.textContent=c}),[]),o=k(function(c){var p=n.current;p||S(!1),p.textContent=c},[]);se(function(){!n.current&&!a.current||S(!1);var c=$a(r),p=$a(r);return n.current=c,a.current=p,c.setAttribute(Qe+"-always",e),p.setAttribute(Qe+"-dynamic",e),Ut().appendChild(c),Ut().appendChild(p),o(t.always),i(t.resting),function(){var f=function(m){var h=m.current;h||S(!1),Ut().removeChild(h),m.current=null};f(n),f(a)}},[r,o,i,t.always,t.resting,e]);var s=k(function(){return i(t.dragging)},[i,t.dragging]),l=k(function(c){if(c==="DROP"){i(t.dropAnimating);return}i(t.userCancel)},[i,t.dropAnimating,t.userCancel]),u=k(function(){a.current&&i(t.resting)},[i,t.resting]),d=_(function(){return{dragging:s,dropping:l,resting:u}},[s,l,u]);return d}var mo=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Ct(e){return e instanceof mo(e).HTMLElement}function Hf(e,r){var t="["+Ye.contextId+'="'+e+'"]',n=Fi(document.querySelectorAll(t));if(!n.length)return null;var a=Ae(n,function(i){return i.getAttribute(Ye.draggableId)===r});return!a||!Ct(a)?null:a}function Vf(e){var r=D.useRef({}),t=D.useRef(null),n=D.useRef(null),a=D.useRef(!1),i=k(function(p,f){var v={id:p,focus:f};return r.current[p]=v,function(){var h=r.current,b=h[p];b!==v&&delete h[p]}},[]),o=k(function(p){var f=Hf(e,p);f&&f!==document.activeElement&&f.focus()},[e]),s=k(function(p,f){t.current===p&&(t.current=f)},[]),l=k(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var p=t.current;p&&o(p)}))},[o]),u=k(function(p){t.current=null;var f=document.activeElement;f&&f.getAttribute(Ye.draggableId)===p&&(t.current=p)},[]);se(function(){return a.current=!0,function(){a.current=!1;var p=n.current;p&&cancelAnimationFrame(p)}},[]);var d=_(function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:s}},[i,u,l,s]);return d}function zf(){var e={draggables:{},droppables:{}},r=[];function t(c){return r.push(c),function(){var f=r.indexOf(c);f!==-1&&r.splice(f,1)}}function n(c){r.length&&r.forEach(function(p){return p(c)})}function a(c){return e.draggables[c]||null}function i(c){var p=a(c);return p||S(!1),p}var o={register:function(p){e.draggables[p.descriptor.id]=p,n({type:"ADDITION",value:p})},update:function(p,f){var v=e.draggables[f.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var f=p.descriptor.id,v=a(f);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[f],n({type:"REMOVAL",value:p}))},getById:i,findById:a,exists:function(p){return!!a(p)},getAllByType:function(p){return Jr(e.draggables).filter(function(f){return f.descriptor.type===p})}};function s(c){return e.droppables[c]||null}function l(c){var p=s(c);return p||S(!1),p}var u={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var f=s(p.descriptor.id);f&&p.uniqueId===f.uniqueId&&delete e.droppables[p.descriptor.id]},getById:l,findById:s,exists:function(p){return!!s(p)},getAllByType:function(p){return Jr(e.droppables).filter(function(f){return f.descriptor.type===p})}};function d(){e.draggables={},e.droppables={},r.length=0}return{draggable:o,droppable:u,subscribe:t,clean:d}}function Kf(){var e=_(zf,[]);return D.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Ln=E.createContext(null),rt=function(){var e=document.body;return e||S(!1),e},Qf={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Yf=function(r){return"rbd-announcement-"+r};function Xf(e){var r=_(function(){return Yf(e)},[e]),t=D.useRef(null);D.useEffect(function(){var i=document.createElement("div");return t.current=i,i.id=r,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),T(i.style,Qf),rt().appendChild(i),function(){setTimeout(function(){var l=rt();l.contains(i)&&l.removeChild(i),i===t.current&&(t.current=null)})}},[r]);var n=k(function(a){var i=t.current;if(i){i.textContent=a;return}},[]);return n}var Zf=0,Jf={separator:"::"};function Mn(e,r){return r===void 0&&(r=Jf),_(function(){return""+e+r.separator+Zf++},[r.separator,e])}function ev(e){var r=e.contextId,t=e.uniqueId;return"rbd-hidden-text-"+r+"-"+t}function rv(e){var r=e.contextId,t=e.text,n=Mn("hidden-text",{separator:"-"}),a=_(function(){return ev({contextId:r,uniqueId:n})},[n,r]);return D.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=t,o.style.display="none",rt().appendChild(o),function(){var l=rt();l.contains(o)&&l.removeChild(o)}},[a,t]),a}var Dt=E.createContext(null);function ho(e){var r=D.useRef(e);return D.useEffect(function(){r.current=e}),r}function tv(){var e=null;function r(){return!!e}function t(o){return o===e}function n(o){e&&S(!1);var s={abandon:o};return e=s,s}function a(){e||S(!1),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:r,isActive:t,claim:n,release:a,tryAbandon:i}}var nv=9,av=13,Fn=27,bo=32,iv=33,ov=34,sv=35,lv=36,cv=37,uv=38,dv=39,pv=40,Gr,fv=(Gr={},Gr[av]=!0,Gr[nv]=!0,Gr),yo=function(e){fv[e.keyCode]&&e.preventDefault()},wt=function(){var e="visibilitychange";if(typeof document>"u")return e;var r=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],t=Ae(r,function(n){return"on"+n in document});return t||e}(),Io=0,_a=5;function vv(e,r){return Math.abs(r.x-e.x)>=_a||Math.abs(r.y-e.y)>=_a}var Wa={type:"IDLE"};function gv(e){var r=e.cancel,t=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var s=o.button,l=o.clientX,u=o.clientY;if(s===Io){var d={x:l,y:u},c=n();if(c.type==="DRAGGING"){o.preventDefault(),c.actions.move(d);return}c.type!=="PENDING"&&S(!1);var p=c.point;if(vv(p,d)){o.preventDefault();var f=c.actions.fluidLift(d);a({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(o){var s=n();if(s.type!=="DRAGGING"){r();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),r()}},{eventName:"keydown",fn:function(o){var s=n();if(s.type==="PENDING"){r();return}if(o.keyCode===Fn){o.preventDefault(),r();return}yo(o)}},{eventName:"resize",fn:r},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&r()}},{eventName:"webkitmouseforcedown",fn:function(o){var s=n();if(s.type==="IDLE"&&S(!1),s.actions.shouldRespectForcePress()){r();return}o.preventDefault()}},{eventName:wt,fn:r}]}function mv(e){var r=D.useRef(Wa),t=D.useRef(Ie),n=_(function(){return{eventName:"mousedown",fn:function(c){if(!c.defaultPrevented&&c.button===Io&&!(c.ctrlKey||c.metaKey||c.shiftKey||c.altKey)){var p=e.findClosestDraggableId(c);if(p){var f=e.tryGetLock(p,o,{sourceEvent:c});if(f){c.preventDefault();var v={x:c.clientX,y:c.clientY};t.current(),u(f,v)}}}}}},[e]),a=_(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(c){if(!c.defaultPrevented){var p=e.findClosestDraggableId(c);if(p){var f=e.findOptionsForDraggable(p);f&&(f.shouldRespectForcePress||e.canGetLock(p)&&c.preventDefault())}}}}},[e]),i=k(function(){var c={passive:!1,capture:!0};t.current=pe(window,[a,n],c)},[a,n]),o=k(function(){var d=r.current;d.type!=="IDLE"&&(r.current=Wa,t.current(),i())},[i]),s=k(function(){var d=r.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),l=k(function(){var c={capture:!0,passive:!1},p=gv({cancel:s,completed:o,getPhase:function(){return r.current},setPhase:function(v){r.current=v}});t.current=pe(window,p,c)},[s,o]),u=k(function(c,p){r.current.type!=="IDLE"&&S(!1),r.current={type:"PENDING",point:p,actions:c},l()},[l]);se(function(){return i(),function(){t.current()}},[i])}var Ge;function hv(){}var bv=(Ge={},Ge[ov]=!0,Ge[iv]=!0,Ge[lv]=!0,Ge[sv]=!0,Ge);function yv(e,r){function t(){r(),e.cancel()}function n(){r(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===Fn){i.preventDefault(),t();return}if(i.keyCode===bo){i.preventDefault(),n();return}if(i.keyCode===pv){i.preventDefault(),e.moveDown();return}if(i.keyCode===uv){i.preventDefault(),e.moveUp();return}if(i.keyCode===dv){i.preventDefault(),e.moveRight();return}if(i.keyCode===cv){i.preventDefault(),e.moveLeft();return}if(bv[i.keyCode]){i.preventDefault();return}yo(i)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:wt,fn:t}]}function Iv(e){var r=D.useRef(hv),t=_(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==bo)return;var o=e.findClosestDraggableId(i);if(!o)return;var s=e.tryGetLock(o,d,{sourceEvent:i});if(!s)return;i.preventDefault();var l=!0,u=s.snapLift();r.current();function d(){l||S(!1),l=!1,r.current(),n()}r.current=pe(window,yv(u,d),{capture:!0,passive:!1})}}},[e]),n=k(function(){var i={passive:!1,capture:!0};r.current=pe(window,[t],i)},[t]);se(function(){return n(),function(){r.current()}},[n])}var jt={type:"IDLE"},Cv=120,Dv=.15;function wv(e){var r=e.cancel,t=e.getPhase;return[{eventName:"orientationchange",fn:r},{eventName:"resize",fn:r},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(t().type!=="DRAGGING"){r();return}a.keyCode===Fn&&a.preventDefault(),r()}},{eventName:wt,fn:r}]}function xv(e){var r=e.cancel,t=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=n();if(o.type!=="DRAGGING"){r();return}o.hasMoved=!0;var s=i.touches[0],l=s.clientX,u=s.clientY,d={x:l,y:u};i.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:function(i){var o=n();if(o.type!=="DRAGGING"){r();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){r();return}i.preventDefault(),r()}},{eventName:"touchforcechange",fn:function(i){var o=n();o.type==="IDLE"&&S(!1);var s=i.touches[0];if(s){var l=s.force>=Dv;if(l){var u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&r();return}if(u){if(o.hasMoved){i.preventDefault();return}r();return}i.preventDefault()}}}},{eventName:wt,fn:r}]}function Sv(e){var r=D.useRef(jt),t=D.useRef(Ie),n=k(function(){return r.current},[]),a=k(function(f){r.current=f},[]),i=_(function(){return{eventName:"touchstart",fn:function(f){if(!f.defaultPrevented){var v=e.findClosestDraggableId(f);if(v){var m=e.tryGetLock(v,s,{sourceEvent:f});if(m){var h=f.touches[0],b=h.clientX,y=h.clientY,I={x:b,y};t.current(),c(m,I)}}}}}},[e]),o=k(function(){var f={capture:!0,passive:!1};t.current=pe(window,[i],f)},[i]),s=k(function(){var p=r.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),a(jt),t.current(),o())},[o,a]),l=k(function(){var p=r.current;s(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[s]),u=k(function(){var f={capture:!0,passive:!1},v={cancel:l,completed:s,getPhase:n},m=pe(window,xv(v),f),h=pe(window,wv(v),f);t.current=function(){m(),h()}},[l,n,s]),d=k(function(){var f=n();f.type!=="PENDING"&&S(!1);var v=f.actions.fluidLift(f.point);a({type:"DRAGGING",actions:v,hasMoved:!1})},[n,a]),c=k(function(f,v){n().type!=="IDLE"&&S(!1);var m=setTimeout(d,Cv);a({type:"PENDING",point:v,actions:f,longPressTimerId:m}),u()},[u,n,a,d]);se(function(){return o(),function(){t.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),a(jt))}},[n,o,a]),se(function(){var f=pe(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return f},[])}var Pv={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Co(e,r){if(r==null)return!1;var t=!!Pv[r.tagName.toLowerCase()];if(t)return!0;var n=r.getAttribute("contenteditable");return n==="true"||n===""?!0:r===e?!1:Co(e,r.parentElement)}function Av(e,r){var t=r.target;return Ct(t)?Co(e,t):!1}var Ev=function(e){return me(e.getBoundingClientRect()).center};function Ov(e){return e instanceof mo(e).Element}var Rv=function(){var e="matches";if(typeof document>"u")return e;var r=[e,"msMatchesSelector","webkitMatchesSelector"],t=Ae(r,function(n){return n in Element.prototype});return t||e}();function Do(e,r){return e==null?null:e[Rv](r)?e:Do(e.parentElement,r)}function Nv(e,r){return e.closest?e.closest(r):Do(e,r)}function kv(e){return"["+Ye.contextId+'="'+e+'"]'}function Tv(e,r){var t=r.target;if(!Ov(t))return null;var n=kv(e),a=Nv(t,n);return!a||!Ct(a)?null:a}function Bv(e,r){var t=Tv(e,r);return t?t.getAttribute(Ye.draggableId):null}function Lv(e,r){var t="["+an.contextId+'="'+e+'"]',n=Fi(document.querySelectorAll(t)),a=Ae(n,function(i){return i.getAttribute(an.id)===r});return!a||!Ct(a)?null:a}function Mv(e){e.preventDefault()}function $r(e){var r=e.expected,t=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||r!==t)}function wo(e){var r=e.lockAPI,t=e.store,n=e.registry,a=e.draggableId;if(r.isClaimed())return!1;var i=n.draggable.findById(a);return!(!i||!i.options.isEnabled||!po(t.getState(),a))}function Fv(e){var r=e.lockAPI,t=e.contextId,n=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,s=e.sourceEvent,l=wo({lockAPI:r,store:n,registry:a,draggableId:i});if(!l)return null;var u=a.draggable.getById(i),d=Lv(t,u.descriptor.id);if(!d||s&&!u.options.canDragInteractiveElements&&Av(d,s))return null;var c=r.claim(o||Ie),p="PRE_DRAG";function f(){return u.options.shouldRespectForcePress}function v(){return r.isActive(c)}function m(w,N){$r({expected:w,phase:p,isLockActive:v,shouldWarn:!0})&&n.dispatch(N())}var h=m.bind(null,"DRAGGING");function b(w){function N(){r.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(N(),p!=="PRE_DRAG"&&S(!1)),n.dispatch(Op(w.liftActionArgs)),p="DRAGGING";function O(A,B){if(B===void 0&&(B={shouldBlockNextClick:!1}),w.cleanup(),B.shouldBlockNextClick){var L=pe(window,[{eventName:"click",fn:Mv,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(L)}N(),n.dispatch(ao({reason:A}))}return T({isActive:function(){return $r({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(B){return O("DROP",B)},cancel:function(B){return O("CANCEL",B)}},w.actions)}function y(w){var N=fr(function(A){h(function(){return no({client:A})})}),O=b({liftActionArgs:{id:i,clientSelection:w,movementMode:"FLUID"},cleanup:function(){return N.cancel()},actions:{move:N}});return T({},O,{move:N})}function I(){var w={moveUp:function(){return h(Gp)},moveRight:function(){return h(_p)},moveDown:function(){return h($p)},moveLeft:function(){return h(Wp)}};return b({liftActionArgs:{id:i,clientSelection:Ev(d),movementMode:"SNAP"},cleanup:Ie,actions:w})}function C(){var w=$r({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0});w&&r.release()}var x={isActive:function(){return $r({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:y,snapLift:I,abort:C};return x}var Gv=[mv,Iv,Sv];function $v(e){var r=e.contextId,t=e.store,n=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?Gv:[],a||[]),s=D.useState(function(){return tv()})[0],l=k(function(y,I){y.isDragging&&!I.isDragging&&s.tryAbandon()},[s]);se(function(){var y=t.getState(),I=t.subscribe(function(){var C=t.getState();l(y,C),y=C});return I},[s,t,l]),se(function(){return s.tryAbandon},[s.tryAbandon]);for(var u=k(function(b){return wo({lockAPI:s,registry:n,store:t,draggableId:b})},[s,n,t]),d=k(function(b,y,I){return Fv({lockAPI:s,registry:n,contextId:r,store:t,draggableId:b,forceSensorStop:y,sourceEvent:I&&I.sourceEvent?I.sourceEvent:null})},[r,s,n,t]),c=k(function(b){return Bv(r,b)},[r]),p=k(function(b){var y=n.draggable.findById(b);return y?y.options:null},[n.draggable]),f=k(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(An()))},[s,t]),v=k(s.isClaimed,[s]),m=_(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:c,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:v}},[u,d,c,p,f,v]),h=0;h<o.length;h++)o[h](m)}var _v=function(r){return{onBeforeCapture:r.onBeforeCapture,onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragEnd:r.onDragEnd,onDragUpdate:r.onDragUpdate}};function or(e){return e.current||S(!1),e.current}function Wv(e){var r=e.contextId,t=e.setCallbacks,n=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=D.useRef(null),s=ho(e),l=k(function(){return _v(s.current)},[s]),u=Xf(r),d=rv({contextId:r,text:i}),c=qf(r,a),p=k(function(A){or(o).dispatch(A)},[]),f=_(function(){return qn({publishWhileDragging:Np,updateDroppableScroll:Tp,updateDroppableIsEnabled:Bp,updateDroppableIsCombineEnabled:Lp,collectionStarting:kp},p)},[p]),v=Kf(),m=_(function(){return Df(v,f)},[v,f]),h=_(function(){return $f(T({scrollWindow:wf,scrollDroppable:m.scrollDroppable},qn({move:no},p)))},[m.scrollDroppable,p]),b=Vf(r),y=_(function(){return bf({announce:u,autoScroller:h,dimensionMarshal:m,focusMarshal:b,getResponders:l,styleMarshal:c})},[u,h,m,b,l,c]);o.current=y;var I=k(function(){var A=or(o),B=A.getState();B.phase!=="IDLE"&&A.dispatch(An())},[]),C=k(function(){var A=or(o).getState();return A.isDragging||A.phase==="DROP_ANIMATING"},[]),x=_(function(){return{isDragging:C,tryAbort:I}},[C,I]);t(x);var w=k(function(A){return po(or(o).getState(),A)},[]),N=k(function(){return Ne(or(o).getState())},[]),O=_(function(){return{marshal:m,focus:b,contextId:r,canLift:w,isMovementAllowed:N,dragHandleUsageInstructionsId:d,registry:v}},[r,m,d,b,w,N,v]);return $v({contextId:r,store:y,registry:v,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),D.useEffect(function(){return I},[I]),E.createElement(Dt.Provider,{value:O},E.createElement(Cu,{context:Ln,store:y},e.children))}var Uv=0;function jv(){return _(function(){return""+Uv++},[])}function qv(e){var r=jv(),t=e.dragHandleUsageInstructions||jr.dragHandleUsageInstructions;return E.createElement(yd,null,function(n){return E.createElement(Wv,{nonce:e.nonce,contextId:r,setCallbacks:n,dragHandleUsageInstructions:t,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var xo=function(r){return function(t){return r===t}},Hv=xo("scroll"),Vv=xo("auto"),Ua=function(r,t){return t(r.overflowX)||t(r.overflowY)},zv=function(r){var t=window.getComputedStyle(r),n={overflowX:t.overflowX,overflowY:t.overflowY};return Ua(n,Hv)||Ua(n,Vv)},Kv=function(){return!1},Qv=function e(r){return r==null?null:r===document.body?Kv()?r:null:r===document.documentElement?null:zv(r)?r:e(r.parentElement)},on=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Yv=function e(r){if(!r)return!1;var t=window.getComputedStyle(r);return t.position==="fixed"?!0:e(r.parentElement)},Xv=function(e){var r=Qv(e),t=Yv(e);return{closestScrollable:r,isFixedOnPage:t}},Zv=function(e){var r=e.descriptor,t=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,s=e.page,l=e.closest,u=function(){if(!l)return null;var f=l.scrollSize,v=l.client,m=lo({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:v,scrollSize:f,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:m,diff:{value:Z,displacement:Z}}}}(),d=i==="vertical"?Dn:Ui,c=Ke({page:s,withPlaceholder:null,axis:d,frame:u}),p={descriptor:r,isCombineEnabled:n,isFixedOnPage:a,axis:d,isEnabled:t,client:o,page:s,frame:u,subject:c};return p},Jv=function(r,t){var n=ki(r);if(!t||r!==t)return n;var a=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=a+t.scrollHeight,s=i+t.scrollWidth,l={top:a,right:s,bottom:o,left:i},u=hn(l,n.border),d=bn({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return d},eg=function(e){var r=e.ref,t=e.descriptor,n=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,u=n.closestScrollable,d=Jv(r,u),c=Yr(d,a),p=function(){if(!u)return null;var v=ki(u),m={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:Yr(v,a),scroll:on(u),scrollSize:m,shouldClipSubject:l}}(),f=Zv({descriptor:t,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:c,closest:p});return f},rg={passive:!1},tg={passive:!0},ja=function(e){return e.shouldPublishImmediately?rg:tg};function tt(e){var r=D.useContext(e);return r||S(!1),r}var _r=function(r){return r&&r.env.closestScrollable||null};function ng(e){var r=D.useRef(null),t=tt(Dt),n=Mn("droppable"),a=t.registry,i=t.marshal,o=ho(e),s=_(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=D.useRef(s),u=_(function(){return X(function(C,x){r.current||S(!1);var w={x:C,y:x};i.updateDroppableScroll(s.id,w)})},[s.id,i]),d=k(function(){var C=r.current;return!C||!C.env.closestScrollable?Z:on(C.env.closestScrollable)},[]),c=k(function(){var C=d();u(C.x,C.y)},[d,u]),p=_(function(){return fr(c)},[c]),f=k(function(){var C=r.current,x=_r(C);C&&x||S(!1);var w=C.scrollOptions;if(w.shouldPublishImmediately){c();return}p()},[p,c]),v=k(function(C,x){r.current&&S(!1);var w=o.current,N=w.getDroppableRef();N||S(!1);var O=Xv(N),A={ref:N,descriptor:s,env:O,scrollOptions:x};r.current=A;var B=eg({ref:N,descriptor:s,env:O,windowScroll:C,direction:w.direction,isDropDisabled:w.isDropDisabled,isCombineEnabled:w.isCombineEnabled,shouldClipSubject:!w.ignoreContainerClipping}),L=O.closestScrollable;return L&&(L.setAttribute(Ga.contextId,t.contextId),L.addEventListener("scroll",f,ja(A.scrollOptions))),B},[t.contextId,s,f,o]),m=k(function(){var C=r.current,x=_r(C);return C&&x||S(!1),on(x)},[]),h=k(function(){var C=r.current;C||S(!1);var x=_r(C);r.current=null,x&&(p.cancel(),x.removeAttribute(Ga.contextId),x.removeEventListener("scroll",f,ja(C.scrollOptions)))},[f,p]),b=k(function(C){var x=r.current;x||S(!1);var w=_r(x);w||S(!1),w.scrollTop+=C.y,w.scrollLeft+=C.x},[]),y=_(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:m,dragStopped:h,scroll:b}},[h,v,m,b]),I=_(function(){return{uniqueId:n,descriptor:s,callbacks:y}},[y,s,n]);se(function(){return l.current=I.descriptor,a.droppable.register(I),function(){r.current&&h(),a.droppable.unregister(I)}},[y,s,h,I,i,a.droppable]),se(function(){r.current&&i.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),se(function(){r.current&&i.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function qt(){}var qa={width:0,height:0,margin:Sd},ag=function(r){var t=r.isAnimatingOpenOnMount,n=r.placeholder,a=r.animate;return t||a==="close"?qa:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},ig=function(r){var t=r.isAnimatingOpenOnMount,n=r.placeholder,a=r.animate,i=ag({isAnimatingOpenOnMount:t,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?pr.placeholder:null}};function og(e){var r=D.useRef(null),t=k(function(){r.current&&(clearTimeout(r.current),r.current=null)},[]),n=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,s=D.useState(e.animate==="open"),l=s[0],u=s[1];D.useEffect(function(){return l?n!=="open"?(t(),u(!1),qt):r.current?qt:(r.current=setTimeout(function(){r.current=null,u(!1)}),t):qt},[n,l,t]);var d=k(function(p){p.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),c=ig({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return E.createElement(e.placeholder.tagName,{style:c,"data-rbd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})}var sg=E.memo(og),Gn=E.createContext(null),lg=function(e){hi(r,e);function r(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}r.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var t=r.prototype;return t.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},r}(E.PureComponent),Ha={dragging:5e3,dropAnimating:4500},cg=function(r,t){return t?pr.drop(t.duration):r?pr.snap:pr.fluid},ug=function(r,t){return r?t?hr.opacity.drop:hr.opacity.combining:null},dg=function(r){return r.forceShouldAnimate!=null?r.forceShouldAnimate:r.mode==="SNAP"};function pg(e){var r=e.dimension,t=r.client,n=e.offset,a=e.combineWith,i=e.dropping,o=!!a,s=dg(e),l=!!i,u=l?tn.drop(n,o):tn.moveTo(n),d={position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:cg(s,i),transform:u,opacity:ug(o,l),zIndex:l?Ha.dropAnimating:Ha.dragging,pointerEvents:"none"};return d}function fg(e){return{transform:tn.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function vg(e){return e.type==="DRAGGING"?pg(e):fg(e)}function gg(e,r,t){t===void 0&&(t=Z);var n=window.getComputedStyle(r),a=r.getBoundingClientRect(),i=Ni(a,n),o=Yr(i,t),s={client:i,tagName:r.tagName.toLowerCase(),display:n.display},l={x:i.marginBox.width,y:i.marginBox.height},u={descriptor:e,placeholder:s,displaceBy:l,client:i,page:o};return u}function mg(e){var r=Mn("draggable"),t=e.descriptor,n=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,s=e.isEnabled,l=_(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:s}},[i,s,o]),u=k(function(f){var v=a();return v||S(!1),gg(t,v,f)},[t,a]),d=_(function(){return{uniqueId:r,descriptor:t,options:l,getDimension:u}},[t,u,l,r]),c=D.useRef(d),p=D.useRef(!0);se(function(){return n.draggable.register(c.current),function(){return n.draggable.unregister(c.current)}},[n.draggable]),se(function(){if(p.current){p.current=!1;return}var f=c.current;c.current=d,n.draggable.update(d,f)},[d,n.draggable])}function hg(e){e.preventDefault()}function bg(e){var r=D.useRef(null),t=k(function(A){r.current=A},[]),n=k(function(){return r.current},[]),a=tt(Dt),i=a.contextId,o=a.dragHandleUsageInstructionsId,s=a.registry,l=tt(Gn),u=l.type,d=l.droppableId,c=_(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),p=e.children,f=e.draggableId,v=e.isEnabled,m=e.shouldRespectForcePress,h=e.canDragInteractiveElements,b=e.isClone,y=e.mapped,I=e.dropAnimationFinished;if(!b){var C=_(function(){return{descriptor:c,registry:s,getDraggableRef:n,canDragInteractiveElements:h,shouldRespectForcePress:m,isEnabled:v}},[c,s,n,h,m,v]);mg(C)}var x=_(function(){return v?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:hg}:null},[i,o,f,v]),w=k(function(A){y.type==="DRAGGING"&&y.dropping&&A.propertyName==="transform"&&I()},[I,y]),N=_(function(){var A=vg(y),B=y.type==="DRAGGING"&&y.dropping?w:null,L={innerRef:t,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":f,style:A,onTransitionEnd:B},dragHandleProps:x};return L},[i,x,f,y,w,t]),O=_(function(){return{draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}},[c.droppableId,c.id,c.index,c.type]);return p(N,y.snapshot,O)}var So=function(e,r){return e===r},Po=function(e){var r=e.combine,t=e.destination;return t?t.droppableId:r?r.droppableId:null},yg=function(r){return r.combine?r.combine.draggableId:null},Ig=function(r){return r.at&&r.at.type==="COMBINE"?r.at.combine.draggableId:null};function Cg(){var e=X(function(a,i){return{x:a,y:i}}),r=X(function(a,i,o,s,l){return{isDragging:!0,isClone:i,isDropAnimating:!!l,dropAnimation:l,mode:a,draggingOver:o,combineWith:s,combineTargetFor:null}}),t=X(function(a,i,o,s,l,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:i,offset:a,dimension:o,forceShouldAnimate:d,snapshot:r(i,s,l,u,null)}}}),n=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var s=i.current.client.offset,l=i.dimensions.draggables[o.draggableId],u=oe(i.impact),d=Ig(i.impact),c=i.forceShouldAnimate;return t(e(s.x,s.y),i.movementMode,l,o.isClone,u,d,c)}if(i.phase==="DROP_ANIMATING"){var p=i.completed;if(p.result.draggableId!==o.draggableId)return null;var f=o.isClone,v=i.dimensions.draggables[o.draggableId],m=p.result,h=m.mode,b=Po(m),y=yg(m),I=i.dropDuration,C={duration:I,curve:On.drop,moveTo:i.newHomeClientOffset,opacity:y?hr.opacity.drop:null,scale:y?hr.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:v,dropping:C,draggingOver:b,combineWith:y,mode:h,forceShouldAnimate:null,snapshot:r(h,f,b,y,C)}}}return null};return n}function Ao(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Dg={mapped:{type:"SECONDARY",offset:Z,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Ao(null)}};function wg(){var e=X(function(o,s){return{x:o,y:s}}),r=X(Ao),t=X(function(o,s,l){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:s,shouldAnimateDisplacement:l,snapshot:r(s)}}}),n=function(s){return s?t(Z,s,!0):null},a=function(s,l,u,d){var c=u.displaced.visible[s],p=!!(d.inVirtualList&&d.effected[s]),f=bt(u),v=f&&f.draggableId===s?l:null;if(!c){if(!p)return n(v);if(u.displaced.invisible[s])return null;var m=Je(d.displacedBy.point),h=e(m.x,m.y);return t(h,v,!0)}if(p)return n(v);var b=u.displacedBy.point,y=e(b.x,b.y);return t(y,v,c.shouldAnimate)},i=function(s,l){if(s.isDragging)return s.critical.draggable.id===l.draggableId?null:a(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var u=s.completed;return u.result.draggableId===l.draggableId?null:a(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return i}var xg=function(){var r=Cg(),t=wg(),n=function(i,o){return r(i,o)||t(i,o)||Dg};return n},Sg={dropAnimationFinished:io},Pg=Oi(xg,Sg,null,{context:Ln,pure:!0,areStatePropsEqual:So})(bg);function Eo(e){var r=tt(Gn),t=r.isUsingCloneFor;return t===e.draggableId&&!e.isClone?null:E.createElement(Pg,e)}function Ag(e){var r=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,t=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return E.createElement(Eo,T({},e,{isClone:!1,isEnabled:r,canDragInteractiveElements:t,shouldRespectForcePress:n}))}function Eg(e){var r=D.useContext(Dt);r||S(!1);var t=r.contextId,n=r.isMovementAllowed,a=D.useRef(null),i=D.useRef(null),o=e.children,s=e.droppableId,l=e.type,u=e.mode,d=e.direction,c=e.ignoreContainerClipping,p=e.isDropDisabled,f=e.isCombineEnabled,v=e.snapshot,m=e.useClone,h=e.updateViewportMaxScroll,b=e.getContainerForClone,y=k(function(){return a.current},[]),I=k(function(L){a.current=L},[]);k(function(){return i.current},[]);var C=k(function(L){i.current=L},[]),x=k(function(){n()&&h({maxScroll:uo()})},[n,h]);ng({droppableId:s,type:l,mode:u,direction:d,isDropDisabled:p,isCombineEnabled:f,ignoreContainerClipping:c,getDroppableRef:y});var w=E.createElement(lg,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(L){var j=L.onClose,W=L.data,F=L.animate;return E.createElement(sg,{placeholder:W,onClose:j,innerRef:C,animate:F,contextId:t,onTransitionEnd:x})}),N=_(function(){return{innerRef:I,placeholder:w,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":t}}},[t,s,w,I]),O=m?m.dragging.draggableId:null,A=_(function(){return{droppableId:s,type:l,isUsingCloneFor:O}},[s,O,l]);function B(){if(!m)return null;var L=m.dragging,j=m.render,W=E.createElement(Eo,{draggableId:L.draggableId,index:L.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(F,z){return j(F,z,L)});return $o.createPortal(W,b())}return E.createElement(Gn.Provider,{value:A},o(N,v),B())}var Ht=function(r,t){return r===t.droppable.type},Va=function(r,t){return t.draggables[r.draggable.id]},Og=function(){var r={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=T({},r,{shouldAnimatePlaceholder:!1}),n=X(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=X(function(o,s,l,u,d,c){var p=d.descriptor.id,f=d.descriptor.droppableId===o;if(f){var v=c?{render:c,dragging:n(d.descriptor)}:null,m={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:v}}if(!s)return t;if(!u)return r;var h={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}}),i=function(s,l){var u=l.droppableId,d=l.type,c=!l.isDropDisabled,p=l.renderClone;if(s.isDragging){var f=s.critical;if(!Ht(d,f))return t;var v=Va(f,s.dimensions),m=oe(s.impact)===u;return a(u,c,m,m,v,p)}if(s.phase==="DROP_ANIMATING"){var h=s.completed;if(!Ht(d,h.critical))return t;var b=Va(h.critical,s.dimensions);return a(u,c,Po(h.result)===u,oe(h.impact)===u,b,p)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var y=s.completed;if(!Ht(d,y.critical))return t;var I=oe(y.impact)===u,C=!!(y.impact.at&&y.impact.at.type==="COMBINE"),x=y.critical.droppable.id===u;return I?C?r:t:x?r:t}return t};return i},Rg={updateViewportMaxScroll:Fp};function Ng(){return document.body||S(!1),document.body}var kg={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Ng},Oo=Oi(Og,Rg,null,{context:Ln,pure:!0,areStatePropsEqual:So})(Eg);Oo.defaultProps=kg;const Tg=({children:e,...r})=>{const[t,n]=D.useState(!1);return D.useEffect(()=>{const a=requestAnimationFrame(()=>n(!0));return()=>{cancelAnimationFrame(a),n(!1)}},[]),t?g(Oo,{...r,children:e}):null};const Bg=()=>{const{favoriteIntakes:e,isErrorFavoriteIntakes:r,isLoadingFavoriteIntakes:t,isSuccessFavoriteIntakes:n,isEmptyFavoriteIntakes:a}=le(),{updateFavoriteIntake:i}=ui(),[o,s]=D.useState(za(e));function l(c,p){return{background:c?"var(--color-warning)":"",transform:c?"rotate(7deg)":"",...p}}function u(c){if(!c.destination||!o)return;const f=((m,h,b)=>{const y=Array.from(m),[I]=y.splice(h,1);return y.splice(b,0,I),y})(o,c.source.index,c.destination.index);s(f);const v={...f[c.destination.index]};v.sortOrder=c.destination.index,i(v)}function d(c){const{value:p}=c.target;if(!e)return s(za(e));const f=e==null?void 0:e.filter(v=>v.name.toLowerCase().includes(p.toLowerCase())||v.items.some(m=>m.name.toLowerCase().includes(p.toLowerCase())));s(f)}return P("section",{className:"day-edit__favorite-intakes","data-testid":"day-edit-favorite-intakes",children:[g("input",{type:"text",className:"day-edit__favorite-intakes__input",autoComplete:"off",placeholder:"Search...",onChange:d}),t&&g(Se,{}),n&&!a&&g(qv,{onDragEnd:u,children:g(Tg,{droppableId:"droppable",children:c=>P("ul",{className:"list day-edit__favorite-intakes__list",...c.droppableProps,ref:c.innerRef,children:[o.map((p,f)=>g(Ag,{draggableId:p.id,index:f,children:(v,m)=>g("li",{ref:v.innerRef,...v.draggableProps,...v.dragHandleProps,style:l(m.isDragging,v.draggableProps.style),className:"day-edit__favorite-intakes__list__item",children:g(mi,{intake:p,isFavorite:!0})})},p.id)),c.placeholder]})})}),n&&a&&g(us,{entityName:"favorite intake"}),r&&g(un,{msg:"Couldn't get favorite intake. Please try again later."})]})};function za(e){return e?e==null?void 0:e.sort((r,t)=>r.sortOrder-t.sortOrder):[]}const Lg=()=>{const{dailyData:e,isLoading:r,isSuccess:t,isError:n,isLoadingUpdate:a,openedTab:i}=le(),{backgroundColor:o}=cn(),s=t&&e&&!a&&!r,l=r||a,u=i===Y.IntakeList||i===Y.UnRecordedIntakeList;return P("section",{className:"day-edit",style:{backgroundColor:o,border:`5px solid ${o}`},"data-testid":"day-edit",children:[l&&g(Se,{}),n&&g(un,{}),s&&P(Xe,{children:[g(Zc,{}),g(_l,{}),i===Y.WeightWaistInput&&g(lu,{}),i===Y.IntakeEdit&&g($l,{}),i===Y.Workouts&&g(st,{items:e.workouts,render:d=>g(cs,{workout:d,isDayEdit:!0},d.id)}),i===Y.FavoriteIntake&&g(Bg,{}),u&&g(su,{}),i===Y.Query&&g(gu,{}),i===Y.Water&&g(mu,{})]})]})};const Mg=()=>{const e=jo();return P("div",{className:"login-signup-msg","data-testid":"login-signup-msg",children:[g("div",{className:"login-signup-msg-text-container",children:g("h1",{children:"Start Your Journey Now!"})}),g("div",{className:"login-signup-msg-btn-container",children:[{title:"Log in",className:"btn-login",path:"/login"},{title:"Sign up",className:"btn-signup",path:"/signup"}].map(t=>g("button",{className:t.className,onClick:()=>{e(t.path)},children:t.title},t.title))})]})};function Fg(){const e=it(),{mutate:r,isLoading:t}=ot({mutationFn:qo.create,onSuccess:()=>{e.invalidateQueries(["today"])}});return{createDay:r,isLoading:t}}const Qg=()=>{const{loggedInUser:e}=Ka(),{dailyData:r}=Qa(),{createDay:t,isLoading:n}=Fg(),{backgroundColor:a}=cn(),i=e&&!n,o=e&&r&&!Gg(r);ps({title:"Home / Kceli"});function s(){const l=new Date().toDateString();t({date:l})}return P("main",{className:"home","data-testid":"home-page",children:[!e&&g(Mg,{}),i&&g(xl,{children:g(Lg,{})}),n&&g(Se,{}),o&&P(ae,{children:[g(ae.OpenBtn,{modalName:"create-day",children:g("button",{className:"home__btn","data-testid":"create-day-open-modal-btn",style:{backgroundColor:a},children:"start a new day"})}),P(ae.Window,{name:"create-day",className:"create-day-modal",children:[P("h2",{className:"create-day-modal__title",children:["Are you sure you want to start a new day? ",g("br",{})]}),g(ae.CloseBtn,{onClickFn:s,children:g("button",{className:"btn create-day-modal__btn","data-testid":"create-day-modal-btn",children:"start a new day"})}),g(ae.CloseBtn,{children:g("button",{className:"btn create-day-modal__btn",children:"cancel"})})]})]})]})};function Gg(e){const r=new Date().toDateString(),t=new Date(e.date).toDateString();return r===t}export{Qg as default};

import{r as u,j as t,m as a,F as S,l as h,X as m,D as v}from"./index-c30fed78.js";function b(e,i=!0,n=[]){const c=u.useRef(null);return u.useEffect(()=>{function o(s){var d;const l=(d=s==null?void 0:s.target)==null?void 0:d.id;n.includes(l)||c.current&&!c.current.contains(s.target)&&e()}return document.addEventListener("click",o,i),()=>document.removeEventListener("click",o,i)},[e,i,n]),{outsideClickRef:c}}const g=u.createContext(void 0);function f(){const e=u.useContext(g);if(e===void 0)throw new Error("useSelect must be used within a Select");return e}function _(e,i){var p;const n=(p=e.current)==null?void 0:p.getBoundingClientRect();return n?{position:"absolute",...window.innerHeight-n.top<i?{bottom:0}:{top:0},left:"50%",transform:"translateX(-50%)"}:null}const r=({children:e,onChange:i,listHeight:n})=>{const[c,o]=u.useState(!1),[s,l]=u.useState(null),d={isOpen:c,setIsOpen:o,onChange:i,listHeight:n,position:s,setPosition:l};return t(g.Provider,{value:d,children:t("div",{style:{position:"relative"},children:e})})},C=({children:e})=>{const{isOpen:i,setIsOpen:n,listHeight:c,setPosition:o}=f(),s=u.useRef(null);function l(){i||d(),n(p=>!p)}function d(){const p=_(s,c);p&&o(p)}return u.cloneElement(e,{id:"select-trigger",className:"select-trigger",onClick:l,ref:s})},I=({children:e})=>{const{isOpen:i,setIsOpen:n,position:c}=f(),{outsideClickRef:o}=b(s,!0,["select-trigger"]);function s(){n(!1)}return i?t("ul",{style:{...c},className:"select-list",ref:o,children:e}):null},P=({value:e,children:i})=>{const{onChange:n,setIsOpen:c}=f();function o(){n(e),c(!1)}return t("li",{className:"select-list__item",onClick:o,children:i})};r.SelectTrigger=C;r.SelectList=I;r.SelectItem=P;const k=({workout:e,handleTypeSelectChange:i,handleDurationInputChange:n,handleDescInputChange:c,handleSplitSelectChange:o})=>{const s=e&&(e==null?void 0:e.type)==="anaerobic";return a(S,{children:[a("div",{className:"workout-edit__form__input-container name-input",children:[t("label",{children:"description:"}),t("input",{type:"text",defaultValue:e.description,onChange:h(c,500).debouncedFunc})]}),n&&a("div",{className:"workout-edit__form__input-container name-input",children:[t("label",{children:"duration:"}),t("input",{type:"number",defaultValue:e.durationInMin,onChange:h(n,500).debouncedFunc})]}),a("div",{className:"workout-edit__form__input-container",children:[t("label",{children:"workout type:"}),a(r,{onChange:i,listHeight:250,children:[t(r.SelectTrigger,{children:a("div",{children:[t("span",{children:e.type}),t(m,{})]})}),a(r.SelectList,{children:[t(r.SelectItem,{value:"anaerobic",children:"anaerobic"}),t(r.SelectItem,{value:"aerobic",children:"aerobic"})]})]})]}),s&&a("div",{className:"workout-edit__form__input-container",children:[t("label",{children:"split:"}),a(r,{onChange:o,listHeight:250,children:[t(r.SelectTrigger,{children:a("div",{children:[t("span",{children:e.split}),t(m,{})]})}),t(r.SelectList,{children:v.SPLIT_TYPES.map(l=>t(r.SelectItem,{value:l,children:l},l))})]})]})]})};export{r as S,k as W,b as u};

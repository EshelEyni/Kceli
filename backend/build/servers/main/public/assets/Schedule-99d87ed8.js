import{r as H,M as Be,j as e,l as g,C as Ee,A as se,K as te,N as ve,i as Q,P as Me,Q as Pe,F as _e,b as Qe,y as we,T as re,U as J,B as ee,V as ze,W as ae,S as Oe}from"./index-d83f4122.js";import{E as Re}from"./ErrorMsg-2ba7a674.js";import{X as be,Y as Ce,R as je,C as Ie,G as Te,W as We}from"./GoalEdit-04c9861a.js";import{z as He,F as ce,H as Ke,E as Ae,t as Xe}from"./generateCategoricalChart-dd03b5b5.js";import{c as ke}from"./index-18377332.js";import{L as ge,b as Je,c as Ze,d as Ve,e as qe,f as et}from"./index.esm-02e07413.js";import{i as tt,u as rt}from"./intakeUtilService-b8c1ac81.js";import{E as nt}from"./Empty-8282b069.js";var Le=He({chartName:"BarChart",GraphicalChild:ce,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:be},{axisType:"yAxis",AxisComp:Ce}],formatAxisMap:Ke});var Ne={exports:{}};(function(u,w){(function(D,T){u.exports=T(H)})(Be,v=>(()=>{var D={"./node_modules/css-mediaquery/index.js":(i,t)=>{t.match=l,t.parse=f;var r=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,y=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,a=/^(?:(min|max)-)?(.+)/,c=/(em|rem|px|cm|mm|in|pt|pc)?$/,n=/(dpi|dpcm|dppx)?$/;function l(k,m){return f(k).some(function(E){var S=E.inverse,P=E.type==="all"||m.type===E.type;if(P&&S||!(P||S))return!1;var Y=E.expressions.every(function(C){var j=C.feature,N=C.modifier,I=C.value,M=m[j];if(!M)return!1;switch(j){case"orientation":case"scan":return M.toLowerCase()===I.toLowerCase();case"width":case"height":case"device-width":case"device-height":I=h(I),M=h(M);break;case"resolution":I=o(I),M=o(M);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":I=d(I),M=d(M);break;case"grid":case"color":case"color-index":case"monochrome":I=parseInt(I,10)||1,M=parseInt(M,10)||0;break}switch(N){case"min":return M>=I;case"max":return M<=I;default:return M===I}});return Y&&!S||!Y&&S})}function f(k){return k.split(",").map(function(m){m=m.trim();var E=m.match(r),S=E[1],P=E[2],Y=E[3]||"",C={};return C.inverse=!!S&&S.toLowerCase()==="not",C.type=P?P.toLowerCase():"all",Y=Y.match(/\([^\)]+\)/g)||[],C.expressions=Y.map(function(j){var N=j.match(y),I=N[1].toLowerCase().match(a);return{modifier:I[1],feature:I[2],value:N[2]}}),C})}function d(k){var m=Number(k),E;return m||(E=k.match(/^(\d+)\s*\/\s*(\d+)$/),m=E[1]/E[2]),m}function o(k){var m=parseFloat(k),E=String(k).match(n)[1];switch(E){case"dpcm":return m/2.54;case"dppx":return m*96;default:return m}}function h(k){var m=parseFloat(k),E=String(k).match(c)[1];switch(E){case"em":return m*16;case"rem":return m*16;case"cm":return m*96/2.54;case"mm":return m*96/2.54/10;case"in":return m*96;case"pt":return m*72;case"pc":return m*72/12;default:return m}}},"./node_modules/hyphenate-style-name/index.js":(i,t,r)=>{r.r(t),r.d(t,{default:()=>f});var y=/[A-Z]/g,a=/^ms-/,c={};function n(d){return"-"+d.toLowerCase()}function l(d){if(c.hasOwnProperty(d))return c[d];var o=d.replace(y,n);return c[d]=a.test(o)?"-"+o:o}const f=l},"./node_modules/matchmediaquery/index.js":(i,t,r)=>{var y=r("./node_modules/css-mediaquery/index.js").match,a=typeof window<"u"?window.matchMedia:null;function c(l,f,d){var o=this;if(a&&!d){var h=a.call(window,l);this.matches=h.matches,this.media=h.media,h.addListener(E)}else this.matches=y(l,f),this.media=l;this.addListener=k,this.removeListener=m,this.dispose=S;function k(P){h&&h.addListener(P)}function m(P){h&&h.removeListener(P)}function E(P){o.matches=P.matches,o.media=P.media}function S(){h&&h.removeListener(E)}}function n(l,f,d){return new c(l,f,d)}i.exports=n},"./node_modules/object-assign/index.js":i=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;function a(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function c(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var l={},f=0;f<10;f++)l["_"+String.fromCharCode(f)]=f;var d=Object.getOwnPropertyNames(l).map(function(h){return l[h]});if(d.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(h){o[h]=h}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}i.exports=c()?Object.assign:function(n,l){for(var f,d=a(n),o,h=1;h<arguments.length;h++){f=Object(arguments[h]);for(var k in f)r.call(f,k)&&(d[k]=f[k]);if(t){o=t(f);for(var m=0;m<o.length;m++)y.call(f,o[m])&&(d[o[m]]=f[o[m]])}}return d}},"./node_modules/prop-types/checkPropTypes.js":(i,t,r)=>{var y=function(){};{var a=r("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),c={},n=r("./node_modules/prop-types/lib/has.js");y=function(f){var d="Warning: "+f;typeof console<"u"&&console.error(d);try{throw new Error(d)}catch{}}}function l(f,d,o,h,k){for(var m in f)if(n(f,m)){var E;try{if(typeof f[m]!="function"){var S=Error((h||"React class")+": "+o+" type `"+m+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof f[m]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw S.name="Invariant Violation",S}E=f[m](d,m,h,o,null,a)}catch(Y){E=Y}if(E&&!(E instanceof Error)&&y((h||"React class")+": type specification of "+o+" `"+m+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof E+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),E instanceof Error&&!(E.message in c)){c[E.message]=!0;var P=k?k():"";y("Failed "+o+" type: "+E.message+(P??""))}}}l.resetWarningCache=function(){c={}},i.exports=l},"./node_modules/prop-types/factoryWithTypeCheckers.js":(i,t,r)=>{var y=r("./node_modules/react-is/index.js"),a=r("./node_modules/object-assign/index.js"),c=r("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),n=r("./node_modules/prop-types/lib/has.js"),l=r("./node_modules/prop-types/checkPropTypes.js"),f=function(){};f=function(o){var h="Warning: "+o;typeof console<"u"&&console.error(h);try{throw new Error(h)}catch{}};function d(){return null}i.exports=function(o,h){var k=typeof Symbol=="function"&&Symbol.iterator,m="@@iterator";function E(p){var b=p&&(k&&p[k]||p[m]);if(typeof b=="function")return b}var S="<<anonymous>>",P={array:N("array"),bigint:N("bigint"),bool:N("boolean"),func:N("function"),number:N("number"),object:N("object"),string:N("string"),symbol:N("symbol"),any:I(),arrayOf:M,element:z(),elementType:K(),instanceOf:V,node:fe(),objectOf:de,oneOf:le,oneOfType:ue,shape:he,exact:pe};function Y(p,b){return p===b?p!==0||1/p===1/b:p!==p&&b!==b}function C(p,b){this.message=p,this.data=b&&typeof b=="object"?b:{},this.stack=""}C.prototype=Error.prototype;function j(p){var b={},L=0;function W($,R,A,F,G,U,_){if(F=F||S,U=U||A,_!==c){if(h){var B=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw B.name="Invariant Violation",B}else if(typeof console<"u"){var X=F+":"+A;!b[X]&&L<3&&(f("You are manually calling a React.PropTypes validation function for the `"+U+"` prop on `"+F+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),b[X]=!0,L++)}}return R[A]==null?$?R[A]===null?new C("The "+G+" `"+U+"` is marked as required "+("in `"+F+"`, but its value is `null`.")):new C("The "+G+" `"+U+"` is marked as required in "+("`"+F+"`, but its value is `undefined`.")):null:p(R,A,F,G,U)}var O=W.bind(null,!1);return O.isRequired=W.bind(null,!0),O}function N(p){function b(L,W,O,$,R,A){var F=L[W],G=Z(F);if(G!==p){var U=q(F);return new C("Invalid "+$+" `"+R+"` of type "+("`"+U+"` supplied to `"+O+"`, expected ")+("`"+p+"`."),{expectedType:p})}return null}return j(b)}function I(){return j(d)}function M(p){function b(L,W,O,$,R){if(typeof p!="function")return new C("Property `"+R+"` of component `"+O+"` has invalid PropType notation inside arrayOf.");var A=L[W];if(!Array.isArray(A)){var F=Z(A);return new C("Invalid "+$+" `"+R+"` of type "+("`"+F+"` supplied to `"+O+"`, expected an array."))}for(var G=0;G<A.length;G++){var U=p(A,G,O,$,R+"["+G+"]",c);if(U instanceof Error)return U}return null}return j(b)}function z(){function p(b,L,W,O,$){var R=b[L];if(!o(R)){var A=Z(R);return new C("Invalid "+O+" `"+$+"` of type "+("`"+A+"` supplied to `"+W+"`, expected a single ReactElement."))}return null}return j(p)}function K(){function p(b,L,W,O,$){var R=b[L];if(!y.isValidElementType(R)){var A=Z(R);return new C("Invalid "+O+" `"+$+"` of type "+("`"+A+"` supplied to `"+W+"`, expected a single ReactElement type."))}return null}return j(p)}function V(p){function b(L,W,O,$,R){if(!(L[W]instanceof p)){var A=p.name||S,F=oe(L[W]);return new C("Invalid "+$+" `"+R+"` of type "+("`"+F+"` supplied to `"+O+"`, expected ")+("instance of `"+A+"`."))}return null}return j(b)}function le(p){if(!Array.isArray(p))return arguments.length>1?f("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):f("Invalid argument supplied to oneOf, expected an array."),d;function b(L,W,O,$,R){for(var A=L[W],F=0;F<p.length;F++)if(Y(A,p[F]))return null;var G=JSON.stringify(p,function(_,B){var X=q(B);return X==="symbol"?String(B):B});return new C("Invalid "+$+" `"+R+"` of value `"+String(A)+"` "+("supplied to `"+O+"`, expected one of "+G+"."))}return j(b)}function de(p){function b(L,W,O,$,R){if(typeof p!="function")return new C("Property `"+R+"` of component `"+O+"` has invalid PropType notation inside objectOf.");var A=L[W],F=Z(A);if(F!=="object")return new C("Invalid "+$+" `"+R+"` of type "+("`"+F+"` supplied to `"+O+"`, expected an object."));for(var G in A)if(n(A,G)){var U=p(A,G,O,$,R+"."+G,c);if(U instanceof Error)return U}return null}return j(b)}function ue(p){if(!Array.isArray(p))return f("Invalid argument supplied to oneOfType, expected an instance of array."),d;for(var b=0;b<p.length;b++){var L=p[b];if(typeof L!="function")return f("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+me(L)+" at index "+b+"."),d}function W(O,$,R,A,F){for(var G=[],U=0;U<p.length;U++){var _=p[U],B=_(O,$,R,A,F,c);if(B==null)return null;B.data&&n(B.data,"expectedType")&&G.push(B.data.expectedType)}var X=G.length>0?", expected one of type ["+G.join(", ")+"]":"";return new C("Invalid "+A+" `"+F+"` supplied to "+("`"+R+"`"+X+"."))}return j(W)}function fe(){function p(b,L,W,O,$){return ne(b[L])?null:new C("Invalid "+O+" `"+$+"` supplied to "+("`"+W+"`, expected a ReactNode."))}return j(p)}function ie(p,b,L,W,O){return new C((p||"React class")+": "+b+" type `"+L+"."+W+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+O+"`.")}function he(p){function b(L,W,O,$,R){var A=L[W],F=Z(A);if(F!=="object")return new C("Invalid "+$+" `"+R+"` of type `"+F+"` "+("supplied to `"+O+"`, expected `object`."));for(var G in p){var U=p[G];if(typeof U!="function")return ie(O,$,R,G,q(U));var _=U(A,G,O,$,R+"."+G,c);if(_)return _}return null}return j(b)}function pe(p){function b(L,W,O,$,R){var A=L[W],F=Z(A);if(F!=="object")return new C("Invalid "+$+" `"+R+"` of type `"+F+"` "+("supplied to `"+O+"`, expected `object`."));var G=a({},L[W],p);for(var U in G){var _=p[U];if(n(p,U)&&typeof _!="function")return ie(O,$,R,U,q(_));if(!_)return new C("Invalid "+$+" `"+R+"` key `"+U+"` supplied to `"+O+"`.\nBad object: "+JSON.stringify(L[W],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(p),null,"  "));var B=_(A,U,O,$,R+"."+U,c);if(B)return B}return null}return j(b)}function ne(p){switch(typeof p){case"number":case"string":case"undefined":return!0;case"boolean":return!p;case"object":if(Array.isArray(p))return p.every(ne);if(p===null||o(p))return!0;var b=E(p);if(b){var L=b.call(p),W;if(b!==p.entries){for(;!(W=L.next()).done;)if(!ne(W.value))return!1}else for(;!(W=L.next()).done;){var O=W.value;if(O&&!ne(O[1]))return!1}}else return!1;return!0;default:return!1}}function ye(p,b){return p==="symbol"?!0:b?b["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&b instanceof Symbol:!1}function Z(p){var b=typeof p;return Array.isArray(p)?"array":p instanceof RegExp?"object":ye(b,p)?"symbol":b}function q(p){if(typeof p>"u"||p===null)return""+p;var b=Z(p);if(b==="object"){if(p instanceof Date)return"date";if(p instanceof RegExp)return"regexp"}return b}function me(p){var b=q(p);switch(b){case"array":case"object":return"an "+b;case"boolean":case"date":case"regexp":return"a "+b;default:return b}}function oe(p){return!p.constructor||!p.constructor.name?S:p.constructor.name}return P.checkPropTypes=l,P.resetWarningCache=l.resetWarningCache,P.PropTypes=P,P}},"./node_modules/prop-types/index.js":(i,t,r)=>{{var y=r("./node_modules/react-is/index.js"),a=!0;i.exports=r("./node_modules/prop-types/factoryWithTypeCheckers.js")(y.isElement,a)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":i=>{var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";i.exports=t},"./node_modules/prop-types/lib/has.js":i=>{i.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(i,t)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var r=typeof Symbol=="function"&&Symbol.for,y=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,c=r?Symbol.for("react.fragment"):60107,n=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,f=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,o=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,k=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,E=r?Symbol.for("react.suspense_list"):60120,S=r?Symbol.for("react.memo"):60115,P=r?Symbol.for("react.lazy"):60116,Y=r?Symbol.for("react.block"):60121,C=r?Symbol.for("react.fundamental"):60117,j=r?Symbol.for("react.responder"):60118,N=r?Symbol.for("react.scope"):60119;function I(_){return typeof _=="string"||typeof _=="function"||_===c||_===h||_===l||_===n||_===m||_===E||typeof _=="object"&&_!==null&&(_.$$typeof===P||_.$$typeof===S||_.$$typeof===f||_.$$typeof===d||_.$$typeof===k||_.$$typeof===C||_.$$typeof===j||_.$$typeof===N||_.$$typeof===Y)}function M(_){if(typeof _=="object"&&_!==null){var B=_.$$typeof;switch(B){case y:var X=_.type;switch(X){case o:case h:case c:case l:case n:case m:return X;default:var De=X&&X.$$typeof;switch(De){case d:case k:case P:case S:case f:return De;default:return B}}case a:return B}}}var z=o,K=h,V=d,le=f,de=y,ue=k,fe=c,ie=P,he=S,pe=a,ne=l,ye=n,Z=m,q=!1;function me(_){return q||(q=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),oe(_)||M(_)===o}function oe(_){return M(_)===h}function p(_){return M(_)===d}function b(_){return M(_)===f}function L(_){return typeof _=="object"&&_!==null&&_.$$typeof===y}function W(_){return M(_)===k}function O(_){return M(_)===c}function $(_){return M(_)===P}function R(_){return M(_)===S}function A(_){return M(_)===a}function F(_){return M(_)===l}function G(_){return M(_)===n}function U(_){return M(_)===m}t.AsyncMode=z,t.ConcurrentMode=K,t.ContextConsumer=V,t.ContextProvider=le,t.Element=de,t.ForwardRef=ue,t.Fragment=fe,t.Lazy=ie,t.Memo=he,t.Portal=pe,t.Profiler=ne,t.StrictMode=ye,t.Suspense=Z,t.isAsyncMode=me,t.isConcurrentMode=oe,t.isContextConsumer=p,t.isContextProvider=b,t.isElement=L,t.isForwardRef=W,t.isFragment=O,t.isLazy=$,t.isMemo=R,t.isPortal=A,t.isProfiler=F,t.isStrictMode=G,t.isSuspense=U,t.isValidElementType=I,t.typeOf=M})()},"./node_modules/react-is/index.js":(i,t,r)=>{i.exports=r("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(i,t,r)=>{r.r(t),r.d(t,{shallowEqualArrays:()=>a,shallowEqualObjects:()=>y});function y(c,n){if(c===n)return!0;if(!c||!n)return!1;var l=Object.keys(c),f=Object.keys(n),d=l.length;if(f.length!==d)return!1;for(var o=0;o<d;o++){var h=l[o];if(c[h]!==n[h]||!Object.prototype.hasOwnProperty.call(n,h))return!1}return!0}function a(c,n){if(c===n)return!0;if(!c||!n)return!1;var l=c.length;if(n.length!==l)return!1;for(var f=0;f<l;f++)if(c[f]!==n[f])return!1;return!0}},"./src/Component.ts":function(i,t,r){var y=this&&this.__rest||function(l,f){var d={};for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&f.indexOf(o)<0&&(d[o]=l[o]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,o=Object.getOwnPropertySymbols(l);h<o.length;h++)f.indexOf(o[h])<0&&Object.prototype.propertyIsEnumerable.call(l,o[h])&&(d[o[h]]=l[o[h]]);return d},a=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(r("./src/useMediaQuery.ts")),n=function(l){var f=l.children,d=l.device,o=l.onChange,h=y(l,["children","device","onChange"]),k=(0,c.default)(h,d,o);return typeof f=="function"?f(k):k?f:null};t.default=n},"./src/Context.ts":(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var y=r("react"),a=(0,y.createContext)(void 0);t.default=a},"./src/index.ts":function(i,t,r){var y=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=t.toQuery=t.useMediaQuery=t.default=void 0;var a=y(r("./src/useMediaQuery.ts"));t.useMediaQuery=a.default;var c=y(r("./src/Component.ts"));t.default=c.default;var n=y(r("./src/toQuery.ts"));t.toQuery=n.default;var l=y(r("./src/Context.ts"));t.Context=l.default},"./src/mediaQuery.ts":function(i,t,r){var y=this&&this.__assign||function(){return y=Object.assign||function(m){for(var E,S=1,P=arguments.length;S<P;S++){E=arguments[S];for(var Y in E)Object.prototype.hasOwnProperty.call(E,Y)&&(m[Y]=E[Y])}return m},y.apply(this,arguments)},a=this&&this.__rest||function(m,E){var S={};for(var P in m)Object.prototype.hasOwnProperty.call(m,P)&&E.indexOf(P)<0&&(S[P]=m[P]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Y=0,P=Object.getOwnPropertySymbols(m);Y<P.length;Y++)E.indexOf(P[Y])<0&&Object.prototype.propertyIsEnumerable.call(m,P[Y])&&(S[P[Y]]=m[P[Y]]);return S},c=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(t,"__esModule",{value:!0});var n=c(r("./node_modules/prop-types/index.js")),l=n.default.oneOfType([n.default.string,n.default.number]),f={all:n.default.bool,grid:n.default.bool,aural:n.default.bool,braille:n.default.bool,handheld:n.default.bool,print:n.default.bool,projection:n.default.bool,screen:n.default.bool,tty:n.default.bool,tv:n.default.bool,embossed:n.default.bool},d={orientation:n.default.oneOf(["portrait","landscape"]),scan:n.default.oneOf(["progressive","interlace"]),aspectRatio:n.default.string,deviceAspectRatio:n.default.string,height:l,deviceHeight:l,width:l,deviceWidth:l,color:n.default.bool,colorIndex:n.default.bool,monochrome:n.default.bool,resolution:l,type:Object.keys(f)};d.type;var o=a(d,["type"]),h=y({minAspectRatio:n.default.string,maxAspectRatio:n.default.string,minDeviceAspectRatio:n.default.string,maxDeviceAspectRatio:n.default.string,minHeight:l,maxHeight:l,minDeviceHeight:l,maxDeviceHeight:l,minWidth:l,maxWidth:l,minDeviceWidth:l,maxDeviceWidth:l,minColor:n.default.number,maxColor:n.default.number,minColorIndex:n.default.number,maxColorIndex:n.default.number,minMonochrome:n.default.number,maxMonochrome:n.default.number,minResolution:l,maxResolution:l},o),k=y(y({},f),h);t.default={all:k,types:f,matchers:d,features:h}},"./src/toQuery.ts":function(i,t,r){var y=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0});var a=y(r("./node_modules/hyphenate-style-name/index.js")),c=y(r("./src/mediaQuery.ts")),n=function(o){return"not ".concat(o)},l=function(o,h){var k=(0,a.default)(o);return typeof h=="number"&&(h="".concat(h,"px")),h===!0?k:h===!1?n(k):"(".concat(k,": ").concat(h,")")},f=function(o){return o.join(" and ")},d=function(o){var h=[];return Object.keys(c.default.all).forEach(function(k){var m=o[k];m!=null&&h.push(l(k,m))}),f(h)};t.default=d},"./src/useMediaQuery.ts":function(i,t,r){var y=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("react"),c=y(r("./node_modules/matchmediaquery/index.js")),n=y(r("./node_modules/hyphenate-style-name/index.js")),l=r("./node_modules/shallow-equal/dist/index.esm.js"),f=y(r("./src/toQuery.ts")),d=y(r("./src/Context.ts")),o=function(C){return C.query||(0,f.default)(C)},h=function(C){if(C){var j=Object.keys(C);return j.reduce(function(N,I){return N[(0,n.default)(I)]=C[I],N},{})}},k=function(){var C=(0,a.useRef)(!1);return(0,a.useEffect)(function(){C.current=!0},[]),C.current},m=function(C){var j=(0,a.useContext)(d.default),N=function(){return h(C)||h(j)},I=(0,a.useState)(N),M=I[0],z=I[1];return(0,a.useEffect)(function(){var K=N();(0,l.shallowEqualObjects)(M,K)||z(K)},[C,j]),M},E=function(C){var j=function(){return o(C)},N=(0,a.useState)(j),I=N[0],M=N[1];return(0,a.useEffect)(function(){var z=j();I!==z&&M(z)},[C]),I},S=function(C,j){var N=function(){return(0,c.default)(C,j||{},!!j)},I=(0,a.useState)(N),M=I[0],z=I[1],K=k();return(0,a.useEffect)(function(){if(K){var V=N();return z(V),function(){V&&V.dispose()}}},[C,j]),M},P=function(C){var j=(0,a.useState)(C.matches),N=j[0],I=j[1];return(0,a.useEffect)(function(){var M=function(z){I(z.matches)};return C.addListener(M),I(C.matches),function(){C.removeListener(M)}},[C]),N},Y=function(C,j,N){var I=m(j),M=E(C);if(!M)throw new Error("Invalid or missing MediaQuery!");var z=S(M,I),K=P(z),V=k();return(0,a.useEffect)(function(){V&&N&&N(K)},[K]),(0,a.useEffect)(function(){return function(){z&&z.dispose()}},[]),K};t.default=Y},react:i=>{i.exports=v}},T={};function x(i){var t=T[i];if(t!==void 0)return t.exports;var r=T[i]={exports:{}};return D[i].call(r.exports,r,r.exports,x),r.exports}x.d=(i,t)=>{for(var r in t)x.o(t,r)&&!x.o(i,r)&&Object.defineProperty(i,r,{enumerable:!0,get:t[r]})},x.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t),x.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var s=x("./src/index.ts");return s})())})(Ne);var $e=Ne.exports;const at=({data:u})=>{const w=u.reduce((i,t)=>t.calories>i?t.calories:i,-1/0),v=[0,Math.round(w*1.1)],D=$e.useMediaQuery({query:"(max-width: 600px)"}),T=window.innerWidth,x={x:Math.round(T*.65)*.5*-1,y:0},s={position:"absolute",left:"50%",top:"25%",transform:"translate(-50%, -50%)",wordBreak:"break-all",width:T*.65};return e("div",{style:{position:"relative",width:"100%",maxWidth:1200,height:300},children:e(je,{children:g(Le,{data:u,children:[e(Ie,{strokeDasharray:"3 3"}),e(be,{dataKey:"name"}),e(Ce,{domain:v}),e(Ae,{wrapperStyle:D?s:void 0,labelStyle:{fontSize:14,fontWeight:"bold",whiteSpace:"pre-wrap"},position:D?x:void 0}),e(ce,{dataKey:"calories",barSize:25,children:u.map((i,t)=>e(Xe,{fill:Ee[t%Ee.length]},`cell-${t}`))})]})})})};function it(u){if(!u||u.intakes.length===0)return"No data";let w=0,v=0,D;for(const s of u.intakes){if(!s.recordedAt||s.type!=="food")continue;const i=new Date(s.recordedAt).getTime();D!==void 0&&(w+=i-D,v++),D=i}if(v===0)return"No data";const x=w/v/1e3/60/60;return x>=1?`${Math.round(x)} hours`:`${Math.round(x*60)} minutes`}const ot={calcAverageTimeBetweenMeals:it};const st=({workout:u,isTableShown:w=!0})=>{const{description:v,type:D,items:T}=u,x=se.calcWorkoutDuration({workout:u})+" min",s=Math.round(T.filter(i=>i.isCompleted).length/T.length*100);return g("article",{className:"day-report__workout-preview",children:[e(te,{className:"day-report__workout-preview__header",children:g("h3",{children:[v," - ",D," - ",x," - ",s,"% completed"]})}),w&&g("table",{className:"day-report__workout-preview__table",children:[e("thead",{className:"day-report__workout-preview__table__header",children:g("tr",{children:[e("th",{children:"Exercise"}),e("th",{children:"Duration"}),e("th",{children:"Reps"}),e("th",{children:"Sets"}),e("th",{children:"Weight"}),e("th",{className:"day-report__workout-preview__table__header__completed",children:"Completed"})]})}),e("tbody",{className:"day-report__workout-preview__table__body",children:T.map((i,t)=>{const r=se.calcItemDuration(i)+" min";return i.type==="superset"?g(H.Fragment,{children:[g("tr",{children:[e("td",{children:i.name}),e("td",{children:r}),e("td",{}),e("td",{children:i.sets}),e("td",{}),e("td",{className:"completed",children:i.isCompleted?e(ve,{}):""})]}),i.items.map((y,a)=>g("tr",{children:[e("td",{children:y.name}),e("td",{}),e("td",{children:y.reps}),e("td",{}),g("td",{children:[y.weight," ",y.weightUnit]}),e("td",{className:"completed"})]},`superset-${t}-subitem-${a}`))]},`superset-${t}`):i.type==="anaerobic"?g("tr",{children:[e("td",{children:i.name}),e("td",{children:r}),e("td",{children:i.reps}),e("td",{children:i.sets}),g("td",{children:[i.weight," ",i.weightUnit]}),e("td",{className:"completed",children:i.isCompleted?e(ve,{}):""})]},t):g("tr",{children:[e("td",{children:i.name}),e("td",{children:r}),e("td",{}),e("td",{}),e("td",{}),e("td",{className:"completed",children:i.isCompleted?e(ve,{}):""})]},t)})})]})]})};const Fe=({intake:u})=>{const[w,v]=H.useState(!1),D=u.name||u.items.map(i=>i.name).join(", "),T=Q.getTotalCalories(u),x=u.recordedAt?new Date(u.recordedAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"";function s(){v(!w)}return g("article",{className:ke("day-report__intake-preview",{unrecorded:!u.isRecorded}),children:[g(te,{className:"day-report__intake-preview__header",onClickFn:s,children:[g("h3",{className:"day-report__intake-preview__header__title",children:[D," - ",T," kcal - ",x]}),e("div",{children:w?e(Me,{}):e(Pe,{})})]}),w&&g(_e,{children:[g("table",{className:"day-report__intake-preview__table",children:[e("thead",{className:"day-report__intake-preview__table__head",children:g("tr",{children:[e("th",{children:"Item"}),e("th",{children:"Calories"}),e("th",{children:"Weight"})]})}),e("tbody",{className:"day-report__intake-preview__table__body",children:u.items.map(i=>g("tr",{children:[e("td",{children:i.name}),e("td",{children:i.calories}),g("td",{children:[i.quantity," ",i.unit]})]},i.id))})]}),!u.isRecorded&&e("h4",{className:"day-report__intake-preview__unrecorded",children:"unrecorded"})]})]})},ct=({day:u})=>{const{loggedInUser:w}=Qe(),{data:v,backgroundColor:D}=u;if(!v)return e("section",{className:"report day-report empty",children:e("p",{children:"No data for this day"})});const T=Q.getTotalCalories(v),x=Q.calcRemainingCalories(w,v),i=` calories ${x>0?"remaining":"over your limit"}`,t=new Intl.DateTimeFormat("en-US",{dateStyle:"full"}).format(u.date),r=ot.calcAverageTimeBetweenMeals(v),y=lt(v);return g("section",{className:"report day-report",children:[g(te,{className:"day-report__header",children:[e("h1",{children:t}),e("div",{className:"day-report__header__color-circle",style:{backgroundColor:D}})]}),g("div",{className:"day-report__weight",children:[v.weight&&g("p",{children:[e("strong",{children:"Weight: "}),v.weight]}),v.waist&&g("p",{children:[e("strong",{children:"Waist: "}),v.waist]})]}),g("div",{className:"day-report__calories",children:[e("h3",{className:"day-report__calories__title",children:"calories"}),g("p",{children:[e("strong",{children:"consumed Calories: "}),T]}),g("p",{children:[g("strong",{children:[i,": "]}),Math.abs(x)]}),g("p",{children:[e("strong",{children:"target caloric intake: "}),u.targetCalorie]})]}),v.intakes.length>0&&g("div",{className:"day-report__intakes",children:[e("h2",{className:"day-report__intakes__title",children:"Intakes"}),g("h4",{children:["Number of Intakes: ",v.intakes.length]}),g("h4",{children:["Average time between meals: ",r]}),e(ge,{className:"day-report__intakes__list",items:v.intakes,render:a=>e(Fe,{intake:a},a.id)}),e(at,{data:y})]}),v.workouts.length>0&&g("div",{className:"day-report__workouts",children:[e("h1",{className:"day-report__workouts__title",children:"Workouts"}),e("ul",{children:v.workouts.map((a,c)=>e("li",{children:e(st,{workout:a})},c))})]})]})};function lt(u){return tt.sortIntakesByRecordedAt(u.intakes).map(D=>({name:D.name||D.items.reduce((T,x,s,i)=>i.length===1?x.name:s===0?T+`${x.name}, `:s===i.length-1?T+`and ${x.name}`:T+` ${x.name}, `,""),calories:D.items.reduce((T,x)=>T+Math.round(x.calories),0)}))}function dt(u){return we({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48zm62.63 304L296 374.63 177.37 256 296 137.37 318.63 160l-96 96z"}}]})(u)}function ut(u){return we({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48zm-40 326.63L193.37 352l96-96-96-96L216 137.37 334.63 256z"}}]})(u)}const ft=({days:u})=>e("section",{className:"days-report",children:u.map(w=>e("div",{className:"day-report",children:e("h3",{className:"day-report__date",children:w.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})},w.date.toISOString()))});const ht=()=>{const{isSuccess:u,filterBy:w,setFilterBy:v,currDay:D,setCurrDays:T,getWeekDays:x,getMonthDays:s}=re();function i(t){if(u){switch(t){case J.Day:T([]);break;case J.Week:{if(!D)return;const r=x(D);if(!r)return;T(r);break}case J.Month:{if(!D)return;const r=s(D);if(!r)return;T(r);break}}v(t)}}return e("section",{className:"schedule-filter",children:Object.values(J).map(t=>e(ee,{onClickFn:()=>i(t),className:ke("schedule-filter__btn",{active:w===t}),children:e("span",{children:t})},t))})};const pt=()=>{const{currDate:u,currDay:w,setCurrDay:v,currDays:D,setCurrDays:T,filterBy:x,calenderDays:s,isSuccess:i,moveToMonth:t,getWeekDays:r,getMonthDays:y}=re(),[a,c]=H.useState(!1),n=H.useRef(null),l=H.useRef(0);function f(d){switch(x){case J.Day:{if(!a){v(d),T([]);return}if(!w)return;const o=[],h=s.findIndex(S=>ae(S.date,w==null?void 0:w.date)),k=s.findIndex(S=>ae(S.date,d.date)),m=Math.min(h,k),E=Math.max(h,k);for(let S=m;S<=E;S++)o.push(s[S]);T(o),v(d);break}case J.Week:{const o=r(d);if(!o)return;T(o),v(d);break}case J.Month:{const o=y(d);if(!o)return;T(o),v(d);break}}}return H.useEffect(()=>{const d=k=>{const m=k.touches[0];l.current=m.clientX},o=k=>{const E=k.changedTouches[0].clientX,S=50;E-l.current>S&&t(-1),l.current-E>S&&t(1)},h=n.current;if(h)return h.addEventListener("touchstart",d,!1),h.addEventListener("touchend",o,!1),()=>{h&&(h.removeEventListener("touchstart",d),h.removeEventListener("touchend",o))}},[u,i,t]),H.useEffect(()=>{const d=h=>{h.key==="Shift"&&c(!0)},o=h=>{h.key==="Shift"&&c(!1)};return window.addEventListener("keydown",d),window.addEventListener("keyup",o),()=>{window.removeEventListener("keydown",d),window.removeEventListener("keyup",o)}},[]),g("ul",{className:"calender",ref:n,children:[ze.map(d=>e("li",{className:"calender__item weekday-item",children:e("h3",{className:"calender__item__title",children:d.short})},d.short)),s.map(d=>{const{backgroundColor:o,date:h}=d,k=d.backgroundColor?"white":"",m=d.isBorder?"4px solid var(--color-success)":"none";return e("li",{className:ke("calender__item",{active:w&&ae(d.date,w.date)||D.some(E=>ae(d.date,E.date))}),onClick:()=>f(d),style:{backgroundColor:o,color:k},children:e("div",{className:"calender__item__wrapper",style:{border:m},children:e("h3",{children:d.day})})},h.toISOString())})]})};const Ue=({type:u,currData:w,prevData:v})=>{const D=T();function T(){if(!w.length||!(v!=null&&v.length))return;const s={documentedDay:{label:"documented days",curr:0,prev:0,trend:{value:0,positive:"up"}},totalCalories:{label:"total calories",curr:0,prev:0,trend:{value:0,positive:"down"}},averageCaloriesPerDay:{label:"average calories per day",curr:0,prev:0,trend:{value:0,positive:"down"}},averageIntakesPerDay:{label:"average intakes per day",curr:0,prev:0,trend:{value:0,positive:"down"}},totalWorkouts:{label:"total workouts",curr:0,prev:0,trend:{value:0,positive:"up"}},excessCalories:{label:"excess calories",curr:0,prev:0,trend:{value:0,positive:"down"}},exceededDays:{label:"exceeded days",curr:0,prev:0,trend:{value:0,positive:"down"}}};if(s.documentedDay.curr=w.length,s.documentedDay.prev=v.length,s.documentedDay.trend.value=s.documentedDay.curr-s.documentedDay.prev,s.totalCalories.curr=Q.getTotalCalories(w),s.totalCalories.prev=Q.getTotalCalories(v),s.totalCalories.trend.value=s.totalCalories.curr-s.totalCalories.prev,s.averageCaloriesPerDay.curr=Math.round(s.totalCalories.curr/w.length),s.averageCaloriesPerDay.prev=Math.round(s.totalCalories.prev/v.length),s.averageCaloriesPerDay.trend.value=s.averageCaloriesPerDay.curr-s.averageCaloriesPerDay.prev,s.totalWorkouts.curr=se.getTotalWorkouts(w),s.totalWorkouts.prev=se.getTotalWorkouts(v),s.totalWorkouts.trend.value=s.totalWorkouts.curr-s.totalWorkouts.prev,s.excessCalories.curr=Q.getWeeklyExcessRateCalories(w),s.excessCalories.prev=Q.getWeeklyExcessRateCalories(v),s.excessCalories.trend.value=s.excessCalories.curr-s.excessCalories.prev,s.exceededDays.curr=w.filter(r=>{const y=Q.getDayCaloriesIntake({currDayData:r,data:w}),a=Q.getTotalCaloriesFromDailyData({dailyData:r});return y-a<0}).length,s.exceededDays.prev=v.filter(r=>{const y=Q.getDayCaloriesIntake({currDayData:r,data:v}),a=Q.getTotalCaloriesFromDailyData({dailyData:r});return y-a<0}).length,s.exceededDays.trend.value=s.exceededDays.curr-s.exceededDays.prev,s.averageIntakesPerDay.curr=Math.round(w.reduce((r,y)=>{const a=y.intakes.filter(c=>c.type==="food").length;return r+a},0)/w.length),s.averageIntakesPerDay.prev=Math.round(v.reduce((r,y)=>{const a=y.intakes.filter(c=>c.type==="food").length;return r+a},0)/v.length),u==="week")return Object.values(s);function i(r){var l,f;if(!r.length)return 0;const y=((l=r.find(d=>!!d.weight))==null?void 0:l.weight)||0,a=((f=r.findLast(d=>!!d.weight))==null?void 0:f.weight)||0,n=(y-a)/r.length;return isNaN(n)?0:n>=0?+n.toFixed(2):0}s.weightLossPerDay={label:"weight loss per day",curr:0,prev:0,trend:{value:0,positive:"up"}},s.weightLossPerDay.curr=i(w),s.weightLossPerDay.prev=i(v),s.weightLossPerDay.trend.value=s.weightLossPerDay.curr-s.weightLossPerDay.prev;function t(r){let y=0,a=0;return r.forEach(c=>{c.weight&&(y+=c.weight,a++)}),a>0?Math.round(y/a):0}return s.averageWeight={label:"average weight",curr:0,prev:0,trend:{value:0,positive:"down"}},s.averageWeight.curr=t(w),s.averageWeight.prev=t(v),s.averageWeight.trend.value=s.averageWeight.curr-s.averageWeight.prev,Object.values(s)}function x({trend:s,positive:i}){if(!s)return;const t=20;return s>0?e(Je,{size:t,color:i==="up"?"green":"red"}):e(Ze,{size:t,color:i==="down"?"green":"red"})}return D?e("div",{className:"schedule-report-table",children:g("table",{children:[e("thead",{children:g("tr",{children:[e("th",{children:"value"}),g("th",{children:["previous ",u]}),g("th",{children:["current ",u]}),e("th",{children:"trend"})]})}),e("tbody",{children:D.map((s,i)=>g("tr",{children:[e("td",{children:s.label}),e("td",{children:s.prev}),e("td",{children:s.curr}),e("td",{children:x({trend:s.trend.value,positive:s.trend.positive})})]},i))})]})}):null};const yt=({calenderDay:u})=>{const{backgroundColor:w,data:v,date:D}=u,T=$e.useMediaQuery({query:"(max-width: 600px)"}),[x,s]=H.useState(!T),[i,t]=H.useState(!1);if(!v)return null;const r=new Date(D).toLocaleDateString("en-US",{weekday:"short"}),y=Q.getTotalCalories(v),a=Q.calcRemainingCaloriesFromDayData(v),c=a>0?"remaining":"over your limit",n=Q.getDailyExcessRate({remainingCalories:a,targetCaloricIntake:v.targetCaloricIntake}),l=` calories ${c}`,f=v.intakes.length;function d(){s(o=>!o)}return g("article",{className:"week-report-day-display",children:[e(te,{className:"week-report-day-display__header",style:{backgroundColor:w},children:e("h3",{children:r})}),x&&g("div",{className:"week-report-day-display__wrapper",children:[e("div",{className:"week-report-day-display__calories",children:e("table",{children:g("tbody",{children:[g("tr",{children:[e("th",{children:"Consumed Calories"}),e("td",{children:y})]}),g("tr",{children:[e("th",{children:l}),e("td",{children:Math.abs(a)})]}),g("tr",{children:[e("th",{children:"Target Caloric Intake"}),e("td",{children:v.targetCaloricIntake})]}),g("tr",{children:[e("th",{children:"Exceeded By"}),g("td",{children:[n,"%"]})]}),g("tr",{children:[e("th",{children:"workouts"}),e("td",{children:v.workouts.length})]})]})})}),g(ee,{className:"week-report-day-display__show-intakes-btn",onClickFn:()=>t(!i),children:[g("span",{children:[f," Intakes"]}),i?e(Me,{}):e(Pe,{})]}),i&&e(ge,{className:"week-report-day-display__intakes-list",items:v.intakes,render:o=>e(Fe,{intake:o},o.id)}),v.workouts.length>0&&g("div",{className:"week-report-day-display__workouts",children:[e("h3",{children:"Workouts:"}),e(ge,{className:"week-report-day-display__workouts__list",items:v.workouts,render:(o,h)=>{const{items:k,description:m}=o,E=Math.round(k.filter(S=>S.isCompleted).length/k.length*100);return g("p",{children:[e("strong",{children:m})," (",E,"% completed)"]},h)}})]})]}),T&&e(ee,{className:"week-report-day-display__expand-btn",onClickFn:d,children:x?"Hide":"Show"})]})};const Ge=({data:u})=>{const w=u.reduce((D,T)=>T.calories>D?T.calories:D,-1/0),v=[0,Math.round(w*1.1)];return e("div",{style:{width:"100%",maxWidth:1200,height:300},children:e(je,{width:"100%",height:"100%",children:g(Le,{data:u,children:[e(Ie,{strokeDasharray:"3 3"}),e(be,{dataKey:"name"}),e(Ce,{domain:v}),e(Ae,{}),e(ce,{dataKey:"caloriesWithoutExcess",stackId:"a",fill:"#005FB3",barSize:50}),e(ce,{dataKey:"excessCalories",stackId:"a",fill:"#FF0000",barSize:50})]})})})};const xe=({render:u,items:w,isLoading:v,isSuccess:D,isError:T,isEmpty:x,entityName:s,className:i})=>g("div",{className:`list-container ${i}`,children:[v&&e(Oe,{}),D&&!x&&e("ul",{className:`list ${i}`,children:w.map((t,r,y)=>u(t,r,y))}),D&&x&&e(nt,{entityName:s}),T&&e(Re,{msg:`Couldn't get ${s}. Please try again later.`})]});function mt(u){return we({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]})(u)}const vt=({isChecked:u,onClickFn:w})=>e("div",{className:"checkbox"+(u?" checked":" unchecked"),onClick:w,"data-testid":"checkbox",children:u&&e(mt,{size:24,color:"var(--color-primary)","data-testid":"checkbox-icon"})});const Se=({goal:u,type:w})=>{const{updateGoal:v,isWeekGoalsEditEnabled:D,isMonthGoalsEditEnabled:T,deleteGoal:x}=re(),[s,i]=H.useState(!1),[t,r]=H.useState(u.description),y=c();let a=0;function c(){return w==="week"?D:w==="month"?T:!1}function n(){y&&v({...u,isCompleted:!u.isCompleted})}function l(){y&&i(!0)}function f(){const m=new Date().getTime(),E=m-a;E<300&&E>0&&l(),a=m}function d(m){r(m.target.value)}function o(){v({...u,description:t},{onSuccess:k})}function h(){x(u.id)}function k(){r(u.description),i(!1)}return H.useEffect(()=>{r(u.description)},[u.description]),e("section",{className:"week-goal-display",onDoubleClick:l,onTouchEnd:f,children:s?g("div",{className:"week-goal-display__edit",children:[e("input",{type:"text",className:"week-goal-display__edit__input",value:t,onChange:d}),g("div",{className:"week-goal-display__edit__btns",children:[e(ee,{onClickFn:o,children:e(Ve,{color:"var(--color-text-gray)"})}),e(ee,{onClickFn:h,children:e(qe,{color:"var(--color-text-gray)"})}),e(ee,{onClickFn:k,children:e(et,{color:"var(--color-text-gray)"})})]})]}):g(_e,{children:[e("p",{children:u.description}),e(vt,{isChecked:u.isCompleted,onClickFn:n})]})})},Ye=({type:u})=>{const{weekGoals:w,isWeekGoalsLoading:v,isWeekGoalsSuccess:D,isWeekGoalsError:T,isWeekGoalsEmpty:x,isWeekGoalsEditEnabled:s,monthGoals:i,isMonthGoalsLoading:t,isMonthGoalsSuccess:r,isMonthGoalsError:y,isMonthGoalsEmpty:a,isMonthGoalsEditEnabled:c}=re();return u==="month"?g("section",{className:"goals",children:[c&&e(Te,{type:"month"}),e(xe,{className:"goals__list",items:i,render:n=>e(Se,{goal:n,type:u},n.id),isLoading:t,isError:y,isSuccess:r,isEmpty:a,entityName:"goal"})]}):u==="week"?g("section",{className:"goals",children:[s&&e(Te,{type:"week"}),e(xe,{className:"goals__list",items:w,render:n=>e(Se,{goal:n,type:u},n.id),isLoading:v,isError:T,isSuccess:D,isEmpty:x,entityName:"goal"})]}):null},gt=()=>{const{currDays:u,data:w}=re();if(u.every(a=>!a.data)||!w)return e("section",{className:"report week-report",children:e("p",{children:"No data for this week"})});const v=i(),D=u.map(a=>a.data).filter(a=>!!a),T=y(),x=t(),s=r();function i(){const a=u[0].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"}),c=u[u.length-1].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"});return`${a} - ${c}`}function t(){return D?D.reduce((c,n)=>!n.weight||!n.waist?c:[...c,{weight:n.weight,waist:n.waist,date:n.date}],[]):null}function r(){return D?D.map(c=>{const n=Q.calcRemainingCaloriesFromDayData(c),l=n<0?Math.abs(n):0,f=Q.getTotalCalories(c),d=f-l;return{name:new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(new Date(c.date)),calories:f,excessCalories:l,caloriesWithoutExcess:d}}):null}function y(){if(!u.length||!w)return[];const a=u[0].date;a.setHours(0,0,0,0);const c=new Date(a);return c.setDate(c.getDate()-7),c.setHours(0,0,0,0),w.filter(l=>{const f=new Date(l.date);return f>=c&&f<a})}return g("section",{className:"report week-report",children:[g(te,{className:"week-report__header",children:[e("h1",{children:"weekly report"}),e("h3",{children:v})]}),e(Ue,{type:"week",currData:D,prevData:T}),e(Ye,{type:"week"}),x&&e(We,{data:x}),s&&e(Ge,{data:s}),e("div",{className:"week-report-day-display-container",children:u.map((a,c)=>e(yt,{calenderDay:a},a.id||c))})]})};const _t=()=>{const{currDays:u,data:w}=re();if(u.every(a=>!a.data)||!w)return e("section",{className:"report month-report",children:e("p",{children:"No data for this week"})});const v=i(),D=u.map(a=>a.data).filter(a=>!!a),T=t(),x=r(),s=y();function i(){const a=u[0].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"}),c=u[u.length-1].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"});return`${a} - ${c}`}function t(){if(!u.length||!w)return[];const a=u[0].date;a.setHours(0,0,0,0);const c=a.getMonth()-1,n=a.getFullYear(),l=new Date(n,c,1);return w.filter(d=>{const o=new Date(d.date);return o>=l&&o<a})}function r(){return D?D.reduce((c,n)=>!n.weight||!n.waist?c:[...c,{date:n.date,weight:n.weight,waist:n.waist}],[]):null}function y(){return D?D.map(c=>{const n=Q.calcRemainingCaloriesFromDayData(c),l=n<0?Math.abs(n):0,f=Q.getTotalCalories(c),d=f-l;return{name:new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit"}).format(new Date(c.date)),calories:f,excessCalories:l,caloriesWithoutExcess:d}}):null}return g("section",{className:"report month-report",children:[g(te,{className:"month-report__header",children:[e("h1",{children:"weekly report"}),e("h3",{children:v})]}),e(Ue,{type:"month",currData:D,prevData:T}),e(Ye,{type:"month"}),x&&e(We,{data:x}),s&&e(Ge,{data:s})]})},St=()=>{rt({title:"Schedule / Kceli"});const{currDate:u,currDay:w,setCurrDay:v,currDays:D,filterBy:T,calenderDays:x,isLoading:s,isSuccess:i,isError:t,moveToMonth:r}=re(),y=!!w&&T===J.Day,a=D.length>0&&T===J.Day;return H.useEffect(()=>{if(!i||w)return;const c=new Date,n=x.find(l=>ae(l.date,c));n&&v(n)},[x,i,w,D,v]),g("main",{className:"page schedule-page",children:[s&&e(Oe,{}),t&&e(Re,{}),i&&g(_e,{children:[g(te,{className:"schedule-page__header",children:[g("h2",{className:"schedule-page__header__title",children:[u.toLocaleString("en-GB",{month:"long"})," ",u.getFullYear()]}),g("div",{className:"schedule-page__header__btns-container",children:[e(ee,{onClickFn:()=>r(-1),children:e(dt,{className:"schedule-page__header__btns-container__btn__icon"})}),e(ee,{onClickFn:()=>r(1),children:e(ut,{className:"schedule-page__header__btns-container__btn__icon"})})]})]}),e(pt,{}),e(ht,{}),y&&e(ct,{day:w}),a&&e(ft,{days:D}),T===J.Week&&e(gt,{}),T===J.Month&&e(_t,{})]})]})};export{St as default};

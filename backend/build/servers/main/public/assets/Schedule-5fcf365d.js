import{j as e,k as m,C as xe,z as se,K as ae,r as K,L as ve,f as z,M as Ee,N as De,b as je,x as Te,P as ee,Q as Z,B as re,T as Ae,U as ne,V as Le,s as Ne,S as _e,F as $e}from"./index-c64035b7.js";import{E as Se}from"./ErrorMsg-f30ad68c.js";import{X as ke,Y as be,R as Oe,C as Pe,W as Fe}from"./WeightWaistChart-f55fd123.js";import{B as Ue,H as ce,I as Ye,F as We,v as Qe,c as we}from"./generateCategoricalChart-6cb40851.js";import{L as ge}from"./List-4cf535de.js";import{i as Ge,b as Be,u as ze}from"./index.esm-90a999cf.js";import{F as He,a as Ke}from"./index.esm-76b29a80.js";import{E as Xe}from"./Empty-ac286b7c.js";var Me=Ue({chartName:"BarChart",GraphicalChild:ce,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ke},{axisType:"yAxis",AxisComp:be}],formatAxisMap:Ye});const Je=({data:f})=>{const _=f.reduce((T,w)=>w.calories>T?w.calories:T,-1/0),a=[0,Math.round(_*1.1)];return e("div",{style:{width:"100%",maxWidth:1200,height:300},children:e(Oe,{children:m(Me,{data:f,children:[e(Pe,{strokeDasharray:"3 3"}),e(ke,{dataKey:"name"}),e(be,{domain:a}),e(We,{}),e(ce,{dataKey:"calories",barSize:25,children:f.map((T,w)=>e(Qe,{fill:xe[w%xe.length]},`cell-${w}`))})]})})})};function Ze(f){if(!f||f.intakes.length===0)return"No data";let _=0,a=0,T;for(const D of f.intakes){if(!D.recordedAt||D.type!=="food")continue;const n=new Date(D.recordedAt).getTime();T!==void 0&&(_+=n-T,a++),T=n}if(a===0)return"No data";const c=_/a/1e3/60/60;return c>=1?`${Math.round(c)} hours`:`${Math.round(c*60)} minutes`}const Ve={calcAverageTimeBetweenMeals:Ze};const qe=({workout:f,isTableShown:_=!0})=>{const{description:a,type:T,items:w}=f,c=se.calcWorkoutDuration({workout:f})+" min",D=Math.round(w.filter(n=>n.isCompleted).length/w.length*100);return m("article",{className:"day-report__workout-preview",children:[e(ae,{className:"day-report__workout-preview__header",children:m("h3",{children:[a," - ",T," - ",c," - ",D,"% completed"]})}),_&&m("table",{className:"day-report__workout-preview__table",children:[e("thead",{className:"day-report__workout-preview__table__header",children:m("tr",{children:[e("th",{children:"Exercise"}),e("th",{children:"Duration"}),e("th",{children:"Reps"}),e("th",{children:"Sets"}),e("th",{children:"Weight"}),e("th",{className:"day-report__workout-preview__table__header__completed",children:"Completed"})]})}),e("tbody",{className:"day-report__workout-preview__table__body",children:w.map((n,t)=>{const r=se.calcItemDuration(n)+" min";return n.type==="superset"?m(K.Fragment,{children:[m("tr",{children:[e("td",{children:n.name}),e("td",{children:r}),e("td",{}),e("td",{children:n.sets}),e("td",{}),e("td",{className:"completed",children:n.isCompleted?e(ve,{}):""})]}),n.items.map((p,g)=>m("tr",{children:[e("td",{children:p.name}),e("td",{}),e("td",{children:p.reps}),e("td",{}),m("td",{children:[p.weight," ",p.weightUnit]}),e("td",{className:"completed"})]},`superset-${t}-subitem-${g}`))]},`superset-${t}`):n.type==="anaerobic"?m("tr",{children:[e("td",{children:n.name}),e("td",{children:r}),e("td",{children:n.reps}),e("td",{children:n.sets}),m("td",{children:[n.weight," ",n.weightUnit]}),e("td",{className:"completed",children:n.isCompleted?e(ve,{}):""})]},t):m("tr",{children:[e("td",{children:n.name}),e("td",{children:r}),e("td",{}),e("td",{}),e("td",{}),e("td",{className:"completed",children:n.isCompleted?e(ve,{}):""})]},t)})})]})]})};const Re=({intake:f})=>{const[_,a]=K.useState(!1),T=f.name||f.items.map(n=>n.name).join(", "),w=z.getTotalCalories(f),c=f.recordedAt?new Date(f.recordedAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"";function D(){a(!_)}return m("article",{className:"day-report__intake-preview",children:[m(ae,{className:"day-report__intake-preview__header",onClickFn:D,children:[m("h3",{className:"day-report__intake-preview__header__title",children:[T," - ",w," kcal - ",c]}),e("div",{children:_?e(Ee,{}):e(De,{})})]}),_&&m("table",{className:"day-report__intake-preview__table",children:[e("thead",{className:"day-report__intake-preview__table__head",children:m("tr",{children:[e("th",{children:"Item"}),e("th",{children:"Calories"}),e("th",{children:"Weight"})]})}),e("tbody",{className:"day-report__intake-preview__table__body",children:f.items.map(n=>m("tr",{children:[e("td",{children:n.name}),e("td",{children:n.calories}),m("td",{children:[n.quantity," ",n.unit]})]},n.id))})]})]})},et=({day:f})=>{const{loggedInUser:_}=je(),{data:a,backgroundColor:T}=f;if(!a)return e("section",{className:"report day-report empty",children:e("p",{children:"No data for this day"})});const w=z.getTotalCalories(a),c=z.calcRemainingCalories(_,a),n=` calories ${c>0?"remaining":"over your limit"}`,t=new Intl.DateTimeFormat("en-US",{dateStyle:"full"}).format(f.date),r=Ve.calcAverageTimeBetweenMeals(a),p=tt(a);return m("section",{className:"report day-report",children:[m(ae,{className:"day-report__header",children:[e("h1",{children:t}),e("div",{className:"day-report__header__color-circle",style:{backgroundColor:T}})]}),m("div",{className:"day-report__weight",children:[a.weight&&m("p",{children:[e("strong",{children:"Weight: "}),a.weight]}),a.waist&&m("p",{children:[e("strong",{children:"Waist: "}),a.waist]})]}),m("div",{className:"day-report__calories",children:[e("h3",{className:"day-report__calories__title",children:"calories"}),m("p",{children:[e("strong",{children:"consumed Calories: "}),w]}),m("p",{children:[m("strong",{children:[n,": "]}),Math.abs(c)]}),m("p",{children:[e("strong",{children:"target caloric intake: "}),f.targetCalorie]})]}),a.intakes.length>0&&m("div",{className:"day-report__intakes",children:[e("h2",{className:"day-report__intakes__title",children:"Intakes"}),m("h4",{children:["Number of Intakes: ",a.intakes.length]}),m("h4",{children:["Average time between meals: ",r]}),e(ge,{className:"day-report__intakes__list",items:a.intakes,render:g=>e(Re,{intake:g},g.id)}),e(Je,{data:p})]}),a.workouts.length>0&&m("div",{className:"day-report__workouts",children:[e("h1",{className:"day-report__workouts__title",children:"Workouts"}),e("ul",{children:a.workouts.map((g,C)=>e("li",{children:e(qe,{workout:g})},C))})]})]})};function tt(f){return Ge.sortIntakesByRecordedAt(f.intakes).map(T=>({name:T.items.reduce((w,c,D,n)=>n.length===1?c.name:D===0?w+`${c.name}, `:D===n.length-1?w+`and ${c.name}`:w+` ${c.name}, `,""),calories:T.items.reduce((w,c)=>w+c.calories,0)}))}function rt(f){return Te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48zm62.63 304L296 374.63 177.37 256 296 137.37 318.63 160l-96 96z"}}]})(f)}function nt(f){return Te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48zm-40 326.63L193.37 352l96-96-96-96L216 137.37 334.63 256z"}}]})(f)}const at=({days:f})=>e("section",{className:"days-report",children:f.map(_=>e("div",{className:"day-report",children:e("h3",{className:"day-report__date",children:_.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})},_.date.toISOString()))});const it=()=>{const{isSuccess:f,filterBy:_,setFilterBy:a,currDay:T,setCurrDays:w,getWeekDays:c,getMonthDays:D}=ee();function n(t){if(f){switch(t){case Z.Day:w([]);break;case Z.Week:{if(!T)return;const r=c(T);if(!r)return;w(r);break}case Z.Month:{if(!T)return;const r=D(T);if(!r)return;w(r);break}}a(t)}}return e("section",{className:"schedule-filter",children:Object.values(Z).map(t=>e(re,{onClickFn:()=>n(t),className:we("schedule-filter__btn",{active:_===t}),children:e("span",{children:t})},t))})};const ot=()=>{const{currDate:f,currDay:_,setCurrDay:a,currDays:T,setCurrDays:w,filterBy:c,calenderDays:D,isSuccess:n,moveToMonth:t,getWeekDays:r,getMonthDays:p}=ee(),[g,C]=K.useState(!1),o=K.useRef(null),d=K.useRef(0);function y(u){switch(c){case Z.Day:{if(!g){a(u),w([]);return}if(!_)return;const i=[],l=D.findIndex(S=>ne(S.date,_==null?void 0:_.date)),x=D.findIndex(S=>ne(S.date,u.date)),h=Math.min(l,x),E=Math.max(l,x);for(let S=h;S<=E;S++)i.push(D[S]);w(i),a(u);break}case Z.Week:{const i=r(u);if(!i)return;w(i),a(u);break}case Z.Month:{const i=p(u);if(!i)return;w(i),a(u);break}}}return K.useEffect(()=>{const u=x=>{const h=x.touches[0];d.current=h.clientX},i=x=>{const E=x.changedTouches[0].clientX,S=50;E-d.current>S&&t(-1),d.current-E>S&&t(1)},l=o.current;if(l)return l.addEventListener("touchstart",u,!1),l.addEventListener("touchend",i,!1),()=>{l&&(l.removeEventListener("touchstart",u),l.removeEventListener("touchend",i))}},[f,n,t]),K.useEffect(()=>{const u=l=>{l.key==="Shift"&&C(!0)},i=l=>{l.key==="Shift"&&C(!1)};return window.addEventListener("keydown",u),window.addEventListener("keyup",i),()=>{window.removeEventListener("keydown",u),window.removeEventListener("keyup",i)}},[]),m("ul",{className:"calender",ref:o,children:[Ae.map(u=>e("li",{className:"calender__item weekday-item",children:e("h3",{className:"calender__item__title",children:u.short})},u.short)),D.map(u=>{const{backgroundColor:i,date:l}=u,x=u.backgroundColor?"white":"",h=u.isBorder?"4px solid var(--color-success)":"none";return e("li",{className:we("calender__item",{active:_&&ne(u.date,_.date)||T.some(E=>ne(u.date,E.date))}),onClick:()=>y(u),style:{backgroundColor:i,color:x},children:e("div",{className:"calender__item__wrapper",style:{border:h},children:e("h3",{children:u.day})})},l.toISOString())})]})};const st=({currWeekData:f,prevWeekData:_})=>{const a=T();function T(){const c={documentedDay:{currWeek:0,prevWeek:0,trend:0},totalCalories:{currWeek:0,prevWeek:0,trend:0},averageCaloriesPerDay:{currWeek:0,prevWeek:0,trend:0},averageIntakesPerDay:{currWeek:0,prevWeek:0,trend:0},totalWorkouts:{currWeek:0,prevWeek:0,trend:0},excessCalories:{currWeek:0,prevWeek:0,trend:0},exceededDays:{currWeek:0,prevWeek:0,trend:0}};if(!(!f.length||!(_!=null&&_.length)))return c.documentedDay.currWeek=f.length,c.documentedDay.prevWeek=_.length,c.documentedDay.trend=c.documentedDay.currWeek-c.documentedDay.prevWeek,c.totalCalories.currWeek=z.getTotalCalories(f),c.totalCalories.prevWeek=z.getTotalCalories(_),c.totalCalories.trend=c.totalCalories.currWeek-c.totalCalories.prevWeek,c.averageCaloriesPerDay.currWeek=Math.round(c.totalCalories.currWeek/f.length),c.averageCaloriesPerDay.prevWeek=Math.round(c.totalCalories.prevWeek/_.length),c.averageCaloriesPerDay.trend=c.averageCaloriesPerDay.currWeek-c.averageCaloriesPerDay.prevWeek,c.totalWorkouts.currWeek=se.getTotalWorkouts(f),c.totalWorkouts.prevWeek=se.getTotalWorkouts(_),c.totalWorkouts.trend=c.totalWorkouts.currWeek-c.totalWorkouts.prevWeek,c.excessCalories.currWeek=z.getWeeklyExcessRateCalories(f),c.excessCalories.prevWeek=z.getWeeklyExcessRateCalories(_),c.excessCalories.trend=c.excessCalories.currWeek-c.excessCalories.prevWeek,c.exceededDays.currWeek=f.filter(D=>{const n=z.getDayCaloriesIntake({currDayData:D,data:f}),t=z.getTotalCaloriesFromDailyData({dailyData:D});return n-t<0}).length,c.exceededDays.prevWeek=_.filter(D=>{const n=z.getDayCaloriesIntake({currDayData:D,data:_}),t=z.getTotalCaloriesFromDailyData({dailyData:D});return n-t<0}).length,c.exceededDays.trend=c.exceededDays.currWeek-c.exceededDays.prevWeek,c.averageIntakesPerDay.currWeek=Math.round(f.reduce((D,n)=>{const t=n.intakes.filter(r=>r.type==="food").length;return D+t},0)/f.length),c.averageIntakesPerDay.prevWeek=Math.round(_.reduce((D,n)=>{const t=n.intakes.filter(r=>r.type==="food").length;return D+t},0)/_.length),c}function w({trend:c,positive:D}){if(!c)return;const n=20;return c>0?e(He,{size:n,color:D==="up"?"green":"red"}):e(Ke,{size:n,color:D==="down"?"green":"red"})}return a?e("div",{className:"week-report-table",children:m("table",{children:[e("thead",{children:m("tr",{children:[e("th",{children:"value"}),e("th",{children:"current week"}),e("th",{children:"previous week"}),e("th",{children:"trend"})]})}),m("tbody",{children:[m("tr",{children:[e("td",{children:"documented days"}),e("td",{children:a.documentedDay.currWeek}),e("td",{children:a.documentedDay.prevWeek}),e("td",{children:w({trend:a.documentedDay.trend,positive:"up"})})]}),m("tr",{children:[e("td",{children:"total calories"}),e("td",{children:a.totalCalories.currWeek}),e("td",{children:a.totalCalories.prevWeek}),e("td",{children:w({trend:a.totalCalories.trend,positive:"down"})})]}),m("tr",{children:[e("td",{children:"average calories per day"}),e("td",{children:a.averageCaloriesPerDay.currWeek}),e("td",{children:a.averageCaloriesPerDay.prevWeek}),e("td",{children:w({trend:a.averageCaloriesPerDay.trend,positive:"down"})})]}),m("tr",{children:[e("td",{children:"total workouts"}),e("td",{children:a.totalWorkouts.currWeek}),e("td",{children:a.totalWorkouts.prevWeek}),e("td",{children:w({trend:a.totalWorkouts.trend,positive:"up"})})]}),m("tr",{children:[e("td",{children:"excess calories"}),e("td",{children:a.excessCalories.currWeek}),e("td",{children:a.excessCalories.prevWeek}),e("td",{children:w({trend:a.excessCalories.trend,positive:"down"})})]}),m("tr",{children:[e("td",{children:"exceeded days"}),e("td",{children:a.exceededDays.currWeek}),e("td",{children:a.exceededDays.prevWeek}),e("td",{children:w({trend:a.exceededDays.trend,positive:"down"})})]}),m("tr",{children:[e("td",{children:"average intakes per day"}),e("td",{children:a.averageIntakesPerDay.currWeek}),e("td",{children:a.averageIntakesPerDay.prevWeek}),e("td",{})]})]})]})}):null};var Ie={exports:{}};(function(f,_){(function(T,w){f.exports=w(K)})(Le,a=>(()=>{var T={"./node_modules/css-mediaquery/index.js":(n,t)=>{t.match=d,t.parse=y;var r=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,p=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,g=/^(?:(min|max)-)?(.+)/,C=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function d(x,h){return y(x).some(function(E){var S=E.inverse,P=E.type==="all"||h.type===E.type;if(P&&S||!(P||S))return!1;var Q=E.expressions.every(function(b){var R=b.feature,N=b.modifier,I=b.value,O=h[R];if(!O)return!1;switch(R){case"orientation":case"scan":return O.toLowerCase()===I.toLowerCase();case"width":case"height":case"device-width":case"device-height":I=l(I),O=l(O);break;case"resolution":I=i(I),O=i(O);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":I=u(I),O=u(O);break;case"grid":case"color":case"color-index":case"monochrome":I=parseInt(I,10)||1,O=parseInt(O,10)||0;break}switch(N){case"min":return O>=I;case"max":return O<=I;default:return O===I}});return Q&&!S||!Q&&S})}function y(x){return x.split(",").map(function(h){h=h.trim();var E=h.match(r),S=E[1],P=E[2],Q=E[3]||"",b={};return b.inverse=!!S&&S.toLowerCase()==="not",b.type=P?P.toLowerCase():"all",Q=Q.match(/\([^\)]+\)/g)||[],b.expressions=Q.map(function(R){var N=R.match(p),I=N[1].toLowerCase().match(g);return{modifier:I[1],feature:I[2],value:N[2]}}),b})}function u(x){var h=Number(x),E;return h||(E=x.match(/^(\d+)\s*\/\s*(\d+)$/),h=E[1]/E[2]),h}function i(x){var h=parseFloat(x),E=String(x).match(o)[1];switch(E){case"dpcm":return h/2.54;case"dppx":return h*96;default:return h}}function l(x){var h=parseFloat(x),E=String(x).match(C)[1];switch(E){case"em":return h*16;case"rem":return h*16;case"cm":return h*96/2.54;case"mm":return h*96/2.54/10;case"in":return h*96;case"pt":return h*72;case"pc":return h*72/12;default:return h}}},"./node_modules/hyphenate-style-name/index.js":(n,t,r)=>{r.r(t),r.d(t,{default:()=>y});var p=/[A-Z]/g,g=/^ms-/,C={};function o(u){return"-"+u.toLowerCase()}function d(u){if(C.hasOwnProperty(u))return C[u];var i=u.replace(p,o);return C[u]=g.test(i)?"-"+i:i}const y=d},"./node_modules/matchmediaquery/index.js":(n,t,r)=>{var p=r("./node_modules/css-mediaquery/index.js").match,g=typeof window<"u"?window.matchMedia:null;function C(d,y,u){var i=this;if(g&&!u){var l=g.call(window,d);this.matches=l.matches,this.media=l.media,l.addListener(E)}else this.matches=p(d,y),this.media=d;this.addListener=x,this.removeListener=h,this.dispose=S;function x(P){l&&l.addListener(P)}function h(P){l&&l.removeListener(P)}function E(P){i.matches=P.matches,i.media=P.media}function S(){l&&l.removeListener(E)}}function o(d,y,u){return new C(d,y,u)}n.exports=o},"./node_modules/object-assign/index.js":n=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function g(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function C(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var d={},y=0;y<10;y++)d["_"+String.fromCharCode(y)]=y;var u=Object.getOwnPropertyNames(d).map(function(l){return d[l]});if(u.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(l){i[l]=l}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}n.exports=C()?Object.assign:function(o,d){for(var y,u=g(o),i,l=1;l<arguments.length;l++){y=Object(arguments[l]);for(var x in y)r.call(y,x)&&(u[x]=y[x]);if(t){i=t(y);for(var h=0;h<i.length;h++)p.call(y,i[h])&&(u[i[h]]=y[i[h]])}}return u}},"./node_modules/prop-types/checkPropTypes.js":(n,t,r)=>{var p=function(){};{var g=r("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),C={},o=r("./node_modules/prop-types/lib/has.js");p=function(y){var u="Warning: "+y;typeof console<"u"&&console.error(u);try{throw new Error(u)}catch{}}}function d(y,u,i,l,x){for(var h in y)if(o(y,h)){var E;try{if(typeof y[h]!="function"){var S=Error((l||"React class")+": "+i+" type `"+h+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof y[h]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw S.name="Invariant Violation",S}E=y[h](u,h,l,i,null,g)}catch(Q){E=Q}if(E&&!(E instanceof Error)&&p((l||"React class")+": type specification of "+i+" `"+h+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof E+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),E instanceof Error&&!(E.message in C)){C[E.message]=!0;var P=x?x():"";p("Failed "+i+" type: "+E.message+(P??""))}}}d.resetWarningCache=function(){C={}},n.exports=d},"./node_modules/prop-types/factoryWithTypeCheckers.js":(n,t,r)=>{var p=r("./node_modules/react-is/index.js"),g=r("./node_modules/object-assign/index.js"),C=r("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),o=r("./node_modules/prop-types/lib/has.js"),d=r("./node_modules/prop-types/checkPropTypes.js"),y=function(){};y=function(i){var l="Warning: "+i;typeof console<"u"&&console.error(l);try{throw new Error(l)}catch{}};function u(){return null}n.exports=function(i,l){var x=typeof Symbol=="function"&&Symbol.iterator,h="@@iterator";function E(s){var k=s&&(x&&s[x]||s[h]);if(typeof k=="function")return k}var S="<<anonymous>>",P={array:N("array"),bigint:N("bigint"),bool:N("boolean"),func:N("function"),number:N("number"),object:N("object"),string:N("string"),symbol:N("symbol"),any:I(),arrayOf:O,element:B(),elementType:H(),instanceOf:V,node:fe(),objectOf:de,oneOf:le,oneOfType:ue,shape:he,exact:pe};function Q(s,k){return s===k?s!==0||1/s===1/k:s!==s&&k!==k}function b(s,k){this.message=s,this.data=k&&typeof k=="object"?k:{},this.stack=""}b.prototype=Error.prototype;function R(s){var k={},L=0;function j($,M,A,F,Y,U,v){if(F=F||S,U=U||A,v!==C){if(l){var G=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw G.name="Invariant Violation",G}else if(typeof console<"u"){var X=F+":"+A;!k[X]&&L<3&&(y("You are manually calling a React.PropTypes validation function for the `"+U+"` prop on `"+F+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),k[X]=!0,L++)}}return M[A]==null?$?M[A]===null?new b("The "+Y+" `"+U+"` is marked as required "+("in `"+F+"`, but its value is `null`.")):new b("The "+Y+" `"+U+"` is marked as required in "+("`"+F+"`, but its value is `undefined`.")):null:s(M,A,F,Y,U)}var W=j.bind(null,!1);return W.isRequired=j.bind(null,!0),W}function N(s){function k(L,j,W,$,M,A){var F=L[j],Y=J(F);if(Y!==s){var U=q(F);return new b("Invalid "+$+" `"+M+"` of type "+("`"+U+"` supplied to `"+W+"`, expected ")+("`"+s+"`."),{expectedType:s})}return null}return R(k)}function I(){return R(u)}function O(s){function k(L,j,W,$,M){if(typeof s!="function")return new b("Property `"+M+"` of component `"+W+"` has invalid PropType notation inside arrayOf.");var A=L[j];if(!Array.isArray(A)){var F=J(A);return new b("Invalid "+$+" `"+M+"` of type "+("`"+F+"` supplied to `"+W+"`, expected an array."))}for(var Y=0;Y<A.length;Y++){var U=s(A,Y,W,$,M+"["+Y+"]",C);if(U instanceof Error)return U}return null}return R(k)}function B(){function s(k,L,j,W,$){var M=k[L];if(!i(M)){var A=J(M);return new b("Invalid "+W+" `"+$+"` of type "+("`"+A+"` supplied to `"+j+"`, expected a single ReactElement."))}return null}return R(s)}function H(){function s(k,L,j,W,$){var M=k[L];if(!p.isValidElementType(M)){var A=J(M);return new b("Invalid "+W+" `"+$+"` of type "+("`"+A+"` supplied to `"+j+"`, expected a single ReactElement type."))}return null}return R(s)}function V(s){function k(L,j,W,$,M){if(!(L[j]instanceof s)){var A=s.name||S,F=oe(L[j]);return new b("Invalid "+$+" `"+M+"` of type "+("`"+F+"` supplied to `"+W+"`, expected ")+("instance of `"+A+"`."))}return null}return R(k)}function le(s){if(!Array.isArray(s))return arguments.length>1?y("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):y("Invalid argument supplied to oneOf, expected an array."),u;function k(L,j,W,$,M){for(var A=L[j],F=0;F<s.length;F++)if(Q(A,s[F]))return null;var Y=JSON.stringify(s,function(v,G){var X=q(G);return X==="symbol"?String(G):G});return new b("Invalid "+$+" `"+M+"` of value `"+String(A)+"` "+("supplied to `"+W+"`, expected one of "+Y+"."))}return R(k)}function de(s){function k(L,j,W,$,M){if(typeof s!="function")return new b("Property `"+M+"` of component `"+W+"` has invalid PropType notation inside objectOf.");var A=L[j],F=J(A);if(F!=="object")return new b("Invalid "+$+" `"+M+"` of type "+("`"+F+"` supplied to `"+W+"`, expected an object."));for(var Y in A)if(o(A,Y)){var U=s(A,Y,W,$,M+"."+Y,C);if(U instanceof Error)return U}return null}return R(k)}function ue(s){if(!Array.isArray(s))return y("Invalid argument supplied to oneOfType, expected an instance of array."),u;for(var k=0;k<s.length;k++){var L=s[k];if(typeof L!="function")return y("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+me(L)+" at index "+k+"."),u}function j(W,$,M,A,F){for(var Y=[],U=0;U<s.length;U++){var v=s[U],G=v(W,$,M,A,F,C);if(G==null)return null;G.data&&o(G.data,"expectedType")&&Y.push(G.data.expectedType)}var X=Y.length>0?", expected one of type ["+Y.join(", ")+"]":"";return new b("Invalid "+A+" `"+F+"` supplied to "+("`"+M+"`"+X+"."))}return R(j)}function fe(){function s(k,L,j,W,$){return te(k[L])?null:new b("Invalid "+W+" `"+$+"` supplied to "+("`"+j+"`, expected a ReactNode."))}return R(s)}function ie(s,k,L,j,W){return new b((s||"React class")+": "+k+" type `"+L+"."+j+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+W+"`.")}function he(s){function k(L,j,W,$,M){var A=L[j],F=J(A);if(F!=="object")return new b("Invalid "+$+" `"+M+"` of type `"+F+"` "+("supplied to `"+W+"`, expected `object`."));for(var Y in s){var U=s[Y];if(typeof U!="function")return ie(W,$,M,Y,q(U));var v=U(A,Y,W,$,M+"."+Y,C);if(v)return v}return null}return R(k)}function pe(s){function k(L,j,W,$,M){var A=L[j],F=J(A);if(F!=="object")return new b("Invalid "+$+" `"+M+"` of type `"+F+"` "+("supplied to `"+W+"`, expected `object`."));var Y=g({},L[j],s);for(var U in Y){var v=s[U];if(o(s,U)&&typeof v!="function")return ie(W,$,M,U,q(v));if(!v)return new b("Invalid "+$+" `"+M+"` key `"+U+"` supplied to `"+W+"`.\nBad object: "+JSON.stringify(L[j],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(s),null,"  "));var G=v(A,U,W,$,M+"."+U,C);if(G)return G}return null}return R(k)}function te(s){switch(typeof s){case"number":case"string":case"undefined":return!0;case"boolean":return!s;case"object":if(Array.isArray(s))return s.every(te);if(s===null||i(s))return!0;var k=E(s);if(k){var L=k.call(s),j;if(k!==s.entries){for(;!(j=L.next()).done;)if(!te(j.value))return!1}else for(;!(j=L.next()).done;){var W=j.value;if(W&&!te(W[1]))return!1}}else return!1;return!0;default:return!1}}function ye(s,k){return s==="symbol"?!0:k?k["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&k instanceof Symbol:!1}function J(s){var k=typeof s;return Array.isArray(s)?"array":s instanceof RegExp?"object":ye(k,s)?"symbol":k}function q(s){if(typeof s>"u"||s===null)return""+s;var k=J(s);if(k==="object"){if(s instanceof Date)return"date";if(s instanceof RegExp)return"regexp"}return k}function me(s){var k=q(s);switch(k){case"array":case"object":return"an "+k;case"boolean":case"date":case"regexp":return"a "+k;default:return k}}function oe(s){return!s.constructor||!s.constructor.name?S:s.constructor.name}return P.checkPropTypes=d,P.resetWarningCache=d.resetWarningCache,P.PropTypes=P,P}},"./node_modules/prop-types/index.js":(n,t,r)=>{{var p=r("./node_modules/react-is/index.js"),g=!0;n.exports=r("./node_modules/prop-types/factoryWithTypeCheckers.js")(p.isElement,g)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":n=>{var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";n.exports=t},"./node_modules/prop-types/lib/has.js":n=>{n.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(n,t)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var r=typeof Symbol=="function"&&Symbol.for,p=r?Symbol.for("react.element"):60103,g=r?Symbol.for("react.portal"):60106,C=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,d=r?Symbol.for("react.profiler"):60114,y=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,i=r?Symbol.for("react.async_mode"):60111,l=r?Symbol.for("react.concurrent_mode"):60111,x=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,E=r?Symbol.for("react.suspense_list"):60120,S=r?Symbol.for("react.memo"):60115,P=r?Symbol.for("react.lazy"):60116,Q=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,R=r?Symbol.for("react.responder"):60118,N=r?Symbol.for("react.scope"):60119;function I(v){return typeof v=="string"||typeof v=="function"||v===C||v===l||v===d||v===o||v===h||v===E||typeof v=="object"&&v!==null&&(v.$$typeof===P||v.$$typeof===S||v.$$typeof===y||v.$$typeof===u||v.$$typeof===x||v.$$typeof===b||v.$$typeof===R||v.$$typeof===N||v.$$typeof===Q)}function O(v){if(typeof v=="object"&&v!==null){var G=v.$$typeof;switch(G){case p:var X=v.type;switch(X){case i:case l:case C:case d:case o:case h:return X;default:var Ce=X&&X.$$typeof;switch(Ce){case u:case x:case P:case S:case y:return Ce;default:return G}}case g:return G}}}var B=i,H=l,V=u,le=y,de=p,ue=x,fe=C,ie=P,he=S,pe=g,te=d,ye=o,J=h,q=!1;function me(v){return q||(q=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),oe(v)||O(v)===i}function oe(v){return O(v)===l}function s(v){return O(v)===u}function k(v){return O(v)===y}function L(v){return typeof v=="object"&&v!==null&&v.$$typeof===p}function j(v){return O(v)===x}function W(v){return O(v)===C}function $(v){return O(v)===P}function M(v){return O(v)===S}function A(v){return O(v)===g}function F(v){return O(v)===d}function Y(v){return O(v)===o}function U(v){return O(v)===h}t.AsyncMode=B,t.ConcurrentMode=H,t.ContextConsumer=V,t.ContextProvider=le,t.Element=de,t.ForwardRef=ue,t.Fragment=fe,t.Lazy=ie,t.Memo=he,t.Portal=pe,t.Profiler=te,t.StrictMode=ye,t.Suspense=J,t.isAsyncMode=me,t.isConcurrentMode=oe,t.isContextConsumer=s,t.isContextProvider=k,t.isElement=L,t.isForwardRef=j,t.isFragment=W,t.isLazy=$,t.isMemo=M,t.isPortal=A,t.isProfiler=F,t.isStrictMode=Y,t.isSuspense=U,t.isValidElementType=I,t.typeOf=O})()},"./node_modules/react-is/index.js":(n,t,r)=>{n.exports=r("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(n,t,r)=>{r.r(t),r.d(t,{shallowEqualArrays:()=>g,shallowEqualObjects:()=>p});function p(C,o){if(C===o)return!0;if(!C||!o)return!1;var d=Object.keys(C),y=Object.keys(o),u=d.length;if(y.length!==u)return!1;for(var i=0;i<u;i++){var l=d[i];if(C[l]!==o[l]||!Object.prototype.hasOwnProperty.call(o,l))return!1}return!0}function g(C,o){if(C===o)return!0;if(!C||!o)return!1;var d=C.length;if(o.length!==d)return!1;for(var y=0;y<d;y++)if(C[y]!==o[y])return!1;return!0}},"./src/Component.ts":function(n,t,r){var p=this&&this.__rest||function(d,y){var u={};for(var i in d)Object.prototype.hasOwnProperty.call(d,i)&&y.indexOf(i)<0&&(u[i]=d[i]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(d);l<i.length;l++)y.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(d,i[l])&&(u[i[l]]=d[i[l]]);return u},g=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0});var C=g(r("./src/useMediaQuery.ts")),o=function(d){var y=d.children,u=d.device,i=d.onChange,l=p(d,["children","device","onChange"]),x=(0,C.default)(l,u,i);return typeof y=="function"?y(x):x?y:null};t.default=o},"./src/Context.ts":(n,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var p=r("react"),g=(0,p.createContext)(void 0);t.default=g},"./src/index.ts":function(n,t,r){var p=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=t.toQuery=t.useMediaQuery=t.default=void 0;var g=p(r("./src/useMediaQuery.ts"));t.useMediaQuery=g.default;var C=p(r("./src/Component.ts"));t.default=C.default;var o=p(r("./src/toQuery.ts"));t.toQuery=o.default;var d=p(r("./src/Context.ts"));t.Context=d.default},"./src/mediaQuery.ts":function(n,t,r){var p=this&&this.__assign||function(){return p=Object.assign||function(h){for(var E,S=1,P=arguments.length;S<P;S++){E=arguments[S];for(var Q in E)Object.prototype.hasOwnProperty.call(E,Q)&&(h[Q]=E[Q])}return h},p.apply(this,arguments)},g=this&&this.__rest||function(h,E){var S={};for(var P in h)Object.prototype.hasOwnProperty.call(h,P)&&E.indexOf(P)<0&&(S[P]=h[P]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Q=0,P=Object.getOwnPropertySymbols(h);Q<P.length;Q++)E.indexOf(P[Q])<0&&Object.prototype.propertyIsEnumerable.call(h,P[Q])&&(S[P[Q]]=h[P[Q]]);return S},C=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0});var o=C(r("./node_modules/prop-types/index.js")),d=o.default.oneOfType([o.default.string,o.default.number]),y={all:o.default.bool,grid:o.default.bool,aural:o.default.bool,braille:o.default.bool,handheld:o.default.bool,print:o.default.bool,projection:o.default.bool,screen:o.default.bool,tty:o.default.bool,tv:o.default.bool,embossed:o.default.bool},u={orientation:o.default.oneOf(["portrait","landscape"]),scan:o.default.oneOf(["progressive","interlace"]),aspectRatio:o.default.string,deviceAspectRatio:o.default.string,height:d,deviceHeight:d,width:d,deviceWidth:d,color:o.default.bool,colorIndex:o.default.bool,monochrome:o.default.bool,resolution:d,type:Object.keys(y)};u.type;var i=g(u,["type"]),l=p({minAspectRatio:o.default.string,maxAspectRatio:o.default.string,minDeviceAspectRatio:o.default.string,maxDeviceAspectRatio:o.default.string,minHeight:d,maxHeight:d,minDeviceHeight:d,maxDeviceHeight:d,minWidth:d,maxWidth:d,minDeviceWidth:d,maxDeviceWidth:d,minColor:o.default.number,maxColor:o.default.number,minColorIndex:o.default.number,maxColorIndex:o.default.number,minMonochrome:o.default.number,maxMonochrome:o.default.number,minResolution:d,maxResolution:d},i),x=p(p({},y),l);t.default={all:x,types:y,matchers:u,features:l}},"./src/toQuery.ts":function(n,t,r){var p=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0});var g=p(r("./node_modules/hyphenate-style-name/index.js")),C=p(r("./src/mediaQuery.ts")),o=function(i){return"not ".concat(i)},d=function(i,l){var x=(0,g.default)(i);return typeof l=="number"&&(l="".concat(l,"px")),l===!0?x:l===!1?o(x):"(".concat(x,": ").concat(l,")")},y=function(i){return i.join(" and ")},u=function(i){var l=[];return Object.keys(C.default.all).forEach(function(x){var h=i[x];h!=null&&l.push(d(x,h))}),y(l)};t.default=u},"./src/useMediaQuery.ts":function(n,t,r){var p=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(t,"__esModule",{value:!0});var g=r("react"),C=p(r("./node_modules/matchmediaquery/index.js")),o=p(r("./node_modules/hyphenate-style-name/index.js")),d=r("./node_modules/shallow-equal/dist/index.esm.js"),y=p(r("./src/toQuery.ts")),u=p(r("./src/Context.ts")),i=function(b){return b.query||(0,y.default)(b)},l=function(b){if(b){var R=Object.keys(b);return R.reduce(function(N,I){return N[(0,o.default)(I)]=b[I],N},{})}},x=function(){var b=(0,g.useRef)(!1);return(0,g.useEffect)(function(){b.current=!0},[]),b.current},h=function(b){var R=(0,g.useContext)(u.default),N=function(){return l(b)||l(R)},I=(0,g.useState)(N),O=I[0],B=I[1];return(0,g.useEffect)(function(){var H=N();(0,d.shallowEqualObjects)(O,H)||B(H)},[b,R]),O},E=function(b){var R=function(){return i(b)},N=(0,g.useState)(R),I=N[0],O=N[1];return(0,g.useEffect)(function(){var B=R();I!==B&&O(B)},[b]),I},S=function(b,R){var N=function(){return(0,C.default)(b,R||{},!!R)},I=(0,g.useState)(N),O=I[0],B=I[1],H=x();return(0,g.useEffect)(function(){if(H){var V=N();return B(V),function(){V&&V.dispose()}}},[b,R]),O},P=function(b){var R=(0,g.useState)(b.matches),N=R[0],I=R[1];return(0,g.useEffect)(function(){var O=function(B){I(B.matches)};return b.addListener(O),I(b.matches),function(){b.removeListener(O)}},[b]),N},Q=function(b,R,N){var I=h(R),O=E(b);if(!O)throw new Error("Invalid or missing MediaQuery!");var B=S(O,I),H=P(B),V=x();return(0,g.useEffect)(function(){V&&N&&N(H)},[H]),(0,g.useEffect)(function(){return function(){B&&B.dispose()}},[]),H};t.default=Q},react:n=>{n.exports=a}},w={};function c(n){var t=w[n];if(t!==void 0)return t.exports;var r=w[n]={exports:{}};return T[n].call(r.exports,r,r.exports,c),r.exports}c.d=(n,t)=>{for(var r in t)c.o(t,r)&&!c.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},c.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),c.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var D=c("./src/index.ts");return D})())})(Ie);var ct=Ie.exports;const lt=({calenderDay:f})=>{const{backgroundColor:_,data:a,date:T}=f,w=ct.useMediaQuery({query:"(max-width: 600px)"}),[c,D]=K.useState(!w),[n,t]=K.useState(!1);if(!a)return null;const r=new Date(T).toLocaleDateString("en-US",{weekday:"short"}),p=z.getTotalCalories(a),g=z.calcRemainingCaloriesFromDayData(a),C=g>0?"remaining":"over your limit",o=z.getDailyExcessRate({remainingCalories:g,targetCaloricIntake:a.targetCaloricIntake}),d=` calories ${C}`,y=a.intakes.length;function u(){D(i=>!i)}return m("article",{className:"week-report-day-display",children:[e(ae,{className:"week-report-day-display__header",style:{backgroundColor:_},children:e("h3",{children:r})}),c&&m("div",{className:"week-report-day-display__wrapper",children:[e("div",{className:"week-report-day-display__calories",children:e("table",{children:m("tbody",{children:[m("tr",{children:[e("th",{children:"Consumed Calories"}),e("td",{children:p})]}),m("tr",{children:[e("th",{children:d}),e("td",{children:Math.abs(g)})]}),m("tr",{children:[e("th",{children:"Target Caloric Intake"}),e("td",{children:a.targetCaloricIntake})]}),m("tr",{children:[e("th",{children:"Exceeded By"}),m("td",{children:[o,"%"]})]}),m("tr",{children:[e("th",{children:"workouts"}),e("td",{children:a.workouts.length})]})]})})}),m(re,{className:"week-report-day-display__show-intakes-btn",onClickFn:()=>t(!n),children:[m("span",{children:[y," Intakes"]}),n?e(Ee,{}):e(De,{})]}),n&&e(ge,{className:"week-report-day-display__intakes-list",items:a.intakes,render:i=>e(Re,{intake:i},i.id)}),a.workouts.length>0&&m("div",{className:"week-report-day-display__workouts",children:[e("h3",{children:"Workouts:"}),e(ge,{className:"week-report-day-display__workouts__list",items:a.workouts,render:i=>{const{items:l,description:x}=i,h=Math.round(l.filter(E=>E.isCompleted).length/l.length*100);return m("p",{children:[e("strong",{children:x})," (",h,"% completed)"]})}})]})]}),w&&e(re,{className:"week-report-day-display__expand-btn",onClickFn:u,children:c?"Hide":"Show"})]})};const dt=({data:f})=>{const _=f.reduce((T,w)=>w.calories>T?w.calories:T,-1/0),a=[0,Math.round(_*1.1)];return e("div",{style:{width:"100%",maxWidth:1200,height:300},children:e(Oe,{width:"100%",height:"100%",children:m(Me,{data:f,children:[e(Pe,{strokeDasharray:"3 3"}),e(ke,{dataKey:"name"}),e(be,{domain:a}),e(We,{}),e(ce,{dataKey:"caloriesWithoutExcess",stackId:"a",fill:"#005FB3",barSize:50}),e(ce,{dataKey:"excessCalories",stackId:"a",fill:"#FF0000",barSize:50})]})})})};function ut(){return{id:Ne(),userId:"",description:"",type:"user",isCompleted:!1,date:new Date}}const ft={getDefaultGoal:ut};const ht=()=>{const{addGoal:f,isAddGoalLoading:_}=ee(),[a,T]=K.useState(ft.getDefaultGoal());function w(D){D.preventDefault(),T({...a,description:D.target.value})}function c(){a.type="weekly",f(a)}return _?e(_e,{withContainer:!0,containerSize:{height:"50px"}}):m("form",{className:"week-goal-edit",children:[e("input",{type:"text",className:"week-goal-edit__input",value:a.description,onChange:w}),e(re,{className:we("week-goal-edit__btn ",{active:a.description}),onClickFn:c,children:"Add Goal"})]})};const pt=({render:f,items:_,isLoading:a,isSuccess:T,isError:w,isEmpty:c,entityName:D,className:n})=>m("div",{className:`list-container ${n}`,children:[a&&e(_e,{}),T&&!c&&e("ul",{className:`list ${n}`,children:_.map((t,r,p)=>f(t,r,p))}),T&&c&&e(Xe,{entityName:D}),w&&e(Se,{msg:`Couldn't get ${D}. Please try again later.`})]});const yt=({isChecked:f,onClickFn:_})=>e("div",{className:"checkbox"+(f?" checked":" unchecked"),onClick:_,"data-testid":"checkbox",children:f&&e(Be,{size:24,color:"var(--color-primary)","data-testid":"checkbox-icon"})}),mt=({goal:f})=>{const{updateGoal:_}=ee();function a(){_({...f,isCompleted:!f.isCompleted})}return m("section",{className:"week-goal-display",children:[e("p",{children:f.description}),e(yt,{isChecked:f.isCompleted,onClickFn:a})]})},vt=()=>{const{currDays:f,weekGoals:_,isGoalsEmpty:a,isGoalsError:T,isGoalsLoading:w,isGoalsSuccess:c}=ee();function D(){const n=new Date(f[0].date);n.setHours(0,0,0,0);const t=new Date(f[f.length-1].date);t.setHours(23,59,59,999);const r=new Date;return r>=n&&r<=t}return m("section",{className:"week-goals",children:[D()&&e(ht,{}),e(pt,{className:"week-goals__list",items:_,render:n=>e(mt,{goal:n},n.id),isLoading:w,isError:T,isSuccess:c,isEmpty:a,entityName:"goal"})]})},gt=()=>{const{currDays:f,data:_}=ee();if(!f.length||!_)return e("section",{className:"report week-report",children:e("p",{children:"No data for this week"})});const a=f.map(r=>r.data).filter(r=>!!r),T=t(),w=D(),c=n();function D(){return a?a.map(p=>({date:p.date,weight:p.weight,waist:p.waist})):null}function n(){return a?a.map(p=>{const g=z.calcRemainingCaloriesFromDayData(p),C=g<0?Math.abs(g):0,o=z.getTotalCalories(p),d=o-C;return{name:new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(new Date(p.date)),calories:o,excessCalories:C,caloriesWithoutExcess:d}}):null}function t(){if(!f.length||!_)return[];const r=f[0],p=new Date(r.date);return p.setDate(p.getDate()-7),p.setHours(0,0,0,0),_.filter(C=>{const o=new Date(C.date);return o>=p&&o<r.date})}return m("div",{className:"report week-report",children:[e(st,{currWeekData:a,prevWeekData:T}),e(vt,{}),w&&e(Fe,{data:w}),c&&e(dt,{data:c}),e("div",{className:"week-report-day-display-container",children:f.map((r,p)=>e(lt,{calenderDay:r},r.id||p))})]})},Tt=()=>{ze({title:"Schedule / Kceli"});const{currDate:f,currDay:_,setCurrDay:a,currDays:T,filterBy:w,calenderDays:c,isLoading:D,isSuccess:n,isError:t,moveToMonth:r}=ee(),p=!!_&&w===Z.Day,g=T.length>0&&w===Z.Day;return K.useEffect(()=>{if(!n||_)return;const C=new Date,o=c.find(d=>ne(d.date,C));o&&a(o)},[c,n,_,T,a]),m("main",{className:"page schedule-page",children:[D&&e(_e,{}),t&&e(Se,{}),n&&m($e,{children:[m(ae,{className:"schedule-page__header",children:[m("h2",{className:"schedule-page__header__title",children:[f.toLocaleString("en-US",{month:"long"})," ",f.getFullYear()]}),m("div",{className:"schedule-page__header__btns-container",children:[e(re,{onClickFn:()=>r(-1),children:e(rt,{className:"schedule-page__header__btns-container__btn__icon"})}),e(re,{onClickFn:()=>r(1),children:e(nt,{className:"schedule-page__header__btns-container__btn__icon"})})]})]}),e(ot,{}),e(it,{}),p&&e(et,{day:_}),g&&e(at,{days:T}),w===Z.Week&&e(gt,{})]})]})};export{Tt as default};

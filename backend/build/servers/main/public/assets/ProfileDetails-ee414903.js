import{$ as _,r as A,q as Te,t as Le,j as l,S as Ee,e as g,v as K,w as ze,x as Ie,O as We}from"./index-2c25cc0e.js";import{E as De}from"./ErrorMsg-db1c1bb2.js";import{c as le}from"./index-0fb38f84.js";import{F as He,H as Fe,x as ae,I as J,d as ee,f as Y,q as Q,u as Ge,D as Me,s as Be,L as oe,C as Ve,A as Ke,n as U,o as Ue,k as se,J as qe,r as Ye,G as Xe,l as Ne,K as ge,M as Je,z as Qe,N as Ze,E as et,O as tt}from"./generateCategoricalChart-47273bbd.js";import{B as ce}from"./Button-55dd706b.js";import{u as rt,C as W}from"./index.esm-315776a7.js";var ue=function(e,r){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},ue(e,r)};function nt(e,r){ue(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}function it(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)r.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(n[t[i]]=e[t[i]]);return n}var at=function(e,r,n,t){switch(r){case"debounce":return Fe(e,n,t);case"throttle":return He(e,n,t);default:return e}},_e=function(e){return typeof e=="function"},q=function(){return typeof window>"u"},be=function(e){return e instanceof Element||e instanceof HTMLDocument},ot=function(e,r,n){return function(t){var i=t.width,a=t.height;e(function(o){return o.width===i&&o.height===a||o.width===i&&!n||o.height===a&&!r?o:{width:i,height:a}})}},lt=function(e){nt(r,e);function r(n){var t=e.call(this,n)||this;t.cancelHandler=function(){t.resizeHandler&&t.resizeHandler.cancel&&(t.resizeHandler.cancel(),t.resizeHandler=null)},t.attachObserver=function(){var f=t.props,s=f.targetRef,d=f.observerOptions;if(!q()){s&&s.current&&(t.targetRef.current=s.current);var h=t.getElement();h&&(t.observableElement&&t.observableElement===h||(t.observableElement=h,t.resizeObserver.observe(h,d)))}},t.getElement=function(){var f=t.props,s=f.querySelector,d=f.targetDomEl;if(q())return null;if(s)return document.querySelector(s);if(d&&be(d))return d;if(t.targetRef&&be(t.targetRef.current))return t.targetRef.current;var h=Te.findDOMNode(t);if(!h)return null;var y=t.getRenderType();switch(y){case"renderProp":return h;case"childFunction":return h;case"child":return h;case"childArray":return h;default:return h.parentElement}},t.createResizeHandler=function(f){var s=t.props,d=s.handleWidth,h=d===void 0?!0:d,y=s.handleHeight,p=y===void 0?!0:y,m=s.onResize;if(!(!h&&!p)){var v=ot(function(b){return t.setState(b,function(){return m==null?void 0:m(t.state.width,t.state.height)})},h,p);f.forEach(function(b){var w=b&&b.contentRect||{},x=w.width,S=w.height,R=!t.skipOnMount&&!q();R&&v({width:x,height:S}),t.skipOnMount=!1})}},t.getRenderType=function(){var f=t.props,s=f.render,d=f.children;return _e(s)?"renderProp":_e(d)?"childFunction":A.isValidElement(d)?"child":Array.isArray(d)?"childArray":"parent"};var i=n.skipOnMount,a=n.refreshMode,o=n.refreshRate,c=o===void 0?1e3:o,u=n.refreshOptions;return t.state={width:void 0,height:void 0},t.skipOnMount=i,t.targetRef=A.createRef(),t.observableElement=null,q()||(t.resizeHandler=at(t.createResizeHandler,a,c,u),t.resizeObserver=new window.ResizeObserver(t.resizeHandler)),t}return r.prototype.componentDidMount=function(){this.attachObserver()},r.prototype.componentDidUpdate=function(){this.attachObserver()},r.prototype.componentWillUnmount=function(){q()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},r.prototype.render=function(){var n=this.props,t=n.render,i=n.children,a=n.nodeType,o=a===void 0?"div":a,c=this.state,u=c.width,f=c.height,s={width:u,height:f,targetRef:this.targetRef},d=this.getRenderType();switch(d){case"renderProp":return t==null?void 0:t(s);case"childFunction":{var h=i;return h==null?void 0:h(s)}case"child":{var y=i;if(y.type&&typeof y.type=="string"){s.targetRef;var p=it(s,["targetRef"]);return A.cloneElement(y,p)}return A.cloneElement(y,s)}case"childArray":{var m=i;return m.map(function(v){return!!v&&A.cloneElement(v,s)})}default:return _.createElement(o,null)}},r}(A.PureComponent);function he(){return he=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},he.apply(this,arguments)}function st(e,r){return ft(e)||ht(e,r)||ut(e,r)||ct()}function ct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ut(e,r){if(e){if(typeof e=="string")return we(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,r)}}function we(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function ht(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var t,i,a,o,c=[],u=!0,f=!1;try{if(a=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(t=a.call(n)).done)&&(c.push(t.value),c.length!==r);u=!0);}catch(s){f=!0,i=s}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function ft(e){if(Array.isArray(e))return e}var dt=A.forwardRef(function(e,r){var n=e.aspect,t=e.initialDimension,i=t===void 0?{width:-1,height:-1}:t,a=e.width,o=a===void 0?"100%":a,c=e.height,u=c===void 0?"100%":c,f=e.minWidth,s=f===void 0?0:f,d=e.minHeight,h=e.maxHeight,y=e.children,p=e.debounce,m=p===void 0?0:p,v=e.id,b=e.className,w=e.onResize,x=A.useState({containerWidth:i.width,containerHeight:i.height}),S=st(x,2),R=S[0],N=S[1],j=A.useRef(null);A.useImperativeHandle(r,function(){return j},[j]);var C=A.useCallback(function(){return j.current?{containerWidth:j.current.clientWidth,containerHeight:j.current.clientHeight}:null},[]),F=A.useCallback(function(){var E=C();if(E){var O=E.containerWidth,D=E.containerHeight;w&&w(O,D),N(function(P){var I=P.containerWidth,L=P.containerHeight;return O!==I||D!==L?{containerWidth:O,containerHeight:D}:P})}},[C,w]),T=A.useMemo(function(){var E=R.containerWidth,O=R.containerHeight;if(E<0||O<0)return null;ae(J(o)||J(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),ae(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=J(o)?E:o,P=J(u)?O:u;return n&&n>0&&(D?P=D/n:P&&(D=P*n),h&&P>h&&(P=h)),ae(D>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,P,o,u,s,d,n),A.cloneElement(y,{width:D,height:P})},[n,y,u,h,d,s,R,o]);A.useEffect(function(){var E=C();E&&N(E)},[C]);var z={width:o,height:u,minWidth:s,minHeight:d,maxHeight:h};return _.createElement(lt,{handleWidth:!0,handleHeight:!0,onResize:F,targetRef:j,refreshMode:m>0?"debounce":void 0,refreshRate:m},_.createElement("div",he({},v!=null?{id:"".concat(v)}:{},{className:le("recharts-responsive-container",b),style:z,ref:j}),T))}),pt=["x1","y1","x2","y2","key"];function M(e){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},M(e)}function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},fe.apply(this,arguments)}function mt(e,r){if(e==null)return{};var n=yt(e,r),t,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function yt(e,r){if(e==null)return{};var n={},t=Object.keys(e),i,a;for(a=0;a<t.length;a++)i=t[a],!(r.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Oe(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,t)}return n}function Z(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Oe(Object(n),!0).forEach(function(t){ye(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vt(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xe(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,je(t.key),t)}}function gt(e,r,n){return r&&xe(e.prototype,r),n&&xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _t(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&de(e,r)}function de(e,r){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},de(e,r)}function bt(e){var r=xt();return function(){var t=te(e),i;if(r){var a=te(this).constructor;i=Reflect.construct(t,arguments,a)}else i=t.apply(this,arguments);return wt(this,i)}}function wt(e,r){if(r&&(M(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ot(e)}function Ot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},te(e)}function ye(e,r,n){return r=je(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function je(e){var r=Pt(e,"string");return M(r)==="symbol"?r:String(r)}function Pt(e,r){if(M(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(M(t)!=="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ve=function(e){_t(n,e);var r=bt(n);function n(){return vt(this,n),r.apply(this,arguments)}return gt(n,[{key:"renderHorizontal",value:function(i){var a=this,o=this.props,c=o.x,u=o.width,f=o.horizontal;if(!i||!i.length)return null;var s=i.map(function(d,h){var y=Z(Z({},a.props),{},{x1:c,y1:d,x2:c+u,y2:d,key:"line-".concat(h),index:h});return n.renderLineItem(f,y)});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}},{key:"renderVertical",value:function(i){var a=this,o=this.props,c=o.y,u=o.height,f=o.vertical;if(!i||!i.length)return null;var s=i.map(function(d,h){var y=Z(Z({},a.props),{},{x1:d,y1:c,x2:d,y2:c+u,key:"line-".concat(h),index:h});return n.renderLineItem(f,y)});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}},{key:"renderVerticalStripes",value:function(i){var a=this.props.verticalFill;if(!a||!a.length)return null;var o=this.props,c=o.fillOpacity,u=o.x,f=o.y,s=o.width,d=o.height,h=i.map(function(p){return Math.round(p+u-u)}).sort(function(p,m){return p-m});u!==h[0]&&h.unshift(0);var y=h.map(function(p,m){var v=!h[m+1],b=v?u+s-p:h[m+1]-p;if(b<=0)return null;var w=m%a.length;return _.createElement("rect",{key:"react-".concat(m),x:p,y:f,width:b,height:d,stroke:"none",fill:a[w],fillOpacity:c,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},y)}},{key:"renderHorizontalStripes",value:function(i){var a=this.props.horizontalFill;if(!a||!a.length)return null;var o=this.props,c=o.fillOpacity,u=o.x,f=o.y,s=o.width,d=o.height,h=i.map(function(p){return Math.round(p+f-f)}).sort(function(p,m){return p-m});f!==h[0]&&h.unshift(0);var y=h.map(function(p,m){var v=!h[m+1],b=v?f+d-p:h[m+1]-p;if(b<=0)return null;var w=m%a.length;return _.createElement("rect",{key:"react-".concat(m),y:p,x:u,height:b,width:s,stroke:"none",fill:a[w],fillOpacity:c,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},y)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var a=this.props,o=a.fillOpacity,c=a.x,u=a.y,f=a.width,s=a.height;return _.createElement("rect",{x:c,y:u,width:f,height:s,stroke:"none",fill:i,fillOpacity:o,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,a=i.x,o=i.y,c=i.width,u=i.height,f=i.horizontal,s=i.vertical,d=i.horizontalCoordinatesGenerator,h=i.verticalCoordinatesGenerator,y=i.xAxis,p=i.yAxis,m=i.offset,v=i.chartWidth,b=i.chartHeight;if(!Q(c)||c<=0||!Q(u)||u<=0||!Q(a)||a!==+a||!Q(o)||o!==+o)return null;var w=this.props,x=w.horizontalPoints,S=w.verticalPoints;return(!x||!x.length)&&ee(d)&&(x=d({yAxis:p,width:v,height:b,offset:m})),(!S||!S.length)&&ee(h)&&(S=h({xAxis:y,width:v,height:b,offset:m})),_.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),f&&this.renderHorizontal(x),s&&this.renderVertical(S),f&&this.renderHorizontalStripes(x),s&&this.renderVerticalStripes(S))}}],[{key:"renderLineItem",value:function(i,a){var o;if(_.isValidElement(i))o=_.cloneElement(i,a);else if(ee(i))o=i(a);else{var c=a.x1,u=a.y1,f=a.x2,s=a.y2,d=a.key,h=mt(a,pt);o=_.createElement("line",fe({},Y(h),{x1:c,y1:u,x2:f,y2:s,fill:"none",key:d}))}return o}}]),n}(A.PureComponent);ye(ve,"displayName","CartesianGrid");ye(ve,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var At=["type","layout","connectNulls","ref"];function B(e){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},B(e)}function St(e,r){if(e==null)return{};var n=Et(e,r),t,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Et(e,r){if(e==null)return{};var n={},t=Object.keys(e),i,a;for(a=0;a<t.length;a++)i=t[a],!(r.indexOf(i)>=0)&&(n[i]=e[i]);return n}function X(){return X=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},X.apply(this,arguments)}function Pe(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,t)}return n}function k(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Pe(Object(n),!0).forEach(function(t){$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function G(e){return kt(e)||jt(e)||Nt(e)||Dt()}function Dt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nt(e,r){if(e){if(typeof e=="string")return pe(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,r)}}function jt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kt(e){if(Array.isArray(e))return pe(e)}function pe(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function Rt(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ae(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,ke(t.key),t)}}function Ct(e,r,n){return r&&Ae(e.prototype,r),n&&Ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $t(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&me(e,r)}function me(e,r){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},me(e,r)}function Tt(e){var r=zt();return function(){var t=re(e),i;if(r){var a=re(this).constructor;i=Reflect.construct(t,arguments,a)}else i=t.apply(this,arguments);return Lt(this,i)}}function Lt(e,r){if(r&&(B(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H(e)}function H(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},re(e)}function $(e,r,n){return r=ke(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ke(e){var r=It(e,"string");return B(r)==="symbol"?r:String(r)}function It(e,r){if(B(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(B(t)!=="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var V=function(e){$t(n,e);var r=Tt(n);function n(){var t;Rt(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=r.call.apply(r,[this].concat(a)),$(H(t),"state",{isAnimationFinished:!0,totalLength:0}),$(H(t),"getStrokeDasharray",function(c,u,f){for(var s=f.reduce(function(w,x){return w+x}),d=Math.floor(c/s),h=c%s,y=u-c,p=[],m=0,v=0;;v+=f[m],++m)if(v+f[m]>h){p=[].concat(G(f.slice(0,m)),[h-v]);break}var b=p.length%2===0?[0,y]:[y];return[].concat(G(n.repeat(f,d)),G(p),b).map(function(w){return"".concat(w,"px")}).join(", ")}),$(H(t),"id",Ge("recharts-line-")),$(H(t),"pathRef",function(c){t.mainCurve=c}),$(H(t),"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),$(H(t),"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return Ct(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.points,u=o.xAxis,f=o.yAxis,s=o.layout,d=o.children,h=Be(d,Je);if(!h)return null;var y=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:Ne(v.payload,b)}},p={clipPath:i?"url(#clipPath-".concat(a,")"):null};return _.createElement(oe,p,h.map(function(m,v){return _.cloneElement(m,{key:"bar-".concat(v),data:c,xAxis:u,yAxis:f,layout:s,dataPointFormatter:y})}))}},{key:"renderDots",value:function(i,a,o){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var u=this.props,f=u.dot,s=u.points,d=u.dataKey,h=Y(this.props),y=Y(f,!0),p=s.map(function(v,b){var w=k(k(k({key:"dot-".concat(b),r:3},h),y),{},{value:v.value,dataKey:d,cx:v.x,cy:v.y,index:b,payload:v.payload});return n.renderDotItem(f,w)}),m={clipPath:i?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return _.createElement(oe,X({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(i,a,o,c){var u=this.props,f=u.type,s=u.layout,d=u.connectNulls;u.ref;var h=St(u,At),y=k(k(k({},Y(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:i},c),{},{type:f,layout:s,connectNulls:d});return _.createElement(Ve,X({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,a){var o=this,c=this.props,u=c.points,f=c.strokeDasharray,s=c.isAnimationActive,d=c.animationBegin,h=c.animationDuration,y=c.animationEasing,p=c.animationId,m=c.animateNewValues,v=c.width,b=c.height,w=this.state,x=w.prevPoints,S=w.totalLength;return _.createElement(Ke,{begin:d,duration:h,isActive:s,easing:y,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(R){var N=R.t;if(x){var j=x.length/u.length,C=u.map(function(O,D){var P=Math.floor(D*j);if(x[P]){var I=x[P],L=U(I.x,O.x),Re=U(I.y,O.y);return k(k({},O),{},{x:L(N),y:Re(N)})}if(m){var Ce=U(v*2,O.x),$e=U(b/2,O.y);return k(k({},O),{},{x:Ce(N),y:$e(N)})}return k(k({},O),{},{x:O.x,y:O.y})});return o.renderCurveStatically(C,i,a)}var F=U(0,S),T=F(N),z;if(f){var E="".concat(f).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});z=o.getStrokeDasharray(T,S,E)}else z="".concat(T,"px ").concat(S-T,"px");return o.renderCurveStatically(u,i,a,{strokeDasharray:z})})}},{key:"renderCurve",value:function(i,a){var o=this.props,c=o.points,u=o.isAnimationActive,f=this.state,s=f.prevPoints,d=f.totalLength;return u&&c&&c.length&&(!s&&d>0||!Ue(s,c))?this.renderCurveWithAnimation(i,a):this.renderCurveStatically(c,i,a)}},{key:"render",value:function(){var i,a=this.props,o=a.hide,c=a.dot,u=a.points,f=a.className,s=a.xAxis,d=a.yAxis,h=a.top,y=a.left,p=a.width,m=a.height,v=a.isAnimationActive,b=a.id;if(o||!u||!u.length)return null;var w=this.state.isAnimationFinished,x=u.length===1,S=le("recharts-line",f),R=s&&s.allowDataOverflow,N=d&&d.allowDataOverflow,j=R||N,C=se(b)?this.id:b,F=(i=Y(c))!==null&&i!==void 0?i:{r:3,strokeWidth:2},T=F.r,z=T===void 0?3:T,E=F.strokeWidth,O=E===void 0?2:E,D=qe(c)?c:{},P=D.clipDot,I=P===void 0?!0:P,L=z*2+O;return _.createElement(oe,{className:S},R||N?_.createElement("defs",null,_.createElement("clipPath",{id:"clipPath-".concat(C)},_.createElement("rect",{x:R?y:y-p/2,y:N?h:h-m/2,width:R?p:p*2,height:N?m:m*2})),!I&&_.createElement("clipPath",{id:"clipPath-dots-".concat(C)},_.createElement("rect",{x:y-L/2,y:h-L/2,width:p+L,height:m+L}))):null,!x&&this.renderCurve(j,C),this.renderErrorBar(j,C),(x||c)&&this.renderDots(j,I,C),(!v||w)&&Ye.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:a.curPoints}:i.points!==a.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,a){for(var o=i.length%2!==0?[].concat(G(i),[0]):i,c=[],u=0;u<a;++u)c=[].concat(G(c),G(o));return c}},{key:"renderDotItem",value:function(i,a){var o;if(_.isValidElement(i))o=_.cloneElement(i,a);else if(ee(i))o=i(a);else{var c=le("recharts-line-dot",i?i.className:"");o=_.createElement(Me,X({},a,{className:c}))}return o}}]),n}(A.PureComponent);$(V,"displayName","Line");$(V,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Xe.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$(V,"getComposedData",function(e){var r=e.props,n=e.xAxis,t=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,c=e.bandSize,u=e.displayedData,f=e.offset,s=r.layout,d=u.map(function(h,y){var p=Ne(h,o);return s==="horizontal"?{x:ge({axis:n,ticks:i,bandSize:c,entry:h,index:y}),y:se(p)?null:t.scale(p),value:p,payload:h}:{x:se(p)?null:n.scale(p),y:ge({axis:t,ticks:a,bandSize:c,entry:h,index:y}),value:p,payload:h}});return k({points:d,layout:s},f)});var ne=function(){return null};ne.displayName="XAxis";ne.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var ie=function(){return null};ie.displayName="YAxis";ie.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var Wt=Qe({chartName:"LineChart",GraphicalChild:V,axisComponents:[{axisType:"xAxis",AxisComp:ne},{axisType:"yAxis",AxisComp:ie}],formatAxisMap:Ze});const Ht=()=>{const{userDailyStats:e,isLoading:r,isSuccess:n,isError:t}=Le();if(r)return l(Ee,{});if(t)return l(De,{});if(!n||!e)return null;const i=e.map(a=>({...a,date:new Intl.DateTimeFormat("en-GB",{month:"numeric",day:"numeric",year:"2-digit"}).format(new Date(a.date))}));return l("div",{style:{width:"100%",maxWidth:1200,height:300},children:l(dt,{children:g(Wt,{data:i,margin:{top:25,right:35,left:0,bottom:10},style:{backgroundColor:"white",borderRadius:10,boxShadow:"0 0 10px rgba(0,0,0,0.5)",display:"flex"},children:[l(ve,{strokeDasharray:"4 1"}),l(ne,{dataKey:"date"}),l(ie,{}),l(et,{}),l(tt,{}),l(V,{type:"monotone",dataKey:"weight",stroke:"#ab1010"}),l(V,{type:"monotone",dataKey:"waist",stroke:"#6543ff"})]})})})};const Ft=()=>{const{user:e,setIsEditing:r}=K();if(!e)return null;const{username:n,fullname:t,birthdate:i,height:a,weight:o,totalDailyEnergyExpenditure:c,targetCaloricIntakePerDay:u,weightLossGoal:f}=e;function s(){r(!0)}return g("section",{className:"profile-details__user-info",children:[g("div",{className:"user-info__item-container",children:[l("h2",{children:"User name:"}),l("p",{children:n})]}),g("div",{className:"user-info__item-container",children:[l("h2",{children:"Full name:"}),l("p",{children:t})]}),g("div",{className:"user-info__item-container",children:[l("h2",{children:"Birth date:"}),l("p",{children:new Date(i).toLocaleDateString()})]}),g("div",{className:"user-info__item-container",children:[l("h2",{children:"Height:"}),l("p",{children:`${a} cm`})]}),g("div",{className:"user-info__item-container",children:[l("h2",{children:"Weight:"}),l("p",{children:`${o} kg`})]}),g("div",{className:"user-info__item-container",children:[l("h2",{children:"Total Daily Energy Expenditure:"}),l("p",{children:`${c} kcal`})]}),g("div",{className:"user-info__item-container",children:[l("h2",{children:"Target Caloric Intake Per Day:"}),l("p",{children:`${u} kcal`})]}),g("div",{className:"user-info__item-container",children:[l("h2",{children:"Current Weight Loss Goal:"}),l("p",{children:`${f.weightGoal} kg`})]}),l(ce,{className:"user-info__edit-btn",onClickFn:s,children:"Edit"})]})},Gt=()=>{const{recommendedWeight:e}=K();if(!e)return null;const r=Object.entries(e);return g("section",{className:"profile-details__items-list",children:[l("h2",{className:"profile-details__items-list__title",children:"Recommended Weight"}),l("ul",{className:"profile-details__items-list__items-container",children:r.map(([n,t])=>g("li",{className:"profile-details__items-list__item",children:[l("h3",{className:"profile-details__items-list__item__title",children:n}),g("p",{className:"profile-details__items-list__item__value",children:[t," kg"]})]},n))})]})},Mt=()=>{const{caloriesToLose:e}=K();if(!e)return null;const r=Object.entries(e).map(([n,t])=>n==="dailyIntakes"?["daily intakes",t]:[n,t]);return g("section",{className:"profile-details__items-list",children:[l("h2",{className:"profile-details__items-list__title",children:"Expendable Energy"}),l("ul",{className:"profile-details__items-list__items-container",children:r.map(([n,t])=>g("li",{className:"profile-details__items-list__item",children:[l("h3",{className:"profile-details__items-list__item__title",children:n}),l("p",{className:"profile-details__items-list__item__value",children:t})]},n))})]})};const Bt=({children:e,className:r})=>l("footer",{className:r,children:e}),Se=({title:e,time:r})=>{const n=Object.entries(r);return g("section",{className:"profile-details__goal-calender",children:[l("h2",{className:"profile-details__goal-calender__title",children:e}),l("div",{className:"profile-details__goal-calender__list",children:n.map(([t,i])=>g("div",{className:"profile-details__goal-calender__list__item",children:[l("div",{className:"profile-details__goal-calender__list__item__value-cotnainer",children:l("h4",{children:i})}),l(Bt,{className:"profile-details__goal-calender__list__item__footer",children:l("h4",{children:t})})]},t))})]})},Vt=()=>{var u,f;const{user:e,updateUser:r,setIsEditing:n}=K(),t={username:(e==null?void 0:e.username)||"",fullname:(e==null?void 0:e.fullname)||"",birthdate:(e==null?void 0:e.birthdate)||new Date,height:(e==null?void 0:e.height)||0,weight:(e==null?void 0:e.weight)||0,totalDailyEnergyExpenditure:(e==null?void 0:e.totalDailyEnergyExpenditure)||0,targetCaloricIntakePerDay:(e==null?void 0:e.targetCaloricIntakePerDay)||0,weightGoal:(e==null?void 0:e.weightLossGoal)||ze.getUtilWeightLossGoal()},{control:i,handleSubmit:a}=rt({defaultValues:t});if(!e)return null;function o(){n(!1)}function c(s){if(!e)return;const d={...e,...s};r(d),n(!1)}return g("form",{className:"user-edit-form",onSubmit:a(c),children:[g("div",{className:"user-edit__item-container",children:[l("label",{htmlFor:"username",children:"user name:"}),l(W,{name:"username",control:i,render:({field:s})=>l("input",{id:"username",...s})})]}),g("div",{className:"user-edit__item-container",children:[l("label",{htmlFor:"fullname",children:"full name:"}),l(W,{name:"fullname",control:i,render:({field:s})=>l("input",{id:"fullname",...s})})]}),g("div",{className:"user-edit__item-container",children:[l("label",{htmlFor:"birthdate",children:"birthdate:"}),l(W,{name:"birthdate",control:i,render:({field:s})=>l("input",{id:"birthdate",type:"date",value:new Date(s.value).toISOString().split("T")[0],onChange:d=>s.onChange(new Date(d.target.value))})})]}),g("div",{className:"user-edit__item-container",children:[l("label",{htmlFor:"height",children:"height:"}),l(W,{name:"height",control:i,render:({field:s})=>l("input",{id:"height",type:"number",...s})})]}),g("div",{className:"user-edit__item-container",children:[l("label",{htmlFor:"weight",children:"weight:"}),l(W,{name:"weight",control:i,render:({field:s})=>l("input",{id:"weight",type:"number",...s})})]}),g("div",{className:"user-edit__item-container",children:[l("label",{htmlFor:"startingWeight",children:"goal weight - current:"}),l(W,{name:"weightLossGoal.startingWeight",control:i,defaultValue:(u=e.weightLossGoal)==null?void 0:u.startingWeight,render:({field:s})=>l("input",{id:"startingWeight",type:"number",...s})})]}),g("div",{className:"user-edit__item-container",children:[l("label",{htmlFor:"weightGoal",children:"goal weight - goal:"}),l(W,{name:"weightLossGoal.weightGoal",control:i,defaultValue:(f=e.weightLossGoal)==null?void 0:f.weightGoal,render:({field:s})=>l("input",{id:"weightGoal",type:"number",...s})})]}),g("div",{className:"user-edit__btns-container",children:[l(ce,{onClickFn:o,children:"cancel"}),l(ce,{type:"submit",children:"update"})]})]})},Kt=()=>{const{weightToLose:e}=K();return g("section",{className:"profile-details__items-list",children:[l("h2",{className:"profile-details__items-list__title",children:"Weight To Lose"}),l("ul",{className:"profile-details__items-list__items-container",children:l("li",{className:"profile-details__items-list__item",children:g("p",{className:"profile-details__items-list__item__value",children:[e," kg"]})})})]})},Zt=()=>{const{user:e,isLoading:r,isSuccess:n,isError:t,timeToMaxRecommendedWeight:i,timeToCurrentWeightLossGoal:a,isEditing:o}=K();return r?l(Ee,{withContainer:!0,containerSize:{width:"100%"}}):t?l(De,{msg:"Something went wrong"}):!n||!e?null:g("main",{className:"page profile-details",children:[o?l(Vt,{}):l(Ft,{}),l(Ht,{}),l(Ie,{}),a&&l(Se,{title:"time to current weight loss goal",time:a}),l(Gt,{}),l(Kt,{}),l(Mt,{}),i&&l(Se,{title:"time to max recommended weight",time:i}),l(We,{})]})};export{Zt as default};

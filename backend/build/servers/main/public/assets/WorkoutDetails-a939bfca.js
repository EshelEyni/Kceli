import{K as f,f as s,j as e,F as k,r as w,M as C,N as b,B as v,S as g}from"./index-544b77a7.js";import{E as D}from"./ErrorMsg-9ff6c420.js";import{L as p}from"./List-5368b3c4.js";import{B as m}from"./Button-24c91202.js";import{c as N}from"./index-00a6a0e9.js";const F=({item:t})=>{const{isWorkoutStarted:i,onStartItem:c,onCompletedItem:a}=f(),l=t.isStarted&&!t.isCompleted;return s("section",{className:"workout-item-display",children:[s("div",{className:N("workout-item-display__info",{"full-width":!i}),children:[s("div",{className:"workout-item-display__info__item",children:[e("h3",{children:"name:"}),e("h4",{children:t.name})]}),s("div",{className:"workout-item-display__info__item",children:[e("h3",{children:"duration:"}),e("h4",{children:t.durationInMin})]})]}),i&&s(k,{children:[!t.isStarted&&e(m,{className:"workout-item-display__btn",isDisabled:!i,onClickFn:()=>c(t),children:"start"}),l&&e(m,{className:"workout-item-display__btn",isDisabled:!i,onClickFn:()=>a(t),children:"complete"})]})]})};const W=()=>{const{currTime:t,isRunning:i,setIsRunning:c}=f(),[a,l]=w.useState(t*60),u=w.useRef(null),o=Math.floor(a/60).toString().padStart(2,"0"),n=Math.floor(a%60),d=(a%1*100).toFixed(0).padStart(2,"0");function _(){c(r=>!r)}return w.useEffect(()=>{const r=new Audio("/assets/sounds/SamsungRingtoneSoundEffect.mp3"),{current:h}=u;if(i){const S=setInterval(()=>{l(y=>y<=0?(r.play(),clearInterval(S),0):y-.01)},10);u.current=S}else h&&clearInterval(h);return()=>{h&&clearInterval(h)}},[i]),w.useEffect(()=>{l(t*60)},[t]),s("section",{className:"timer",children:[e("div",{className:"clock-wrapper",children:s("span",{children:[o,":",n<10?`0${n}`:n,".",d]})}),e("div",{className:"timer__controls",children:e(m,{className:"timer__controls__btn",onClickFn:_,children:i?e(C,{}):e(b,{})})})]})},I=({item:t})=>{const{isWorkoutStarted:i,onStartItem:c,onCompleteAnaerobicSet:a}=f(),l=v.calcDurationForAnaerobicItem(t),u=t.isStarted&&!t.isCompleted,o=[{title:"name:",value:t.name},{title:"sets:",value:t.sets},{title:"reps:",value:t.reps},{title:"weight:",value:`${t.weight} ${t.weightUnit}`},{title:"duration:",value:l}];return s("section",{className:"workout-item-display",children:[e("div",{className:N("workout-item-display__info anaerobic",{"full-width":!i}),children:o.map((n,d)=>s("div",{className:"workout-item-display__info__item",children:[e("h3",{children:n.title}),e("h4",{children:n.value})]},d))}),i&&s(k,{children:[!t.isStarted&&e(m,{className:"workout-item-display__btn",isDisabled:!i,onClickFn:()=>c(t),children:"start"}),u&&e(p,{items:Array(t.sets).fill({}),isOrdered:!0,className:"workout-item-display__set-display__list",render:(n,d)=>{const r=t.setCompletedStatus.findLastIndex(h=>h===!0)===d-1;return s("li",{className:"workout-item-display__set-display",children:[e("div",{className:"workout-item-display__set-display__info",children:s("span",{children:["set ",d+1]})}),r&&e(m,{className:"workout-item-display__btn",isDisabled:!i,onClickFn:()=>a({item:t,setIdx:d}),children:"completed"})]},d)}})]})]})},x=({item:t})=>{const{isWorkoutStarted:i,onStartItem:c}=f(),a=v.calcDurationForSupersetItem(t),l=t.isStarted&&!t.isCompleted,u=[{title:"name:",value:t.name},{title:"duration:",value:a}];return s("section",{className:"workout-item-display",children:[e("div",{className:N("workout-item-display__info",{"full-width":!i}),children:u.map((o,n)=>s("div",{className:"workout-item-display__info__item",children:[e("h3",{children:o.title}),e("h4",{children:o.value})]},n))}),i&&s(k,{children:[!t.isStarted&&e(m,{className:"workout-item-display__btn",isDisabled:!i,onClickFn:()=>c(t),children:"start"}),l&&e(p,{items:t.items,isOrdered:!0,className:"workout-item-display__set-display__list",render:o=>e(I,{item:o},o.id)})]})]})},M=()=>{const{workout:t,isLoading:i,isSuccess:c,isError:a,duration:l,isWorkoutStarted:u,onStart:o}=f();if(i)return e(g,{});if(a)return e(D,{});if(!c||!t)return null;function n(r){switch(r.type){case"aerobic":return e(F,{item:r},r.id);case"anaerobic":return e(I,{item:r},r.id);case"superset":return e(x,{item:r},r.id)}}const d=t.items.filter(r=>!r.isCompleted),_=t.items.filter(r=>r.isCompleted);return s("main",{className:"page workout-details",children:[s("section",{className:"workout-details__info",children:[s("div",{className:"workout-details__info__item",children:[e("h2",{children:"description:"}),s("h3",{children:[" ",t.description]})]}),s("div",{className:"workout-details__info__item",children:[e("h2",{children:"duration (in min): "}),e("h3",{children:l})]}),s("div",{className:"workout-details__info__item",children:[e("h2",{children:"type: "}),e("h3",{children:t.type})]}),"split"in t&&s("div",{className:"workout-details__info__item",children:[e("h2",{children:"split: "})," ",e("h3",{children:t.split})]})]}),!u&&s(k,{children:[e(m,{onClickFn:o,children:"Start"}),e(p,{items:t.items,className:"workout-details__list",render:n})]}),u&&s(k,{children:[e(W,{}),e(p,{items:d,className:"workout-details__list",render:n}),_.length>0&&s("div",{className:"workout-details__completed-list-container",children:[e("h2",{className:"workout-details__completed-list-container__title",children:"Completed Items:"}),e("hr",{className:"workout-details__completed-list-container__hr"}),e(p,{items:_,className:"workout-details__list",render:n})]})]})]})};export{M as default};

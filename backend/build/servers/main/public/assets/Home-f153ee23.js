import{r as w,u as ko,s as No,c as qt,g as ar,h as xe,a as Me,b as To,d as ln,e as Qa,f as Bo,i as Lo,k as st,j as g,l as cn,n as Un,m as P,G as ir,S as Se,o as or,p as sr,q as Mo,t as un,F as Xe,_ as zr,$ as O,C as jn,v as Ya,w as Fo,x as Go,y as _o,z as $o,A as Wo,B as qn,D as Hn,E as Uo,H as jo,I as qo,J as Ho,K as Vo,L as zo}from"./index-ad3a3eb3.js";import{c as qe}from"./index-feec2417.js";import{L as lr}from"./List-1c04aced.js";import{B as q}from"./Button-1919da19.js";import{E as dn}from"./ErrorMsg-814d5ed2.js";import{f as ee,_ as Xa,a as Za,b as Ko,c as Qo,d as Ne,T as pn,p as be,L as ve,e as fn,g as Ja,D as Yo,h as Xo,i as Zo,j as Jo,G as es,u as ts,C as rs,S as Vn,k as je,l as _e,A as ns,m as as,n as zn,o as is,q as We,r as os,s as ss,t as ei,v as ls,w as Lt,x as Kn,y as Wt,z as cs,B as us,E as ds}from"./generateCategoricalChart-5a79ddf5.js";import{u as ti,C as lt}from"./index.esm-5fde92a2.js";import{W as ps}from"./WorkoutPreview-496f3d2e.js";import{_ as T}from"./extends-98964cd2.js";import{E as fs}from"./Empty-dcd8715b.js";function Ht(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function vs(e){w.useEffect(()=>{const t=document.title;return document.title=e||"Kceli",()=>{document.title=t}},[e])}function gs({title:e}){const t=ko();vs(e),w.useEffect(()=>{t(No(!1))},[t])}var cr=(e=>(e.UNIT="unit",e.GRAM="g",e.CUP="cup",e.TABLE_SPOON="tbsp",e.TEA_SPOON="tsp",e.MILLILITER="ml",e))(cr||{});const ms=Object.values(cr);function hs(){return{id:qt(),name:"",items:[ri()],isRecorded:!0,recordedAt:null,type:"food"}}function ri(){return{id:qt(),unit:cr.UNIT,quantity:1,name:""}}function bs(e){switch(e){case"g":return 100;case"ml":return 100;case"unit":return 1;case"cup":return 1;case"tbsp":return 1;case"tsp":return 1;default:return 1}}function ys(e){switch(e){case"g":return 25;case"ml":return 25;case"unit":return 1;case"cup":return 1;case"tbsp":return 1;case"tsp":return 1;default:return 1}}const ie={getDefaultIntake:hs,getDefaultIntakeItem:ri,getUnitDefaultQuantity:bs,getQuantityStepPerUnit:ys,units:ms};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Is=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)},ni=Ds,Cs=[];function Ds(e,t){var r=0,n;if(!t)return Cs;if(e.FLAG==="long"){for(n=new Array(Math.ceil(t.length/2));r<t.length;)n[r/2]=t.slice(r,r+2),r+=2;return n}return t.split(e.FLAG==="num"?",":"")}var ws=ni,xs=As,Ss=[].push,Mt="etaoinshrdlcumwfgypbvkjxqz".split(""),nt=/\s+/,Ps=["qwertzuop","yxcvbnm","qaw","say","wse","dsx","sy","edr","fdc","dx","rft","gfv","fc","tgz","hgb","gv","zhu","jhn","hb","uji","kjm","jn","iko","lkm"];function As(e){var t=Object.create(null),r=Object.create(null),n=Object.create(null),a=[],i={in:[],out:[]},o=[],s=e.toString("utf8"),l=[],d=0,u=s.indexOf(`
`),c,p,f,v,m,h,b,I,C,y,x,D,R;for(n.KEY=[];u>-1;)A(s.slice(d,u)),d=u+1,u=s.indexOf(`
`,d);for(A(s.slice(d)),u=-1;++u<l.length;)if(p=l[u],c=p.split(nt),f=c[0],f==="REP"){for(v=u+parseInt(c[1],10);++u<=v;)c=l[u].split(nt),a.push([c[1],c[2]]);u--}else if(f==="ICONV"||f==="OCONV"){for(v=u+parseInt(c[1],10),I=i[f==="ICONV"?"in":"out"];++u<=v;)c=l[u].split(nt),I.push([new RegExp(c[1],"g"),c[2]]);u--}else if(f==="COMPOUNDRULE"){for(v=u+parseInt(c[1],10);++u<=v;)for(y=l[u].split(nt)[1],C=-1,o.push(y);++C<y.length;)r[y.charAt(C)]=[];u--}else if(f==="PFX"||f==="SFX"){for(v=u+parseInt(c[3],10),y={type:f,combineable:c[2]==="Y",entries:[]},t[c[1]]=y;++u<=v;){c=l[u].split(nt),m=c[2],h=c[3].split("/"),b=c[4],I={add:"",remove:"",match:"",continuation:ws(n,h[1])},h&&h[0]!=="0"&&(I.add=h[0]);try{m!=="0"&&(I.remove=f==="SFX"?Qn(m):m),b&&b!=="."&&(I.match=f==="SFX"?Qn(b):Es(b))}catch{I=null}I&&y.entries.push(I)}u--}else if(f==="TRY"){for(b=c[1],D=-1,x=[];++D<b.length;)R=b.charAt(D),R.toLowerCase()===R&&x.push(R);for(D=-1;++D<Mt.length;)b.indexOf(Mt[D])<0&&x.push(Mt[D]);n[f]=x}else f==="KEY"?Ss.apply(n[f],c[1].split("|")):f==="COMPOUNDMIN"?n[f]=Number(c[1]):f==="ONLYINCOMPOUND"?(n[f]=c[1],r[c[1]]=[]):n[f]=c[1];return isNaN(n.COMPOUNDMIN)&&(n.COMPOUNDMIN=3),n.KEY.length||(n.KEY=Ps),n.TRY||(n.TRY=Mt.concat()),n.KEEPCASE||(n.KEEPCASE=!1),{compoundRuleCodes:r,replacementTable:a,conversion:i,compoundRules:o,rules:t,flags:n};function A(E){E=E.trim(),E&&E.charCodeAt(0)!==35&&l.push(E)}}function Qn(e){return new RegExp(e+"$")}function Es(e){return new RegExp("^"+e)}var ai=Os;function Os(e,t){for(var r=-1;++r<t.length;)e=e.replace(t[r][0],t[r][1]);return e}var ur=Rs;function Rs(e,t,r){return r&&t in e&&r.indexOf(e[t])>-1}var ks=ur,Ns=Ts;function Ts(e,t){var r=-1;if(e.data[t])return!ks(e.flags,"ONLYINCOMPOUND",e.data[t]);if(t.length>=e.flags.COMPOUNDMIN){for(;++r<e.compoundRules.length;)if(e.compoundRules[r].test(t))return!0}return!1}var Bs=ai,kr=Ns,Kr=ur,vn=Ls;function Ls(e,t,r){var n=t.trim(),a;if(!n)return null;if(n=Bs(n,e.conversion.in),kr(e,n))return!r&&Kr(e.flags,"FORBIDDENWORD",e.data[n])?null:n;if(n.toUpperCase()===n){if(a=n.charAt(0)+n.slice(1).toLowerCase(),Yn(e.flags,e.data[a],r))return null;if(kr(e,a))return a}if(a=n.toLowerCase(),a!==n){if(Yn(e.flags,e.data[a],r))return null;if(kr(e,a))return a}return null}function Yn(e,t,r){return Kr(e,"KEEPCASE",t)||r||Kr(e,"FORBIDDENWORD",t)}var Ms=vn,Fs=Gs;function Gs(e){return!!Ms(this,e)}var _s=$s;function $s(e){var t=Xn(e.charAt(0)),r=e.slice(1);return!r||(r=Xn(r),t===r)?t:t==="u"&&r==="l"?"s":null}function Xn(e){return e===e.toLowerCase()?"l":e===e.toUpperCase()?"u":null}var Ut=_s,Zn=ai,Ws=ur,Us=vn,js=Hs,qs=[].push;function Hs(e){var t=this,r={},n=[],a={},i,o,s=[],l,d,u,c,p,f,v,m,h,b,I,C,y,x,D,R,A,E,B,L,j,W,F;if(e=Zn(e.trim(),t.conversion.in),!e||t.correct(e))return[];for(F=Ut(e),d=-1;++d<t.replacementTable.length;)for(o=t.replacementTable[d],u=e.indexOf(o[0]);u>-1;)s.push(e.replace(o[0],o[1])),u=e.indexOf(o[0],u+1);for(d=-1;++d<e.length;)for(m=e.charAt(d),b=e.slice(0,d),I=e.slice(d+1),y=m.toLowerCase(),C=y!==m,r={},u=-1;++u<t.flags.KEY.length;)if(h=t.flags.KEY[u],c=h.indexOf(y),!(c<0)){for(f=-1;++f<h.length;)if(f!==c){if(v=h.charAt(f),r[v])continue;r[v]=!0,C&&(v=v.toUpperCase()),s.push(b+v+I)}}for(d=-1,A=e.charAt(0),l=[""],E=1,B=0;++d<e.length;){for(m=A,A=e.charAt(d+1),b=e.slice(0,d),o=m===A?"":m+m,u=-1,p=l.length;++u<p;)u<=E&&l.push(l[u]+o),l[u]+=m;++B<3&&(E=l.length)}for(qs.apply(s,l),l=[e],o=e.toLowerCase(),(e===o||F===null)&&l.push(e.charAt(0).toUpperCase()+o.slice(1)),o=e.toUpperCase(),e!==o&&l.push(o),i={state:{},weighted:a,suggestions:n},x=Jn(t,i,l,s),D=0,E=Math.min(x.length,Math.pow(Math.max(15-e.length,3),3)),L=Math.max(Math.pow(10-e.length,3),1);!n.length&&D<E;)R=D+L,Jn(t,i,x.slice(D,R)),D=R;for(n.sort(z),l=[],j=[],d=-1;++d<n.length;)W=Zn(n[d],t.conversion.out),o=W.toLowerCase(),j.indexOf(o)<0&&(l.push(W),j.push(o));return l;function z(G,_){return K(G,_)||k(G,_)||M(G,_)}function K(G,_){return a[G]===a[_]?0:a[G]>a[_]?-1:1}function k(G,_){var H=Ut(G),Q=Ut(_);return H===Q?0:H===F?-1:Q===F?1:void 0}function M(G,_){return G.localeCompare(_)}}function Jn(e,t,r,n){var a=e.flags.TRY,i=e.data,o=e.flags,s=[],l=-1,d,u,c,p,f,v,m,h,b,I,C,y,x;if(n)for(;++l<n.length;)D(n[l],!0);for(l=-1;++l<r.length;)for(d=r[l],u="",c="",p=d.charAt(0),f=d,v=d.slice(1),m=p.toLowerCase()!==p,h=Ut(d),b=-1;++b<=d.length;)for(u+=c,I=f,f=v,v=f.slice(1),c=p,p=d.charAt(b+1),C=m,p&&(m=p.toLowerCase()!==p),f&&C!==m&&(D(u+R(f)),D(u+R(p)+R(c)+v)),D(u+f),f&&D(u+p+c+v),x=-1;++x<a.length;)y=a[x],C&&y!==y.toUpperCase()?(h!=="s"&&(D(u+y+I),D(u+y+f)),y=y.toUpperCase(),D(u+y+I),D(u+y+f)):(D(u+y+I),D(u+y+f));return s;function D(A,E){var B=t.state[A],L;B!==!!B&&(s.push(A),L=Us(e,A),B=L&&!Ws(o,"NOSUGGEST",i[L]),t.state[A]=B,B&&(t.weighted[A]=E?10:0,t.suggestions.push(A))),B&&t.weighted[A]++}function R(A){var E=A.charAt(0);return(E.toLowerCase()===E?E.toUpperCase():E.toLowerCase())+A.slice(1)}}var Vs=vn,ea=ur,zs=Ks;function Ks(e){var t=this,r=Vs(t,e,!0);return{correct:t.correct(e),forbidden:!!(r&&ea(t.flags,"FORBIDDENWORD",t.data[r])),warn:!!(r&&ea(t.flags,"WARN",t.data[r]))}}var Qs=ii;function ii(e,t,r,n){for(var a=-1,i,o,s,l,d;++a<t.entries.length;)if(i=t.entries[a],l=i.continuation,d=-1,(!i.match||i.match.test(e))&&(o=i.remove?e.replace(i.remove,""):e,o=t.type==="SFX"?o+i.add:i.add+o,n.push(o),l&&l.length))for(;++d<l.length;)s=r[l[d]],s&&ii(o,s,r,n);return n}var ta=Qs,oi=Zs,Ys=[].push,Qr=[];function Xs(e,t,r){var n=e[t];t in e?n===Qr?e[t]=r.concat():Ys.apply(n,r):e[t]=r.concat()}function Zs(e,t,r,n){var a=-1,i,o,s,l,d,u,c;for((!("NEEDAFFIX"in n.flags)||r.indexOf(n.flags.NEEDAFFIX)<0)&&Xs(e,t,r);++a<r.length;)if(i=n.rules[r[a]],r[a]in n.compoundRuleCodes&&n.compoundRuleCodes[r[a]].push(t),i){for(u=ta(t,i,n.rules,[]),o=-1;++o<u.length;)if(u[o]in e||(e[u[o]]=Qr),i.combineable){for(s=a;++s<r.length;)if(d=n.rules[r[s]],d&&d.combineable&&i.type!==d.type)for(c=ta(u[o],d,n.rules,[]),l=-1;++l<c.length;)c[l]in e||(e[c[l]]=Qr)}}}var Js=oi,el=rl,tl=[];function rl(e,t){var r=this;return Js(r.data,e,r.data[t]||tl,r),r}var nl=al;function al(e){var t=this;return delete t.data[e],t}var il=ol;function ol(){return this.flags.WORDCHARS||null}var sl=ni,ll=oi,cl=ul,ra=/\s/g;function ul(e,t,r){for(var n=e.toString("utf8"),a=n.indexOf(`
`)+1,i=n.indexOf(`
`,a);i>-1;)n.charCodeAt(a)!==9&&na(n.slice(a,i),t,r),a=i+1,i=n.indexOf(`
`,a);na(n.slice(a),t,r)}function na(e,t,r){for(var n=e.indexOf("/"),a=e.indexOf("#"),i="",o,s;n>-1&&e.charCodeAt(n-1)===92;)e=e.slice(0,n-1)+e.slice(n),n=e.indexOf("/",n);a>-1?n>-1&&n<a?(o=e.slice(0,n),ra.lastIndex=n+1,s=ra.exec(e),i=e.slice(n+1,s?s.index:void 0)):o=e.slice(0,a):n>-1?(o=e.slice(0,n),i=e.slice(n+1)):o=e,o=o.trim(),o&&ll(r,o,sl(t.flags,i.trim()),t)}var dl=cl,pl=fl;function fl(e){var t=this,r=-1,n,a,i,o;for(dl(e,t,t.data);++r<t.compoundRules.length;){for(n=t.compoundRules[r],a="",o=-1;++o<n.length;)i=n.charAt(o),a+=t.compoundRuleCodes[i].length?"(?:"+t.compoundRuleCodes[i].join("|")+")":i;t.compoundRules[r]=new RegExp(a,"i")}return t}var vl=gl;function gl(e){var t=this,r=e.toString("utf8").split(`
`),n=-1,a,i,o,s;for(t.flags.FORBIDDENWORD===void 0&&(t.flags.FORBIDDENWORD=!1),s=t.flags.FORBIDDENWORD;++n<r.length;)a=r[n].trim(),a&&(a=a.split("/"),o=a[0],i=o.charAt(0)==="*",i&&(o=o.slice(1)),t.add(o,a[1]),i&&t.data[o].push(s));return t}var aa=Is,ml=xs,hl=Vt,Pe=Vt.prototype;Pe.correct=Fs;Pe.suggest=js;Pe.spell=zs;Pe.add=el;Pe.remove=nl;Pe.wordCharacters=il;Pe.dictionary=pl;Pe.personal=vl;function Vt(e,t){var r=-1,n;if(!(this instanceof Vt))return new Vt(e,t);if(typeof e=="string"||aa(e)?(typeof t=="string"||aa(t))&&(n=[{dic:t}]):e&&("length"in e?(n=e,e=e[0]&&e[0].aff):(e.dic&&(n=[e]),e=e.aff)),!e)throw new Error("Missing `aff` in dictionary");if(e=ml(e),this.data=Object.create(null),this.compoundRuleCodes=e.compoundRuleCodes,this.replacementTable=e.replacementTable,this.conversion=e.conversion,this.compoundRules=e.compoundRules,this.rules=e.rules,this.flags=e.flags,n)for(;++r<n.length;)n[r].dic&&this.dictionary(n[r].dic)}const bl=ar(hl);function yl(e,t){if(!e||!t)return 0;const r=t.weight||e.weight,n=Number((r*33).toFixed(2)),a=t.intakes.filter(i=>i.isRecorded).reduce((i,o)=>o.items.reduce((s,l)=>{if(l.name.toLocaleLowerCase()==="water")switch(l.unit){case"ml":return s+l.quantity;case"cup":return s+l.quantity*250;default:return s}return s},i),0)||0;return Number(((n-a)/1e3).toFixed(2))}const Il={calcRecommendedWaterIntake:yl};function Cl(e){return{type:e,response:null,status:"idle",error:null}}const Nr={getDefaultNutritionQuery:Cl};async function Dl(){const e=await xe.get("intake/favorite");return Me(e)}async function wl(e){const t=await xe.post("intake/favorite",e);return Me(t)}async function xl(e){const t=await xe.patch(`intake/favorite/${e.id}`,e);return Me(t)}async function Sl(e){await xe.delete(`intake/favorite/${e}`)}const dr={getUserFavoriteIntakes:Dl,addUserFavoriteIntake:wl,updateUserFavoriteIntake:xl,removeUserFavoriteIntake:Sl};function Pl(){const{data:e,error:t,isLoading:r,isSuccess:n,isError:a}=To({queryKey:["favoriteIntakes"],queryFn:dr.getUserFavoriteIntakes}),i=!!e&&e.length===0;return{favoriteIntakes:e,error:t,isLoading:r,isSuccess:n,isError:a,isEmpty:i}}var Y=(e=>(e.IntakeEdit="IntakeEdit",e.IntakeList="IntakeList",e.UnRecordedIntakeList="UnRecordedIntakeList",e.FavoriteIntake="FavoriteIntake",e.Water="Water",e.WeightWaistInput="WeightWaistInput",e.Workouts="Workouts",e.Query="Query",e))(Y||{});const si=w.createContext(void 0);function Al({children:e}){const{loggedInUser:t}=ln(),{dailyData:r,isLoading:n,isSuccess:a,isError:i}=Qa(),{updateDailyData:o,isLoading:s}=Bo(),{favoriteIntakes:l,isLoading:d,isSuccess:u,isError:c,isEmpty:p}=Pl(),[f,v]=Lo(),[m,h]=w.useState(f.get("tab")||"IntakeEdit"),[b,I]=w.useState(ie.getDefaultIntake()),[C,y]=w.useState(b.items[0].id),[x,D]=w.useState(Nr.getDefaultNutritionQuery("chatGPT")),[R,A]=w.useState(Nr.getDefaultNutritionQuery("ninjaAPI")),[E,B]=w.useState(Nr.getDefaultNutritionQuery("usdaAPI")),L=(r==null?void 0:r.intakes.filter(H=>H.isRecorded))||[],j=(r==null?void 0:r.intakes.filter(H=>!H.isRecorded))||[],W=st.getTotalCalories(r),F=st.calcRemainingCalories(t,r),z=(r==null?void 0:r.targetCaloricIntake)??(t==null?void 0:t.targetCaloricIntakePerDay)??0,K=st.calcEstimatedBodyFatStatusPerDay(t,r),k=Math.round(W/z*100),M=Math.round(F/z*100),G=Il.calcRecommendedWaterIntake(t,r);w.useEffect(()=>{if(!a||!r||r!=null&&r.weight||r!=null&&r.isWeightWaistIgnored)return;h("WeightWaistInput");const H=new URLSearchParams({tab:"WeightWaistInput"});v(H)},[r,a]);const _={dailyData:r,isLoading:n,isSuccess:a,isError:i,updateDailyData:o,isLoadingUpdate:s,recordedIntakes:L,unrecordedIntakes:j,remainingCalories:F,consumedCalories:W,targetCaloricIntakePerDay:z,estimatedKGChange:K,openedTab:m,setOpenedTab:h,recommendedWaterIntake:G,intake:b,setIntake:I,calConsumedPct:k,calRemainingPct:M,chatGPTQuery:x,setChatGPTQuery:D,ninjaAPIQuery:R,setNinjaAPIQuery:A,USDAAPIQuery:E,setUSDAAPIQuery:B,currIntakeItemId:C,setCurrIntakeItemId:y,favoriteIntakes:l,isLoadingFavoriteIntakes:d,isSuccessFavoriteIntakes:u,isErrorFavoriteIntakes:c,isEmptyFavoriteIntakes:p,setSearchParams:v};return g(si.Provider,{value:_,children:e})}function ce(){const e=w.useContext(si);if(e===void 0)throw new Error("useDayEdit must be used within a DayEditProvider");return e}const El="calorie";async function Ol(e){const t=await xe.post(`${El}/item`,e);return Me(t)}const Rl={getCaloriesForItem:Ol},li=w.createContext(void 0);function kl({intakeItem:e,children:t}){const{intake:r,setIntake:n,currIntakeItemId:a,setCurrIntakeItemId:i}=ce(),o=r.items.length===1,s=e.id===a,[l,d]=w.useState(!1),[u,c]=w.useState(""),[p,f]=w.useState(!1),[v,m]=w.useState([]),[h,b]=w.useState(null),I=w.useRef(null),C=v.length>0&&v[0].suggestions.length>0&&!!e.name.length&&!!h;function y(k){k!==a&&i(k)}function x(k){k.preventDefault();const{value:M,name:G}=k.target;switch(G){case"name":if(D({...e,name:M}),M.length||m([]),!I.current)return;I.current(M);break;case"quantity":D({...e,quantity:Number(M)});break;case"calories":{const _={...e,calories:Number(M)};delete _.caloriesPer100g,D(_),c("caloriesPer100g");break}case"caloriesPer100g":{const H=Number(M)*(e.quantity/100);D({...e,caloriesPer100g:Number(M),calories:H}),c("calories");break}}}function D(k){n(M=>({...M,items:M.items.map(G=>G.id===k.id?k:G)}))}function R(){const k=ie.getQuantityStepPerUnit(e.unit);e.quantity-k<1||D({...e,quantity:e.quantity-k})}function A(){const k=ie.getQuantityStepPerUnit(e.unit);D({...e,quantity:e.quantity+k})}function E(){const k=ie.units.indexOf(e.unit),M=k===ie.units.length-1?ie.units[0]:ie.units[k+1],G=ie.getUnitDefaultQuantity(M);D({...e,unit:M,quantity:G})}function B(){const k={...e};l&&(delete k.calories,delete k.caloriesPer100g,c("")),d(M=>!M),D(k)}async function L(){if(!e.name.length)return Un.error("Please enter a food name!");try{f(!0);const k=await Rl.getCaloriesForItem(e);D({...e,calories:k}),d(!0)}catch(k){console.error(k),Un.error("Failed to calculate calories!")}finally{f(!1)}}function j(k,M){const G=e.name.replace(k,M),_=v.filter(H=>H.original!==k);m(_),D({...e,name:G})}function W(k){const M=v.filter(G=>G.original!==k);m(M)}function F(){const k=ie.getDefaultIntakeItem();n(M=>({...M,items:[...M.items,k]})),i(k.id)}function z(){var H,Q;if(r.items.length===1)return;const k=r.items.findIndex(re=>re.id===e.id),M=(H=r.items[k-1])==null?void 0:H.id,G=(Q=r.items[k+1])==null?void 0:Q.id,_=[...r.items];_.splice(k,1),n(re=>({...re,items:_})),i(G||M)}w.useEffect(()=>{Promise.all([fetch("/assets/dictionaries/en_US.aff").then(k=>k.text()),fetch("/assets/dictionaries/en_US.dic").then(k=>k.text())]).then(([k,M])=>{const G=new bl(k,M);b(G)}).catch(k=>{console.error("Failed to load dictionaries:",k)})},[]),w.useEffect(()=>{function k(M){if(!h)return;const G=new Set(["nes","ness"]),Q=M.split(" ").filter(re=>!G.has(re)&&re.length>3).map(re=>({original:re,suggestions:h.suggest(re)}));m(Q)}I.current=cn(k,1e3).debouncedFunc},[h]);const K={intakeItem:e,isOneItem:o,isCurrIntakeItem:s,isManual:l,inputFaded:u,setInputFaded:c,isLoadingCal:p,suggestions:v,setSuggestions:m,isSuggestionListShown:C,handleNameInputClick:y,handleInputChange:x,decreaseQuantity:R,increaseQuantity:A,handleUnitBtnClick:E,handleToggleManual:B,handleCalcBtnClick:L,handleSuggestionClick:j,handleIgnoreSuggestionClick:W,handleAddButtonClick:F,handleRemoveButtonClick:z};return g(li.Provider,{value:K,children:t})}function Ze(){const e=w.useContext(li);if(!e)throw new Error("useIntakeItemEdit must be used within an IntakeItemEditProvider");return e}const Nl=()=>{const{suggestions:e,handleSuggestionClick:t,handleIgnoreSuggestionClick:r}=Ze();return g("ul",{className:"spelling-suggestion-list","data-testid":"spelling-suggestion-list",children:e.map((n,a)=>P("li",{className:"spelling-suggestion-list__item",children:[n.suggestions.map(i=>g(q,{className:"intake-item-edit__btn spelling-suggestion-list__btn",onClickFn:()=>t(n.original,i),dataTestId:"spelling-suggestion-list-btn",children:g("span",{children:i})},i)),g(q,{className:"intake-item-edit__btn spelling-suggestion-list__btn",dataTestId:"ignore-suggestion-btn",onClickFn:()=>r(n.original),children:g("span",{children:"ignore"})})]},a))})};const Tl=()=>{const{intakeItem:e,inputFaded:t,setInputFaded:r,handleInputChange:n}=Ze();function a(i){t===i&&r("")}return P("div",{className:"intake-item-edit__manuall-calorie-edit","data-testid":"intake-item-edit-manuall-calorie-edit",children:[g("input",{type:"number",name:"calories",className:qe("intake-item-input",{faded:t==="calories"}),value:e.calories||"",placeholder:"Calories",onChange:n,onClick:()=>a("calories")}),g("input",{type:"number",name:"caloriesPer100g",className:qe("intake-item-input",{faded:t==="caloriesPer100g"}),value:e.caloriesPer100g||"",placeholder:"Calories per 100g",onChange:n,onClick:()=>a("caloriesPer100g")})]})};function Bl(e){return ir({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"}}]})(e)}function Ll(e){return ir({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"}}]})(e)}const Ml=()=>{const{intakeItem:e,isManual:t,isLoadingCal:r,handleInputChange:n,decreaseQuantity:a,increaseQuantity:i,handleUnitBtnClick:o,handleToggleManual:s,handleCalcBtnClick:l}=Ze();return P("section",{className:"intake-item-edit__inputs-btns","data-testid":"intake-item-edit-inputs-btns",children:[P("div",{className:"quantity-input-container",children:[g(q,{onClickFn:a,children:g(Bl,{})}),g("input",{type:"number",name:"quantity",className:"intake-item-input quantity-input",value:e.quantity,onChange:n}),g(q,{onClickFn:i,children:g(Ll,{})})]}),g(q,{onClickFn:o,className:"intake-item-edit__btn",children:g("span",{children:e.unit})}),g(q,{onClickFn:s,className:"intake-item-edit__btn",children:g("span",{children:t?"Manual":"Auto"})}),g(q,{onClickFn:l,className:"intake-item-edit__btn calc-calories-btn",children:r?g(Se,{withContainer:!0,containerSize:{width:"100%"}}):g("span",{children:"calc"})})]})},Fl=()=>{const{isOneItem:e,handleAddButtonClick:t,handleRemoveButtonClick:r}=Ze();return P("section",{className:"intake-edit-item__btns-container","data-testid":"intake-item-edit-btns",children:[!e&&g(q,{onClickFn:r,children:"remove item"}),g(q,{onClickFn:t,children:"add item"})]})},Gl=()=>{const{intakeItem:e,handleNameInputClick:t,handleInputChange:r}=Ze();return g("input",{type:"text",name:"name",className:"intake-item-input",value:e.name,onChange:r,spellCheck:!0,autoComplete:"off",placeholder:"Enter food name",onClick:()=>t(e.id)})},_l=()=>{const{isCurrIntakeItem:e,isManual:t,isSuggestionListShown:r}=Ze();return P("section",{className:"intake-item-edit","data-testid":"intake-item-edit",children:[g(Gl,{}),r&&g(Nl,{}),g(Ml,{}),t&&g(Tl,{}),e&&g(Fl,{})]})};function ci(){const e=or(),{mutate:t,isLoading:r}=sr({mutationFn:dr.addUserFavoriteIntake,onSuccess:()=>{e.invalidateQueries(["favoriteIntakes"])}});return{addFavoriteIntake:t,isLoading:r}}function ui(){const e=or(),{mutate:t,isLoading:r}=sr({mutationFn:n=>dr.updateUserFavoriteIntake(n),onSuccess:()=>{e.invalidateQueries(["favoriteIntakes"])}});return{updateFavoriteIntake:t,isLoading:r}}const $l=()=>{const{dailyData:e}=ce();if(!e)return null;const t=e.intakes.findLast(n=>n.isRecorded&&n.type==="food");if(!t)return null;const r=Mo(t.recordedAt);return P("h5",{className:"last-time-you-ate-title",children:["Last time you ate: ",r]})};const Wl=()=>{const{intake:e,consumedCalories:t,remainingCalories:r}=ce(),n=e.items.reduce((o,s)=>s.calories===void 0?o:o+s.calories,0),a=t+n,i=r-n;return n<=0?null:P("section",{className:"pre-save-calorie-count",children:[P("p",{children:[g("strong",{children:"Total:"})," ",g("span",{children:n})]}),P("p",{children:[g("strong",{children:"Consumed:"})," ",g("span",{children:a})]}),P("p",{children:[g("strong",{children:"Remaining:"})," ",g("span",{children:i})]})]})};const Ul=()=>{const{dailyData:e,isLoading:t,isLoadingUpdate:r,intake:n,updateDailyData:a,setIntake:i}=ce(),{addFavoriteIntake:o,isLoading:s}=ci(),{updateFavoriteIntake:l,isLoading:d}=ui(),{backgroundColor:u}=un(),c=t||r||s||d,p=n.recordedAt&&n.isRecorded;function f(y){y.preventDefault();const{value:x}=y.target;i(D=>({...D,name:x}))}function v(){const y=n.type==="food"?"drink":"food";i(x=>({...x,type:y}))}function m(y){y.preventDefault();const{value:x}=y.target,[D,R]=x.split(":"),A=new Date(n.recordedAt);A.setHours(+D),A.setMinutes(+R),i(E=>({...E,recordedAt:A}))}function h(){i(ie.getDefaultIntake())}function b(y){if(y.preventDefault(),!n.items.every(D=>D.name.length&&D.quantity>0))return zr.error("Please fill all intake items");n.recordedAt=new Date,"userId"in n?l(n):o(n),i(ie.getDefaultIntake())}function I(){i(y=>({...y,recordedAt:null,isRecorded:!y.isRecorded}))}function C(y){if(y.preventDefault(),!e)return;if(!n.items.every(A=>A.name.length&&A.quantity>0))return zr.error("Please fill all intake items");n.recordedAt=new Date;const R=!e.intakes.some(A=>A.id===n.id)?[...e.intakes,n]:e.intakes.map(A=>A.id===n.id?n:A);a({...e,intakes:R}),i(ie.getDefaultIntake())}return P("form",{className:"intake-edit",onSubmit:C,"data-testid":"intake-edit",children:[c&&g(Se,{withContainer:!0,containerSize:{height:"75px",width:"100%"}}),!c&&P(Xe,{children:[P("header",{className:"intake-edit__header",children:[g("input",{type:"text",placeholder:"Name your intake",autoComplete:"off",value:n.name||"",onChange:f,className:"intake-edit__header__name-input"}),g(q,{onClickFn:v,className:"intake-edit-btn",children:g("span",{children:n.type})}),p&&g("input",{className:"intake-edit__header__time-input",type:"time",value:new Date(n.recordedAt).toISOString().slice(11,16),onChange:m})]}),g(lr,{items:n.items,render:y=>g(kl,{intakeItem:y,children:g(_l,{})},y.id),className:"intake-edit-item-list",dataTestId:"intake-edit-item-list"})]}),P("div",{className:"intake-edit__info-container",children:[g($l,{}),g(Wl,{})]}),P("div",{className:"intake-edit-btns-container",style:{backgroundColor:u},children:[g(q,{onClickFn:h,className:"intake-edit-btn",children:"clear"}),g(q,{onClickFn:b,className:"intake-edit-btn",type:"submit",children:"Save To Fav"}),g(q,{onClickFn:I,className:"intake-edit-btn btn-toggle-save-later "+qe({clicked:!n.isRecorded}),children:"Save Later"}),g(q,{onClickFn:y=>C(y),className:"intake-edit-btn",type:"submit",children:"Save Intake"})]})]})};const jl=()=>{const{dailyData:e,setOpenedTab:t,setSearchParams:r}=ce();if(!e)return null;function n(i){t(i);const o=new URLSearchParams({tab:i.toString()});r(o)}const a=[{name:"add",value:Y.IntakeEdit},{name:"intakes",value:Y.IntakeList,isShown:e==null?void 0:e.intakes.some(i=>i.isRecorded===!0)},{name:"unrecorded",value:Y.UnRecordedIntakeList,isShown:e==null?void 0:e.intakes.some(i=>i.isRecorded===!1)},{name:"favorites",value:Y.FavoriteIntake},{name:"water",value:Y.Water},{name:"weight",value:Y.WeightWaistInput},{name:"workouts",value:Y.Workouts,isShown:(e==null?void 0:e.workouts.length)>0},{name:"query",value:Y.Query}];return g("ul",{className:"day-edit__filter","data-testid":"day-edit-filter",children:a.map(i=>i.isShown===!1?null:g("li",{className:"filter__item",children:g(q,{className:"btn",onClickFn:()=>n(i.value),children:i.name})},i.value))})};var ql=["points","className","baseLinePoints","connectNulls"];function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ue.apply(this,arguments)}function Hl(e,t){if(e==null)return{};var r=Vl(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vl(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ia(e){return Yl(e)||Ql(e)||Kl(e)||zl()}function zl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kl(e,t){if(e){if(typeof e=="string")return Yr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yr(e,t)}}function Ql(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yl(e){if(Array.isArray(e))return Yr(e)}function Yr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oa=function(t){return t&&t.x===+t.x&&t.y===+t.y},Xl=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){oa(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),oa(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ct=function(t,r){var n=Xl(t);r&&(n=[n.reduce(function(i,o){return[].concat(ia(i),ia(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Zl=function(t,r,n){var a=ct(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ct(r.reverse(),n).slice(1))},Jl=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Hl(t,ql);if(!r||!r.length)return null;var s=qe("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",d=Zl(r,a,i);return O.createElement("g",{className:s},O.createElement("path",Ue({},ee(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),l?O.createElement("path",Ue({},ee(o,!0),{fill:"none",d:ct(r,i)})):null,l?O.createElement("path",Ue({},ee(o,!0),{fill:"none",d:ct(a,i)})):null)}var u=ct(r,i);return O.createElement("path",Ue({},ee(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))},ec=Xa,tc=Za,rc=Ko;function nc(e,t){return e&&e.length?ec(e,tc(t),rc):void 0}var ac=nc;const ic=ar(ac);var oc=Xa,sc=Qo,lc=Za;function cc(e,t){return e&&e.length?oc(e,lc(t),sc):void 0}var uc=cc;const dc=ar(uc);var pc=["cx","cy","angle","ticks","axisLine"],fc=["ticks","tick","angle","tickFormatter","stroke"];function He(e){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(e)}function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ut.apply(this,arguments)}function sa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sa(Object(r),!0).forEach(function(n){pr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function la(e,t){if(e==null)return{};var r=vc(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vc(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function gc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ca(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,di(n.key),n)}}function mc(e,t,r){return t&&ca(e.prototype,t),r&&ca(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xr(e,t)}function Xr(e,t){return Xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xr(e,t)}function bc(e){var t=Cc();return function(){var n=zt(e),a;if(t){var i=zt(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return yc(this,a)}}function yc(e,t){if(t&&(He(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ic(e)}function Ic(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zt(e){return zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zt(e)}function pr(e,t,r){return t=di(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function di(e){var t=Dc(e,"string");return He(t)==="symbol"?t:String(t)}function Dc(e,t){if(He(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(He(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fr=function(e){hc(r,e);var t=bc(r);function r(){return gc(this,r),t.apply(this,arguments)}return mc(r,[{key:"getTickValueCoord",value:function(a){var i=a.coordinate,o=this.props,s=o.angle,l=o.cx,d=o.cy;return be(l,d,i,s)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,i;switch(a){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var a=this.props,i=a.cx,o=a.cy,s=a.angle,l=a.ticks,d=dc(l,function(c){return c.coordinate||0}),u=ic(l,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.cx,o=a.cy,s=a.angle,l=a.ticks,d=a.axisLine,u=la(a,pc),c=l.reduce(function(m,h){return[Math.min(m[0],h.coordinate),Math.max(m[1],h.coordinate)]},[1/0,-1/0]),p=be(i,o,c[0],s),f=be(i,o,c[1],s),v=Ee(Ee(Ee({},ee(u)),{},{fill:"none"},ee(d)),{},{x1:p.x,y1:p.y,x2:f.x,y2:f.y});return O.createElement("line",ut({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var a=this,i=this.props,o=i.ticks,s=i.tick,l=i.angle,d=i.tickFormatter,u=i.stroke,c=la(i,fc),p=this.getTickTextAnchor(),f=ee(c),v=ee(s),m=o.map(function(h,b){var I=a.getTickValueCoord(h),C=Ee(Ee(Ee(Ee({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(I.x,", ").concat(I.y,")")},f),{},{stroke:"none",fill:u},v),{},{index:b},I),{},{payload:h});return O.createElement(ve,ut({className:"recharts-polar-radius-axis-tick",key:"tick-".concat(b)},fn(a.props,h,b)),r.renderTickItem(s,C,d?d(h.value,b):h.value))});return O.createElement(ve,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var a=this.props,i=a.ticks,o=a.axisLine,s=a.tick;return!i||!i.length?null:O.createElement(ve,{className:"recharts-polar-radius-axis"},o&&this.renderAxisLine(),s&&this.renderTicks(),Ja.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,i,o){var s;return O.isValidElement(a)?s=O.cloneElement(a,i):Ne(a)?s=a(i):s=O.createElement(pn,ut({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}]),r}(w.PureComponent);pr(fr,"displayName","PolarRadiusAxis");pr(fr,"axisType","radiusAxis");pr(fr,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ve(e){"@babel/helpers - typeof";return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ve(e)}function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Te.apply(this,arguments)}function ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ua(Object(r),!0).forEach(function(n){vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ua(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function da(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pi(n.key),n)}}function xc(e,t,r){return t&&da(e.prototype,t),r&&da(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zr(e,t)}function Zr(e,t){return Zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zr(e,t)}function Pc(e){var t=Oc();return function(){var n=Kt(e),a;if(t){var i=Kt(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Ac(this,a)}}function Ac(e,t){if(t&&(Ve(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ec(e)}function Ec(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kt(e){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kt(e)}function vr(e,t,r){return t=pi(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pi(e){var t=Rc(e,"string");return Ve(t)==="symbol"?t:String(t)}function Rc(e,t){if(Ve(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ve(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kc=Math.PI/180,pa=1e-5,gr=function(e){Sc(r,e);var t=Pc(r);function r(){return wc(this,r),t.apply(this,arguments)}return xc(r,[{key:"getTickLineCoord",value:function(a){var i=this.props,o=i.cx,s=i.cy,l=i.radius,d=i.orientation,u=i.tickSize,c=u||8,p=be(o,s,l,a.coordinate),f=be(o,s,l+(d==="inner"?-1:1)*c,a.coordinate);return{x1:p.x,y1:p.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(a){var i=this.props.orientation,o=Math.cos(-a.coordinate*kc),s;return o>pa?s=i==="outer"?"start":"end":o<-pa?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.cx,o=a.cy,s=a.radius,l=a.axisLine,d=a.axisLineType,u=Oe(Oe({},ee(this.props)),{},{fill:"none"},ee(l));if(d==="circle")return O.createElement(Yo,Te({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:s}));var c=this.props.ticks,p=c.map(function(f){return be(i,o,s,f.coordinate)});return O.createElement(Jl,Te({className:"recharts-polar-angle-axis-line"},u,{points:p}))}},{key:"renderTicks",value:function(){var a=this,i=this.props,o=i.ticks,s=i.tick,l=i.tickLine,d=i.tickFormatter,u=i.stroke,c=ee(this.props),p=ee(s),f=Oe(Oe({},c),{},{fill:"none"},ee(l)),v=o.map(function(m,h){var b=a.getTickLineCoord(m),I=a.getTickTextAnchor(m),C=Oe(Oe(Oe({textAnchor:I},c),{},{stroke:"none",fill:u},p),{},{index:h,payload:m,x:b.x2,y:b.y2});return O.createElement(ve,Te({className:"recharts-polar-angle-axis-tick",key:"tick-".concat(h)},fn(a.props,m,h)),l&&O.createElement("line",Te({className:"recharts-polar-angle-axis-tick-line"},f,b)),s&&r.renderTickItem(s,C,d?d(m.value,h):m.value))});return O.createElement(ve,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var a=this.props,i=a.ticks,o=a.radius,s=a.axisLine;return o<=0||!i||!i.length?null:O.createElement(ve,{className:"recharts-polar-angle-axis"},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,i,o){var s;return O.isValidElement(a)?s=O.cloneElement(a,i):Ne(a)?s=a(i):s=O.createElement(pn,Te({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}]),r}(w.PureComponent);vr(gr,"displayName","PolarAngleAxis");vr(gr,"axisType","angleAxis");vr(gr,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Nc=Xo,Tc=Nc(Object.getPrototypeOf,Object),Bc=Tc,Lc=Zo,Mc=Bc,Fc=Jo,Gc="[object Object]",_c=Function.prototype,$c=Object.prototype,fi=_c.toString,Wc=$c.hasOwnProperty,Uc=fi.call(Object);function jc(e){if(!Fc(e)||Lc(e)!=Gc)return!1;var t=Mc(e);if(t===null)return!0;var r=Wc.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&fi.call(r)==Uc}var qc=jc;const Hc=ar(qc);function ze(e){"@babel/helpers - typeof";return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(e)}function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Be.apply(this,arguments)}function fa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fa(Object(r),!0).forEach(function(n){de(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fa(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function va(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vi(n.key),n)}}function zc(e,t,r){return t&&va(e.prototype,t),r&&va(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jr(e,t)}function Jr(e,t){return Jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jr(e,t)}function Qc(e){var t=Xc();return function(){var n=Qt(e),a;if(t){var i=Qt(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Yc(this,a)}}function Yc(e,t){if(t&&(ze(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(e)}function $e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qt(e){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qt(e)}function de(e,t,r){return t=vi(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vi(e){var t=Zc(e,"string");return ze(t)==="symbol"?t:String(t)}function Zc(e,t){if(ze(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ze(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ge=function(e){Kc(r,e);var t=Qc(r);function r(n){var a;return Vc(this,r),a=t.call(this,n),de($e(a),"pieRef",null),de($e(a),"sectorRefs",[]),de($e(a),"id",ts("recharts-pie-")),de($e(a),"handleAnimationEnd",function(){var i=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Ne(i)&&i()}),de($e(a),"handleAnimationStart",function(){var i=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Ne(i)&&i()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return zc(r,[{key:"isActiveIndex",value:function(a){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(a)!==-1:a===i}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,l=o.labelLine,d=o.dataKey,u=o.valueKey,c=ee(this.props),p=ee(s),f=ee(l),v=s&&s.offsetRadius||20,m=a.map(function(h,b){var I=(h.startAngle+h.endAngle)/2,C=be(h.cx,h.cy,h.outerRadius+v,I),y=V(V(V(V({},c),h),{},{stroke:"none"},p),{},{index:b,textAnchor:r.getTextAnchor(C.x,h.cx)},C),x=V(V(V(V({},c),h),{},{fill:"none",stroke:h.fill},f),{},{index:b,points:[be(h.cx,h.cy,h.outerRadius,I),C],key:"line"}),D=d;return je(d)&&je(u)?D="value":je(d)&&(D=u),O.createElement(ve,{key:"label-".concat(b)},l&&r.renderLabelLineItem(l,x),r.renderLabelItem(s,y,_e(h,D)))});return O.createElement(ve,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(a){var i=this,o=this.props,s=o.activeShape,l=o.blendStroke,d=o.inactiveShape;return a.map(function(u,c){var p=d&&i.hasActiveIndex()?d:null,f=i.isActiveIndex(c)?s:p,v=V(V({},u),{},{stroke:l?u.fill:u.stroke});return O.createElement(ve,Be({ref:function(h){h&&!i.sectorRefs.includes(h)&&i.sectorRefs.push(h)},tabIndex:-1,className:"recharts-pie-sector"},fn(i.props,u,c),{key:"sector-".concat(c)}),r.renderSectorItem(f,v))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,i=this.props,o=i.sectors,s=i.isAnimationActive,l=i.animationBegin,d=i.animationDuration,u=i.animationEasing,c=i.animationId,p=this.state,f=p.prevSectors,v=p.prevIsAnimationActive;return O.createElement(ns,{begin:l,duration:d,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var h=m.t,b=[],I=o&&o[0],C=I.startAngle;return o.forEach(function(y,x){var D=f&&f[x],R=x>0?as(y,"paddingAngle",0):0;if(D){var A=zn(D.endAngle-D.startAngle,y.endAngle-y.startAngle),E=V(V({},y),{},{startAngle:C+R,endAngle:C+A(h)+R});b.push(E),C=E.endAngle}else{var B=y.endAngle,L=y.startAngle,j=zn(0,B-L),W=j(h),F=V(V({},y),{},{startAngle:C+R,endAngle:C+W+R});b.push(F),C=F.endAngle}}),O.createElement(ve,null,a.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(a){var i=this;a.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,i=a.sectors,o=a.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!is(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,i=this.props,o=i.hide,s=i.sectors,l=i.className,d=i.label,u=i.cx,c=i.cy,p=i.innerRadius,f=i.outerRadius,v=i.isAnimationActive,m=this.state.isAnimationFinished;if(o||!s||!s.length||!We(u)||!We(c)||!We(p)||!We(f))return null;var h=qe("recharts-pie",l);return O.createElement(ve,{tabIndex:this.props.rootTabIndex,className:h,ref:function(I){a.pieRef=I}},this.renderSectors(),d&&this.renderLabels(s),Ja.renderCallByParent(this.props,null,!1),(!v||m)&&os.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return i.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:a.sectors!==i.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,i){return a>i?"start":a<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,i){return O.isValidElement(a)?O.cloneElement(a,i):Ne(a)?a(i):O.createElement(rs,Be({},i,{type:"linear",className:"recharts-pie-label-line"}))}},{key:"renderLabelItem",value:function(a,i,o){if(O.isValidElement(a))return O.cloneElement(a,i);var s=o;return Ne(a)&&(s=a(i),O.isValidElement(s))?s:O.createElement(pn,Be({},i,{alignmentBaseline:"middle",className:"recharts-pie-label-text"}),s)}},{key:"renderSectorItem",value:function(a,i){return O.isValidElement(a)?O.cloneElement(a,i):Ne(a)?a(i):Hc(a)?O.createElement(Vn,Be({tabIndex:-1},i,a)):O.createElement(Vn,Be({tabIndex:-1},i))}}]),r}(w.PureComponent);de(ge,"displayName","Pie");de(ge,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!es.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});de(ge,"parseDeltaAngle",function(e,t){var r=Wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});de(ge,"getRealPieData",function(e){var t=e.props,r=t.data,n=t.children,a=ee(e.props),i=ss(n,ei);return r&&r.length?r.map(function(o,s){return V(V(V({payload:o},a),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return V(V({},a),o.props)}):[]});de(ge,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=ls(a,i),s=n+Lt(e.props.cx,a,a/2),l=r+Lt(e.props.cy,i,i/2),d=Lt(e.props.innerRadius,o,0),u=Lt(e.props.outerRadius,o,o*.8),c=e.props.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:l,innerRadius:d,outerRadius:u,maxRadius:c}});de(ge,"getComposedData",function(e){var t=e.item,r=e.offset,n=ge.getRealPieData(t);if(!n||!n.length)return null;var a=t.props,i=a.cornerRadius,o=a.startAngle,s=a.endAngle,l=a.paddingAngle,d=a.dataKey,u=a.nameKey,c=a.valueKey,p=a.tooltipType,f=Math.abs(t.props.minAngle),v=ge.parseCoordinateOfPie(t,r),m=ge.parseDeltaAngle(o,s),h=Math.abs(m),b=d;je(d)&&je(c)?(Kn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):je(d)&&(Kn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=c);var I=n.filter(function(A){return _e(A,b,0)!==0}).length,C=(h>=360?I:I-1)*l,y=h-I*f-C,x=n.reduce(function(A,E){var B=_e(E,b,0);return A+(We(B)?B:0)},0),D;if(x>0){var R;D=n.map(function(A,E){var B=_e(A,b,0),L=_e(A,u,E),j=(We(B)?B:0)/x,W;E?W=R.endAngle+Wt(m)*l*(B!==0?1:0):W=o;var F=W+Wt(m)*((B!==0?f:0)+j*y),z=(W+F)/2,K=(v.innerRadius+v.outerRadius)/2,k=[{name:L,value:B,payload:A,dataKey:b,type:p}],M=be(v.cx,v.cy,K,z);return R=V(V(V({percent:j,cornerRadius:i,name:L,tooltipPayload:k,midAngle:z,middleRadius:K,tooltipPosition:M},A),v),{},{value:_e(A,b),startAngle:W,endAngle:F,payload:A,paddingAngle:Wt(m)*l}),R})}return V(V({},v),{},{sectors:D,data:n})});var Jc=cs({chartName:"PieChart",GraphicalChild:ge,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:gr},{axisType:"radiusAxis",AxisComp:fr}],formatAxisMap:us,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const eu=({intakes:e,remainingCalories:t})=>{const r=[...e.map(n=>({name:n.items.reduce((a,i,o,s)=>s.length===1?i.name:o===0?a+`${i.name}, `:o===s.length-1?a+`and ${i.name}`:a+` ${i.name}, `,""),value:n.items.reduce((a,i)=>a+i.calories,0)})),{name:"remaining",value:t}];return t<=0&&r.pop(),P(Jc,{width:250,height:250,children:[g(ge,{dataKey:"value",isAnimationActive:!1,data:r,cx:125,cy:125,innerRadius:80,outerRadius:110,children:r.map((n,a)=>{const i=n.name==="remaining"?"#a7a7a7":jn[a%jn.length];return g(ei,{fill:i},`cell-${a}`)})}),g(ds,{})]})},tu=()=>{const{dailyData:e,recordedIntakes:t,calConsumedPct:r,calRemainingPct:n,remainingCalories:a,consumedCalories:i,estimatedKGChange:o}=ce();if(!e)return null;const{date:s}=e,l=new Intl.DateTimeFormat("en-GB",{weekday:"long",month:"numeric",day:"numeric",year:"numeric"}).format(new Date(s)),d=a>0?"remaining":"over your limit";return P("header",{className:"day-edit__header","data-testid":"day-edit-header",children:[g("div",{className:"day-edit__header__date-container",children:g("h2",{className:"day-edit__header__date","data-testid":"day-edit-header-date",children:l})}),g(eu,{intakes:t,remainingCalories:a}),P("div",{className:"day-edit__header__titles",children:[P("p",{className:"day-edit__header__titles__title","data-testid":"day-edit-header-remaining-calories",children:[P("strong",{children:[Math.abs(a)," "]}),"calories ",d]}),g("hr",{}),i>0&&P("p",{className:"day-edit__header__titles__title","data-testid":"day-edit-header-consumed-calories",children:[g("strong",{children:Math.round(i)})," calories consumed"]}),g("hr",{}),P("div",{className:"day-edit__header__percentages-container",children:[P("div",{className:"day-edit__header__percentage","data-testid":"day-edit-header-consumed-percentage",children:[g("p",{className:"day-edit__header__percentage__title",children:"consumed:"}),P("p",{className:"day-edit__header__percentage__value",children:[r,"%"]})]}),P("div",{className:"day-edit__header__percentage","data-testid":"day-edit-header-remaining-percentage",children:[g("p",{className:"day-edit__header__percentage__title",children:"remaining:"}),P("p",{className:"day-edit__header__percentage__value",children:[n,"%"]})]})]}),g("hr",{}),P("p",{className:"day-edit__header__titles__title","data-testid":"day-edit-header-estimated-kg-change",children:["estimated to ",o>0?"gain":"lose",P("strong",{children:[" ",Math.abs(o)]})," kg"]}),g("hr",{})]})]})};const ru=({mode:e,zIndex:t})=>g("div",{className:`main-screen ${e||""}`,style:{zIndex:t},"data-testid":"main-screen"});function nu(e,t=!0){const r=w.useRef(null);return w.useEffect(()=>{function n(a){r.current&&!r.current.contains(a.target)&&e()}return document.addEventListener("click",n,t),()=>document.removeEventListener("click",n,t)},[e,t]),{outsideClickRef:r}}const au=({isModalAbove:e,isFullScreen:t=!1})=>{const r="tippy"+(e?" down":" up")+(t?" full-screen":"");return g("div",{className:r,"data-testid":"tippy"})};function gi(e,t){var s;const r=(s=e.current)==null?void 0:s.getBoundingClientRect();if(!r)return;const a=window.innerHeight-r.top<t,i={top:r.bottom+r.height/2+window.scrollY},o={bottom:window.innerHeight-r.top+r.height/2};return{isModalAbove:a,position:{...a?o:i,left:r.left+r.width/2+window.scrollX},rect:r}}const bt=w.createContext(void 0),ae=({children:e,externalStateControl:t,onClose:r,onOpen:n,onAfterClose:a})=>{const[i,o]=w.useState(""),[s,l]=w.useState(null),[d,u]=w.useState(null),[c,p]=w.useState(!1),f=()=>{if(r==null||r(),t){t.setOpenedModalName(""),a==null||a();return}o(""),a==null||a()},v=I=>{if(n==null||n(),t){t.setOpenedModalName(I);return}o(I)},{debouncedFunc:m,cancel:h}=cn(()=>{f()},500),b={openedModalName:(t==null?void 0:t.openedModalName)||i,close:f,open:v,position:s,setPosition:l,isModalAbove:c,setIsModalAbove:p,modalHoverGuardZone:d,setModalHoverGuardZone:u,debouncedClose:m,cancelDebouncedClose:h};return g(bt.Provider,{value:b,children:e})},iu=({children:e,modalName:t,setPositionByRef:r=!1,modalHeight:n=0,externalControlFunc:a})=>{const{open:i,setPosition:o,setIsModalAbove:s}=w.useContext(bt),l=w.useRef(null),d=w.useCallback(()=>{const c=gi(l,n),{isModalAbove:p,position:f}=c;s(p),o(f)},[n,s,o]),u=()=>{if(r&&d(),a)return a();i(t)};return w.useEffect(()=>{if(!r)return;const c=["wheel","scroll","resize"];return c.forEach(p=>{window.addEventListener(p,d)}),()=>{c.forEach(p=>{window.removeEventListener(p,d)})}},[r,d]),w.cloneElement(e,{onClick:u,ref:l})},ou=({children:e,onClickFn:t})=>{const{close:r}=w.useContext(bt);return w.cloneElement(e,{onClick:()=>{t==null||t(),r()}})},su=({children:e,modalName:t,modalHeight:r=0})=>{const{open:n,setPosition:a,setIsModalAbove:i,setModalHoverGuardZone:o,debouncedClose:s,cancelDebouncedClose:l}=w.useContext(bt),d=w.useRef(null),{debouncedFunc:u,cancel:c}=cn(p,500);function p(){const m=gi(d,r);m&&(a(m.position),i(m.isModalAbove),o({height:m.rect.height,width:m.rect.width}),n(t))}function f(){l(),u()}function v(){c(),s()}return g("div",{className:"modal-hover-open",ref:d,onMouseEnter:f,onMouseLeave:v,children:e})},lu=({children:e,name:t,className:r,mainScreenMode:n="transparent",mainScreenZIndex:a=1e3,elementId:i="app",includeTippy:o=!1,style:s={},hoverControl:l=!1})=>{const{openedModalName:d,open:u,close:c,position:p,isModalAbove:f,modalHoverGuardZone:v,debouncedClose:m,cancelDebouncedClose:h}=w.useContext(bt),{outsideClickRef:b}=nu(c);function I(){h(),u(t)}function C(){m()}return t!==d?null:Ya.createPortal(P(Xe,{children:[!l&&g(ru,{mode:n,zIndex:a}),P("section",{className:`modal ${r||t}`,style:{...s,zIndex:a+1,...p},ref:l?void 0:b,onMouseEnter:()=>l&&I(),onMouseLeave:()=>l&&C(),"data-testid":"modal-window",children:[o&&g(au,{isModalAbove:!!f}),e,l&&v&&g("div",{className:"modal-hover-guard-zone",style:{top:f?"100%":`-${v.height/2}px`,height:`${v.height/2}px`||"10%",width:`${v.width}px`||"10%"}})]})]}),document.getElementById(i))};ae.OpenBtn=iu;ae.Window=lu;ae.CloseBtn=ou;ae.ModalHoverOpen=su;function cu(){const e=or(),{mutate:t,isLoading:r}=sr({mutationFn:async n=>dr.removeUserFavoriteIntake(n),onSuccess:()=>{e.invalidateQueries(["favoriteIntakes"])}});return{removeFavoriteIntake:t,isLoading:r}}const mi=({intake:e,isFavorite:t=!1})=>{const{dailyData:r,openedTab:n,setOpenedTab:a,setIntake:i,updateDailyData:o}=ce(),{addFavoriteIntake:s,isLoading:l}=ci(),{removeFavoriteIntake:d}=cu(),u=n===Y.IntakeList,c=!u||t,p=st.getTotalCalories(e),f=t?e.name??e.items.map(C=>C.name).join(", "):null;function v(C){if(t)return d(C);if(!r)return;const y={...r};y.intakes=r.intakes.filter(x=>x.id!==C),o(y)}function m(C){if(!r)return;const y={...C};i(y),a(Y.IntakeEdit)}function h(C){if(!r)return;const y={...C};y.id=qt(),y.recordedAt=new Date,o({...r,intakes:[...r.intakes,y]})}function b(C){if(!r)return;const y={...r};t?y.intakes=[...r.intakes,{...e,id:qt(),isRecorded:!0,recordedAt:new Date}]:y.intakes=r.intakes.map(x=>(x.id!==C||(x.isRecorded=!0,x.recordedAt=new Date),x)),o(y)}function I(C){s(C)}return l?g(Se,{withContainer:!0,containerSize:{height:"50px"}}):P("section",{className:"intake-preview","data-testid":"intake-preview",children:[f&&g("h2",{className:"intake-preview__title",children:f}),g(lr,{items:e.items,className:"intake-preview__item-list",render:C=>g("li",{className:"intake-preview__item-list__item","data-testid":"intake-preview-item",children:`${C.name} - ${C.quantity} ${C.unit} - calories: ${Math.round(C.calories)}`},C.id)}),P("p",{className:"intake-preview__total-calories",children:["total calories: ",p]}),P("div",{id:"intake-preview-btns-container",className:"intake-preview__btns-container",children:[P(ae,{children:[g(ae.OpenBtn,{modalName:"delete-intake",children:g("button",{className:"btn",children:"Delete"})}),P(ae.Window,{name:"delete-intake",elementId:"intake-preview-btns-container",className:"delete-intake-modal",children:[g("h2",{children:"Are you sure you want to delete this intake?"}),g(ae.CloseBtn,{onClickFn:()=>v(e.id),children:g("button",{className:"btn delete-btn",children:"Delete"})}),g(ae.CloseBtn,{children:g("button",{className:"btn",children:"Cancel"})})]})]}),t&&g(q,{className:"btn",onClickFn:()=>m(e),children:"Edit"}),u&&P(Xe,{children:[g(q,{className:"btn",onClickFn:()=>m(e),children:"Edit"}),g(q,{className:"btn",onClickFn:()=>h(e),children:"duplicate"})]}),c&&g(q,{className:"btn",onClickFn:()=>b(e.id),children:"Save"}),!t&&g(q,{className:"btn",onClickFn:()=>I(e),children:"add to fav"})]})]})};const uu=()=>{const{dailyData:e,unrecordedIntakes:t,recordedIntakes:r,openedTab:n,isLoadingUpdate:a}=ce();if(!e)return null;const i=n===Y.IntakeList,s=(i?r:t).sort((d,u)=>!d.recordedAt||!u.recordedAt?0:new Date(d.recordedAt).getTime()-new Date(u.recordedAt).getTime()),l=st.getTotalCaloriesFromDailyData({dailyData:e,isRecorded:i});return P(Xe,{children:[P("header",{className:"intake-list__header","data-testid":"intake-list-header",children:[P("h3",{className:"intake-list__header__title",children:[i?"Recorded":"Unrecorded"," Intakes"]}),P("h4",{className:"intake-list__header__total-calories",children:["total calories: ",l]})]}),a&&g(Se,{}),!a&&g(lr,{className:"intake-list",items:s,render:(d,u)=>{const c=d.recordedAt?`- ${Fo(d.recordedAt)}`:"";return P("li",{className:"intake-list-item",children:[P("h5",{className:"intake-list-item__title",children:["Intake ",u+1,"# ",c]}),g(mi,{intake:d})]},d.id)}})]})};const du=()=>{const{dailyData:e,isLoading:t,updateDailyData:r,setOpenedTab:n}=ce(),{loggedInUser:a}=ln(),{userDailyStats:i}=Go(),{control:o,handleSubmit:s}=ti({defaultValues:{weight:"",waist:""}}),[l,d]=w.useState(!1);function u(){e&&(r({...e,isWeightWaistIgnored:!0}),n(Y.IntakeEdit))}function c(f){if(!e||!a)return;const{weightGoal:v}=a.weightLossGoal;if(Number(f.weight)<=v)return alert("Weight can't be greater than your goal");r({...e,weight:Number(f.weight),waist:Number(f.waist)})}if(w.useEffect(()=>{!a||!i||d(_o.isReachedGoalWeight({loggedInUser:a,userDailyStats:i}))},[a,i]),!e)return null;const p=!e.weight&&!e.waist&&!t;return t?g(Se,{withContainer:!0,containerSize:{height:"75px"}}):p?P("form",{className:"weight-waist-form","data-testid":"weight-waist-form",onSubmit:s(c),children:[g(lt,{control:o,name:"weight",render:({field:f})=>g("input",{...f,type:"number",className:"weight-waist-form__input",placeholder:"Enter your weight",required:!0})}),g(lt,{control:o,name:"waist",render:({field:f})=>g("input",{...f,type:"number",className:"weight-waist-form__input",placeholder:"Enter your waist size",required:!0})}),P("div",{className:"weight-waist-form__btns-container",children:[g(q,{className:"btn",type:"submit",children:"update"}),!e.isWeightWaistIgnored&&g(q,{className:"btn",onClickFn:u,children:"dissmis"})]})]}):P(Xe,{children:[P("div",{className:"weight-waist-details","data-testid":"weight-waist-details",children:[g("p",{className:"weight-waist-details__title",children:"weight:"}),P("p",{className:"weight-waist-details__text",children:[e.weight," kg"]}),g("p",{className:"weight-waist-details__title",children:"waist:"}),P("p",{className:"weight-waist-details__text",children:[e.waist," cm"]})]}),l&&g($o,{})]})},gn="nutrition";async function pu(e){const t=await xe.get(`${gn}/chatGPT?prompt=${e}`);return Me(t)}async function fu(e){const t=await xe.get(`${gn}/ninja?query=${e}`);return Me(t)}async function vu(e){const t=await xe.get(`${gn}/usda?query=${e}`);return Me(t)}const Tr={queryChatGPT:pu,queryNinja:fu,queryUSDA:vu};function gu(e){return ir({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2 19V8H1V6H4V4C4 3.44772 4.44772 3 5 3H19C19.5523 3 20 3.44772 20 4V6H23V8H22V19H23V21H1V19H2ZM13 19V12H11V19H13ZM8 19V12H6V19H8ZM18 19V12H16V19H18ZM6 5V6H18V5H6Z"}}]})(e)}function mu(e){return ir({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.5624 10.1875C20.8124 9.5 20.8749 8.8125 20.8124 8.125C20.7499 7.4375 20.4999 6.75 20.1874 6.125C19.6249 5.1875 18.8124 4.4375 17.8749 4C16.8749 3.5625 15.8124 3.4375 14.7499 3.6875C14.2499 3.1875 13.6874 2.75 13.0624 2.4375C12.4374 2.125 11.6874 2 10.9999 2C9.9374 2 8.8749 2.3125 7.9999 2.9375C7.1249 3.5625 6.4999 4.4375 6.1874 5.4375C5.4374 5.625 4.8124 5.9375 4.1874 6.3125C3.6249 6.75 3.1874 7.3125 2.8124 7.875C2.24991 8.8125 2.06241 9.875 2.18741 10.9375C2.31241 12 2.7499 13 3.4374 13.8125C3.1874 14.5 3.1249 15.1875 3.1874 15.875C3.2499 16.5625 3.4999 17.25 3.8124 17.875C4.3749 18.8125 5.1874 19.5625 6.1249 20C7.1249 20.4375 8.1874 20.5625 9.2499 20.3125C9.7499 20.8125 10.3124 21.25 10.9374 21.5625C11.5624 21.875 12.3124 22 12.9999 22C14.0624 22 15.1249 21.6875 15.9999 21.0625C16.8749 20.4375 17.4999 19.5625 17.8124 18.5625C18.4999 18.4375 19.1874 18.125 19.7499 17.6875C20.3124 17.25 20.8124 16.75 21.1249 16.125C21.6874 15.1875 21.8749 14.125 21.7499 13.0625C21.6249 12 21.2499 11 20.5624 10.1875ZM13.0624 20.6875C12.0624 20.6875 11.3124 20.375 10.6249 19.8125C10.6249 19.8125 10.6874 19.75 10.7499 19.75L14.7499 17.4375C14.8749 17.375 14.9374 17.3125 14.9999 17.1875C15.0624 17.0625 15.0624 17 15.0624 16.875V11.25L16.7499 12.25V16.875C16.8124 19.0625 15.0624 20.6875 13.0624 20.6875ZM4.9999 17.25C4.5624 16.5 4.3749 15.625 4.5624 14.75C4.5624 14.75 4.6249 14.8125 4.6874 14.8125L8.6874 17.125C8.8124 17.1875 8.8749 17.1875 8.9999 17.1875C9.1249 17.1875 9.2499 17.1875 9.3124 17.125L14.1874 14.3125V16.25L10.1249 18.625C9.2499 19.125 8.2499 19.25 7.3124 19C6.3124 18.75 5.4999 18.125 4.9999 17.25ZM3.9374 8.5625C4.3749 7.8125 5.0624 7.25 5.8749 6.9375V7.0625V11.6875C5.8749 11.8125 5.8749 11.9375 5.9374 12C5.9999 12.125 6.0624 12.1875 6.1874 12.25L11.0624 15.0625L9.3749 16.0625L5.3749 13.75C4.4999 13.25 3.8749 12.4375 3.6249 11.5C3.3749 10.5625 3.4374 9.4375 3.9374 8.5625ZM17.7499 11.75L12.8749 8.9375L14.5624 7.9375L18.5624 10.25C19.1874 10.625 19.6874 11.125 19.9999 11.75C20.3124 12.375 20.4999 13.0625 20.4374 13.8125C20.3749 14.5 20.1249 15.1875 19.6874 15.75C19.2499 16.3125 18.6874 16.75 17.9999 17V12.25C17.9999 12.125 17.9999 12 17.9374 11.9375C17.9374 11.9375 17.8749 11.8125 17.7499 11.75ZM19.4374 9.25C19.4374 9.25 19.3749 9.1875 19.3124 9.1875L15.3124 6.875C15.1874 6.8125 15.1249 6.8125 14.9999 6.8125C14.8749 6.8125 14.7499 6.8125 14.6874 6.875L9.8124 9.6875V7.75L13.8749 5.375C14.4999 5 15.1874 4.875 15.9374 4.875C16.6249 4.875 17.3124 5.125 17.9374 5.5625C18.4999 6 18.9999 6.5625 19.2499 7.1875C19.4999 7.8125 19.5624 8.5625 19.4374 9.25ZM8.9374 12.75L7.2499 11.75V7.0625C7.2499 6.375 7.4374 5.625 7.8124 5.0625C8.1874 4.4375 8.7499 4 9.3749 3.6875C9.9999 3.375 10.7499 3.25 11.4374 3.375C12.1249 3.4375 12.8124 3.75 13.3749 4.1875C13.3749 4.1875 13.3124 4.25 13.2499 4.25L9.2499 6.5625C9.1249 6.625 9.0624 6.6875 8.9999 6.8125C8.9374 6.9375 8.9374 7 8.9374 7.125V12.75ZM9.8124 10.75L11.9999 9.5L14.1874 10.75V13.25L11.9999 14.5L9.8124 13.25V10.75Z"}}]})(e)}const hu=()=>g("div",{className:"dot-loader","data-testid":"dot-loader"}),Br=({queryState:{type:e,status:t,error:r,response:n}})=>t==="loading"?g(hu,{}):t==="error"&&r?g(dn,{msg:r}):t==="success"?P("section",{"data-testid":"nutrition-query-response-handler",children:[e==="chatGPT"&&g("p",{children:n}),e==="ninjaAPI"&&g("ul",{className:"nutrition-query__results__item__list","data-testid":"nutrition-query-response-ninja-api-response",children:n.map((a,i)=>g("li",{children:Object.entries(a).map(([o,s])=>o==="name"?g("strong",{children:a.name},o):P("div",{children:[P("span",{children:[o,":"]}),g("span",{children:s})]},o))},i))}),e==="usdaAPI"&&g("ul",{className:"nutrition-query__results__item__list","data-testid":"nutrition-query-response-usda-api-response",children:n.map((a,i)=>{const o=Object.entries(a);return g("li",{children:o.map(([s,l])=>s==="description"?g("strong",{children:a.description},s):P("div",{children:[P("span",{children:[s,":"]}),g("span",{children:l})]},s))},i)})})]}):null;const bu=()=>{const{chatGPTQuery:e,setChatGPTQuery:t,ninjaAPIQuery:r,setNinjaAPIQuery:n,USDAAPIQuery:a,setUSDAAPIQuery:i}=ce(),{control:o,handleSubmit:s}=ti({defaultValues:{chatGPTQuery:"",ninjaAPIQuery:"",USDAAPIQuery:""}});async function l(d){if(d.chatGPTQuery)try{t({...e,status:"loading"});const u=await Tr.queryChatGPT(d.chatGPTQuery);t({...e,status:"success",response:u})}catch(u){t({...e,status:"error",error:u instanceof Error?u.message:"An unknown error occurred."})}if(d.ninjaAPIQuery)try{n({...r,status:"loading"});const u=await Tr.queryNinja(d.ninjaAPIQuery);n({...r,status:"success",response:u})}catch(u){n({...r,status:"error",error:u instanceof Error?u.message:"An unknown error occurred."})}if(d.USDAAPIQuery)try{i({...a,status:"loading"});const u=await Tr.queryUSDA(d.USDAAPIQuery);i({...a,status:"success",response:u})}catch(u){i({...a,status:"error",error:u instanceof Error?u.message:"An unknown error occurred."})}}return P("section",{className:"nutrition-query","data-testid":"nutrition-query",children:[P("section",{className:"nutrition-query__desc",children:[g("p",{children:"This tab let's you query the APIs used by the app."}),P("ul",{children:[g("li",{children:"The first one is a chatbot that generates a response based on the input"}),g("li",{children:"The second one is a food database."}),g("li",{children:"The third one is a nutrition database."})]})]}),P("form",{className:"nutrition-query__form",autoComplete:"off","data-testid":"nutrition-query-form",children:[P("label",{htmlFor:"chatGPTQuery",children:[g("span",{children:"Chat GPT"}),g(mu,{})]}),g(lt,{name:"chatGPTQuery",control:o,render:({field:d})=>g("textarea",{id:"chatGPTQuery",...d})}),P("label",{htmlFor:"ninjaAPIQuery",children:[g("span",{children:"Ninja API"}),g(Wo,{})]}),g(lt,{name:"ninjaAPIQuery",control:o,render:({field:d})=>g("input",{id:"ninjaAPIQuery",...d})}),P("label",{htmlFor:"USDAAPIQuery",children:[g("span",{children:"USDA API"}),g(gu,{})]}),g(lt,{name:"USDAAPIQuery",control:o,render:({field:d})=>g("input",{id:"USDAAPIQuery",...d})}),g(q,{onClickFn:s(l),children:"query"})]}),P("div",{className:"nutrition-query__results",children:[e.status!=="idle"&&P("div",{className:"nutrition-query__results__item",children:[g("h1",{children:"Chat GPT Response:"}),g(Br,{queryState:e})]}),r.status!=="idle"&&P("div",{className:"nutrition-query__results__item",children:[g("h1",{children:"Ninja API Response:"}),g(Br,{queryState:r})]}),a.status!=="idle"&&P("div",{className:"nutrition-query__results__item",children:[g("h1",{children:"USDA API Response:"}),g(Br,{queryState:a})]})]})]})};const ga=[{name:"cup (250ml)",value:250},{name:"bottle (750ml)",value:750},{name:"1.5 Liter",value:1500}],yu=()=>{const{dailyData:e,updateDailyData:t,recommendedWaterIntake:r}=ce(),[n,a]=w.useState("");function i(s){a(s.name)}function o(){if(!e)return;const s=ga.find(u=>u.name===n);if(!s)return zr.error("Please select a value");const l=ie.getDefaultIntake();l.items[0].quantity=s.value,l.items[0].unit=cr.MILLILITER,l.items[0].name="water";const d=[...e.intakes,l];t({...e,intakes:d})}return P("section",{className:"water-edit","data-testid":"water-edit",children:[g("h2",{className:"water-edit__title",children:`Recommended water intake: ${r} ml`}),g("div",{className:"water-edit__btns-values-container",children:ga.map(s=>g(q,{className:qe("btn",{"btn-selected":n===s.name}),onClickFn:()=>i(s),children:s.name},s.value))}),g(q,{className:"water-edit__btn-save",onClickFn:o,children:"Save"})]})};function en(e,t){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},en(e,t)}function hi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,en(e,t)}var bi=O.createContext(null);function Iu(e){e()}var yi=Iu,Cu=function(t){return yi=t},Du=function(){return yi};function wu(){var e=Du(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=t;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=r={callback:a,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var ma={notify:function(){},get:function(){return[]}};function Ii(e,t){var r,n=ma;function a(c){return l(),n.subscribe(c)}function i(){n.notify()}function o(){u.onStateChange&&u.onStateChange()}function s(){return!!r}function l(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=wu())}function d(){r&&(r(),r=void 0,n.clear(),n=ma)}var u={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:s,trySubscribe:l,tryUnsubscribe:d,getListeners:function(){return n}};return u}var Ci=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function xu(e){var t=e.store,r=e.context,n=e.children,a=w.useMemo(function(){var s=Ii(t);return{store:t,subscription:s}},[t]),i=w.useMemo(function(){return t.getState()},[t]);Ci(function(){var s=a.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),i!==t.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[a,i]);var o=r||bi;return O.createElement(o.Provider,{value:a},n)}var Di={exports:{}},U={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr=60103,hr=60106,yt=60107,It=60108,Ct=60114,Dt=60109,wt=60110,xt=60112,St=60113,mn=60120,Pt=60115,At=60116,wi=60121,xi=60122,Si=60117,Pi=60129,Ai=60131;if(typeof Symbol=="function"&&Symbol.for){var J=Symbol.for;mr=J("react.element"),hr=J("react.portal"),yt=J("react.fragment"),It=J("react.strict_mode"),Ct=J("react.profiler"),Dt=J("react.provider"),wt=J("react.context"),xt=J("react.forward_ref"),St=J("react.suspense"),mn=J("react.suspense_list"),Pt=J("react.memo"),At=J("react.lazy"),wi=J("react.block"),xi=J("react.server.block"),Si=J("react.fundamental"),Pi=J("react.debug_trace_mode"),Ai=J("react.legacy_hidden")}function he(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case mr:switch(e=e.type,e){case yt:case Ct:case It:case St:case mn:return e;default:switch(e=e&&e.$$typeof,e){case wt:case xt:case At:case Pt:case Dt:return e;default:return t}}case hr:return t}}}var Su=Dt,Pu=mr,Au=xt,Eu=yt,Ou=At,Ru=Pt,ku=hr,Nu=Ct,Tu=It,Bu=St;U.ContextConsumer=wt;U.ContextProvider=Su;U.Element=Pu;U.ForwardRef=Au;U.Fragment=Eu;U.Lazy=Ou;U.Memo=Ru;U.Portal=ku;U.Profiler=Nu;U.StrictMode=Tu;U.Suspense=Bu;U.isAsyncMode=function(){return!1};U.isConcurrentMode=function(){return!1};U.isContextConsumer=function(e){return he(e)===wt};U.isContextProvider=function(e){return he(e)===Dt};U.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===mr};U.isForwardRef=function(e){return he(e)===xt};U.isFragment=function(e){return he(e)===yt};U.isLazy=function(e){return he(e)===At};U.isMemo=function(e){return he(e)===Pt};U.isPortal=function(e){return he(e)===hr};U.isProfiler=function(e){return he(e)===Ct};U.isStrictMode=function(e){return he(e)===It};U.isSuspense=function(e){return he(e)===St};U.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yt||e===Ct||e===Pi||e===It||e===St||e===mn||e===Ai||typeof e=="object"&&e!==null&&(e.$$typeof===At||e.$$typeof===Pt||e.$$typeof===Dt||e.$$typeof===wt||e.$$typeof===xt||e.$$typeof===Si||e.$$typeof===wi||e[0]===xi)};U.typeOf=he;Di.exports=U;var Lu=Di.exports,Mu=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Fu=["reactReduxForwardedRef"],Gu=[],_u=[null,null];function $u(e,t){var r=e[1];return[t.payload,r+1]}function ha(e,t,r){Ci(function(){return e.apply(void 0,t)},r)}function Wu(e,t,r,n,a,i,o){e.current=n,t.current=a,r.current=!1,i.current&&(i.current=null,o())}function Uu(e,t,r,n,a,i,o,s,l,d){if(e){var u=!1,c=null,p=function(){if(!u){var m=t.getState(),h,b;try{h=n(m,a.current)}catch(I){b=I,c=I}b||(c=null),h===i.current?o.current||l():(i.current=h,s.current=h,o.current=!0,d({type:"STORE_UPDATED",payload:{error:b}}))}};r.onStateChange=p,r.trySubscribe(),p();var f=function(){if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,c)throw c};return f}}var ju=function(){return[null,0]};function qu(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,a=n===void 0?function(C){return"ConnectAdvanced("+C+")"}:n,i=r.methodName,o=i===void 0?"connectAdvanced":i,s=r.renderCountProp,l=s===void 0?void 0:s,d=r.shouldHandleStateChanges,u=d===void 0?!0:d,c=r.storeKey,p=c===void 0?"store":c;r.withRef;var f=r.forwardRef,v=f===void 0?!1:f,m=r.context,h=m===void 0?bi:m,b=Ht(r,Mu),I=h;return function(y){var x=y.displayName||y.name||"Component",D=a(x),R=T({},b,{getDisplayName:a,methodName:o,renderCountProp:l,shouldHandleStateChanges:u,storeKey:p,displayName:D,wrappedComponentName:x,WrappedComponent:y}),A=b.pure;function E(F){return e(F.dispatch,R)}var B=A?w.useMemo:function(F){return F()};function L(F){var z=w.useMemo(function(){var rt=F.reactReduxForwardedRef,Rr=Ht(F,Fu);return[F.context,rt,Rr]},[F]),K=z[0],k=z[1],M=z[2],G=w.useMemo(function(){return K&&K.Consumer&&Lu.isContextConsumer(O.createElement(K.Consumer,null))?K:I},[K,I]),_=w.useContext(G),H=!!F.store&&!!F.store.getState&&!!F.store.dispatch;_&&_.store;var Q=H?F.store:_.store,re=w.useMemo(function(){return E(Q)},[Q]),Rt=w.useMemo(function(){if(!u)return _u;var rt=Ii(Q,H?null:_.subscription),Rr=rt.notifyNestedSubs.bind(rt);return[rt,Rr]},[Q,H,_]),ye=Rt[0],kt=Rt[1],Nt=w.useMemo(function(){return H?_:T({},_,{subscription:ye})},[H,_,ye]),Tt=w.useReducer($u,Gu,ju),Sr=Tt[0],Fe=Sr[0],Pr=Tt[1];if(Fe&&Fe.error)throw Fe.error;var $n=w.useRef(),Ar=w.useRef(M),Bt=w.useRef(),Wn=w.useRef(!1),Er=B(function(){return Bt.current&&M===Ar.current?Bt.current:re(Q.getState(),M)},[Q,Fe,M]);ha(Wu,[Ar,$n,Wn,M,Er,Bt,kt]),ha(Uu,[u,Q,ye,re,Ar,$n,Wn,Bt,kt,Pr],[Q,ye,re]);var Or=w.useMemo(function(){return O.createElement(y,T({},Er,{ref:k}))},[k,y,Er]),Ro=w.useMemo(function(){return u?O.createElement(G.Provider,{value:Nt},Or):Or},[G,Or,Nt]);return Ro}var j=A?O.memo(L):L;if(j.WrappedComponent=y,j.displayName=L.displayName=D,v){var W=O.forwardRef(function(z,K){return O.createElement(j,T({},z,{reactReduxForwardedRef:K}))});return W.displayName=D,W.WrappedComponent=y,qn(W,y)}return qn(j,y)}}function ba(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Lr(e,t){if(ba(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!ba(e[r[a]],t[r[a]]))return!1;return!0}function Hu(e,t){var r={},n=function(o){var s=e[o];typeof s=="function"&&(r[o]=function(){return t(s.apply(void 0,arguments))})};for(var a in e)n(a);return r}function hn(e){return function(r,n){var a=e(r,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function ya(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function Ei(e,t){return function(n,a){a.displayName;var i=function(s,l){return i.dependsOnOwnProps?i.mapToProps(s,l):i.mapToProps(s)};return i.dependsOnOwnProps=!0,i.mapToProps=function(s,l){i.mapToProps=e,i.dependsOnOwnProps=ya(e);var d=i(s,l);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=ya(d),d=i(s,l)),d},i}}function Vu(e){return typeof e=="function"?Ei(e):void 0}function zu(e){return e?void 0:hn(function(t){return{dispatch:t}})}function Ku(e){return e&&typeof e=="object"?hn(function(t){return Hu(e,t)}):void 0}const Qu=[Vu,zu,Ku];function Yu(e){return typeof e=="function"?Ei(e):void 0}function Xu(e){return e?void 0:hn(function(){return{}})}const Zu=[Yu,Xu];function Ju(e,t,r){return T({},r,e,t)}function ed(e){return function(r,n){n.displayName;var a=n.pure,i=n.areMergedPropsEqual,o=!1,s;return function(d,u,c){var p=e(d,u,c);return o?(!a||!i(p,s))&&(s=p):(o=!0,s=p),s}}}function td(e){return typeof e=="function"?ed(e):void 0}function rd(e){return e?void 0:function(){return Ju}}const nd=[td,rd];var ad=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function id(e,t,r,n){return function(i,o){return r(e(i,o),t(n,o),o)}}function od(e,t,r,n,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,s=a.areStatePropsEqual,l=!1,d,u,c,p,f;function v(C,y){return d=C,u=y,c=e(d,u),p=t(n,u),f=r(c,p,u),l=!0,f}function m(){return c=e(d,u),t.dependsOnOwnProps&&(p=t(n,u)),f=r(c,p,u),f}function h(){return e.dependsOnOwnProps&&(c=e(d,u)),t.dependsOnOwnProps&&(p=t(n,u)),f=r(c,p,u),f}function b(){var C=e(d,u),y=!s(C,c);return c=C,y&&(f=r(c,p,u)),f}function I(C,y){var x=!o(y,u),D=!i(C,d,y,u);return d=C,u=y,x&&D?m():x?h():D?b():f}return function(y,x){return l?I(y,x):v(y,x)}}function sd(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,i=Ht(t,ad),o=r(e,i),s=n(e,i),l=a(e,i),d=i.pure?od:id;return d(o,s,l,e,i)}var ld=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Mr(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function cd(e,t){return e===t}function ud(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?qu:r,a=t.mapStateToPropsFactories,i=a===void 0?Zu:a,o=t.mapDispatchToPropsFactories,s=o===void 0?Qu:o,l=t.mergePropsFactories,d=l===void 0?nd:l,u=t.selectorFactory,c=u===void 0?sd:u;return function(f,v,m,h){h===void 0&&(h={});var b=h,I=b.pure,C=I===void 0?!0:I,y=b.areStatesEqual,x=y===void 0?cd:y,D=b.areOwnPropsEqual,R=D===void 0?Lr:D,A=b.areStatePropsEqual,E=A===void 0?Lr:A,B=b.areMergedPropsEqual,L=B===void 0?Lr:B,j=Ht(b,ld),W=Mr(f,i,"mapStateToProps"),F=Mr(v,s,"mapDispatchToProps"),z=Mr(m,d,"mergeProps");return n(c,T({methodName:"connect",getDisplayName:function(k){return"Connect("+k+")"},shouldHandleStateChanges:!!f,initMapStateToProps:W,initMapDispatchToProps:F,initMergeProps:z,pure:C,areStatesEqual:x,areOwnPropsEqual:R,areStatePropsEqual:E,areMergedPropsEqual:L},j))}}const Oi=ud();Cu(Ya.unstable_batchedUpdates);function dd(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Ri(e,t){var r=w.useState(function(){return{inputs:t,result:e()}})[0],n=w.useRef(!0),a=w.useRef(r),i=n.current||!!(t&&a.current.inputs&&dd(t,a.current.inputs)),o=i?a.current:{inputs:t,result:e()};return w.useEffect(function(){n.current=!1,a.current=o},[o]),o.result}function pd(e,t){return Ri(function(){return e},t)}var $=Ri,N=pd,fd=!0,Fr="Invariant failed";function vd(e,t){if(!e){if(fd)throw new Error(Fr);var r=typeof t=="function"?t():t,n=r?"".concat(Fr,": ").concat(r):Fr;throw new Error(n)}}var me=function(t){var r=t.top,n=t.right,a=t.bottom,i=t.left,o=n-i,s=a-r,l={top:r,right:n,bottom:a,left:i,width:o,height:s,x:i,y:r,center:{x:(n+i)/2,y:(a+r)/2}};return l},bn=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Ia=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},gd=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Gr={top:0,right:0,bottom:0,left:0},yn=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?Gr:n,i=t.border,o=i===void 0?Gr:i,s=t.padding,l=s===void 0?Gr:s,d=me(bn(r,a)),u=me(Ia(r,o)),c=me(Ia(u,l));return{marginBox:d,borderBox:me(r),paddingBox:u,contentBox:c,margin:a,border:o,padding:l}},ue=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&vd(!1),a},md=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Yt=function(t,r){var n=t.borderBox,a=t.border,i=t.margin,o=t.padding,s=gd(n,r);return yn({borderBox:s,border:a,margin:i,padding:o})},Xt=function(t,r){return r===void 0&&(r=md()),Yt(t,r)},ki=function(t,r){var n={top:ue(r.marginTop),right:ue(r.marginRight),bottom:ue(r.marginBottom),left:ue(r.marginLeft)},a={top:ue(r.paddingTop),right:ue(r.paddingRight),bottom:ue(r.paddingBottom),left:ue(r.paddingLeft)},i={top:ue(r.borderTopWidth),right:ue(r.borderRightWidth),bottom:ue(r.borderBottomWidth),left:ue(r.borderLeftWidth)};return yn({borderBox:t,margin:n,padding:a,border:i})},Ni=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return ki(r,n)},Ca=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function hd(e,t){return!!(e===t||Ca(e)&&Ca(t))}function bd(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!hd(e[r],t[r]))return!1;return!0}function X(e,t){t===void 0&&(t=bd);var r,n=[],a,i=!1;function o(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return i&&r===this&&t(s,n)||(a=e.apply(this,s),i=!0,r=this,n=s),a}return o}var yd=function(t){var r=[],n=null,a=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];r=s,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};const ft=yd;function Ti(e,t){}Ti.bind(null,"warn");Ti.bind(null,"error");function Ie(){}function Id(e,t){return T({},e,{},t)}function pe(e,t,r){var n=t.map(function(a){var i=Id(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(function(i){i()})}}var Cd="Invariant failed";function Zt(e){this.message=e}Zt.prototype.toString=function(){return this.message};function S(e,t){if(!e)throw new Zt(Cd)}var Dd=function(e){hi(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=Ie,n.onWindowError=function(s){var l=n.getCallbacks();l.isDragging()&&l.tryAbort();var d=s.error;d instanceof Zt&&s.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(s){n.callbacks=s},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=pe(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof Zt){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(O.Component),wd=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Jt=function(t){return t+1},xd=function(t){return`
  You have lifted an item in position `+Jt(t.source.index)+`
`},Bi=function(t,r){var n=t.droppableId===r.droppableId,a=Jt(t.index),i=Jt(r.index);return n?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},Li=function(t,r,n){var a=r.droppableId===n.droppableId;return a?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Sd=function(t){var r=t.destination;if(r)return Bi(t.source,r);var n=t.combine;return n?Li(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Da=function(t){return`
  The item has returned to its starting position
  of `+Jt(t.index)+`
`},Pd=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Da(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+Bi(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+Li(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Da(t.source)+`
  `},jt={dragHandleUsageInstructions:wd,onDragStart:xd,onDragUpdate:Sd,onDragEnd:Pd},Z={x:0,y:0},te=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},oe=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},Ce=function(t,r){return t.x===r.x&&t.y===r.y},Je=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Le=function(t,r,n){var a;return n===void 0&&(n=0),a={},a[t]=r,a[t==="x"?"y":"x"]=n,a},vt=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},wa=function(t,r){return Math.min.apply(Math,r.map(function(n){return vt(t,n)}))},Mi=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},Ad=function(e,t){var r=me({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},Et=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},xa=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},Ed={top:0,right:0,bottom:0,left:0},Od=function(t,r){return r?Et(t,r.scroll.diff.displacement):t},Rd=function(t,r,n){if(n&&n.increasedBy){var a;return T({},t,(a={},a[r.end]=t[r.end]+n.increasedBy[r.line],a))}return t},kd=function(t,r){return r&&r.shouldClipSubject?Ad(r.pageMarginBox,t):me(t)},Ke=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,a=e.frame,i=Od(t.marginBox,a),o=Rd(i,n,r),s=kd(o,a);return{page:t,withPlaceholder:r,active:s}},In=function(e,t){e.frame||S(!1);var r=e.frame,n=oe(t,r.scroll.initial),a=Je(n),i=T({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}}),o=Ke({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),s=T({},e,{frame:i,subject:o});return s};function er(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Cn(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Ae(e,t){if(e.find)return e.find(t);var r=Cn(e,t);if(r!==-1)return e[r]}function Fi(e){return Array.prototype.slice.call(e)}var Gi=X(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),_i=X(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),br=X(function(e){return er(e)}),Nd=X(function(e){return er(e)}),et=X(function(e,t){var r=Nd(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return r});function Dn(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function yr(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ir=X(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),Td=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var o=Dn(i);if(!o)return null;function s(m){var h={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return T({},i,{at:h})}var l=i.displaced.all,d=l.length?l[0]:null;if(t)return d?s(d):null;var u=Ir(r,a);if(!d){if(!u.length)return null;var c=u[u.length-1];return s(c.descriptor.id)}var p=Cn(u,function(m){return m.descriptor.id===d});p===-1&&S(!1);var f=p-1;if(f<0)return null;var v=u[f];return s(v.descriptor.id)},tt=function(e,t){return e.descriptor.droppableId===t.descriptor.id},$i={point:Z,value:0},gt={invisible:{},visible:{},all:[]},Bd={displaced:gt,displacedBy:$i,at:null},fe=function(e,t){return function(r){return e<=r&&r<=t}},Wi=function(e){var t=fe(e.top,e.bottom),r=fe(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(a)return!0;var i=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right),s=i&&o;if(s)return!0;var l=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right,u=l&&d;if(u)return!0;var c=l&&o||d&&i;return c}},Ld=function(e){var t=fe(e.top,e.bottom),r=fe(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return a}},wn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ui={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Md=function(e){return function(t){var r=fe(t.top,t.bottom),n=fe(t.left,t.right);return function(a){return e===wn?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)}}},Fd=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Z;return Et(t,n)},Gd=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},_d=function(t,r,n){return n(r)(t)},xn=function(t){var r=t.target,n=t.destination,a=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,s=i?Fd(r,n):r;return Gd(s,n,o)&&_d(s,a,o)},$d=function(t){return xn(T({},t,{isVisibleThroughFrameFn:Wi}))},ji=function(t){return xn(T({},t,{isVisibleThroughFrameFn:Ld}))},Wd=function(t){return xn(T({},t,{isVisibleThroughFrameFn:Md(t.destination.axis)}))},Ud=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var a=r.invisible,i=r.visible;if(a[t])return!1;var o=i[t];return o?o.shouldAnimate:!0};function jd(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return me(bn(r,n))}function mt(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(l,d){var u=jd(d,n),c=d.descriptor.id;l.all.push(c);var p=$d({target:u,destination:r,viewport:a,withDroppableDisplacement:!0});if(!p)return l.invisible[d.descriptor.id]=!0,l;var f=Ud(c,o,i),v={draggableId:c,shouldAnimate:f};return l.visible[c]=v,l},{all:[],visible:{},invisible:{}})}function qd(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Sa(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,a=e.destination,i=qd(t,{inHomeList:r});return{displaced:gt,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function tr(e){var t=e.draggable,r=e.insideDestination,n=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,s=e.index,l=e.forceShouldAnimate,d=tt(t,n);if(s==null)return Sa({insideDestination:r,inHomeList:d,displacedBy:i,destination:n});var u=Ae(r,function(m){return m.descriptor.index===s});if(!u)return Sa({insideDestination:r,inHomeList:d,displacedBy:i,destination:n});var c=Ir(t,r),p=r.indexOf(u),f=c.slice(p),v=mt({afterDragging:f,destination:n,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:l});return{displaced:v,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function we(e,t){return!!t.effected[e]}var Hd=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,a=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var o=a.draggableId,s=n[o],l=s.descriptor.index,d=we(o,i);return d?t?l:l-1:t?l+1:l},Vd=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var i=a.index,o=t?i+1:i-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index,d=r?l:l+1;return o<s||o>d?null:o},zd=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,s=e.previousImpact,l=e.viewport,d=e.afterCritical,u=s.at;if(u||S(!1),u.type==="REORDER"){var c=Vd({isMovingForward:t,isInHomeList:r,location:u.destination,insideDestination:o});return c==null?null:tr({draggable:n,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:c})}var p=Hd({isMovingForward:t,destination:i,displaced:s.displaced,draggables:a,combine:u.combine,afterCritical:d});return p==null?null:tr({draggable:n,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})},Kd=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,a=e.displacedBy,i=!!(t.visible[n]||t.invisible[n]);return we(n,r)?i?Z:Je(a.point):i?a.point:Z},Qd=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,a=yr(r);a||S(!1);var i=a.draggableId,o=n[i].page.borderBox.center,s=Kd({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return te(o,s)},qi=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},Yd=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Sn=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},Pa=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return Le(r.line,n.marginBox[r.end]+qi(r,a),Sn(r,n.marginBox,a))},Aa=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return Le(r.line,n.marginBox[r.start]-Yd(r,a),Sn(r,n.marginBox,a))},Xd=function(t){var r=t.axis,n=t.moveInto,a=t.isMoving;return Le(r.line,n.contentBox[r.start]+qi(r,a),Sn(r,n.contentBox,a))},Zd=function(e){var t=e.impact,r=e.draggable,n=e.draggables,a=e.droppable,i=e.afterCritical,o=et(a.descriptor.id,n),s=r.page,l=a.axis;if(!o.length)return Xd({axis:l,moveInto:a.page,isMoving:s});var d=t.displaced,u=t.displacedBy,c=d.all[0];if(c){var p=n[c];if(we(c,i))return Aa({axis:l,moveRelativeTo:p.page,isMoving:s});var f=Yt(p.page,u.point);return Aa({axis:l,moveRelativeTo:f,isMoving:s})}var v=o[o.length-1];if(v.descriptor.id===r.descriptor.id)return s.borderBox.center;if(we(v.descriptor.id,i)){var m=Yt(v.page,Je(i.displacedBy.point));return Pa({axis:l,moveRelativeTo:m,isMoving:s})}return Pa({axis:l,moveRelativeTo:v.page,isMoving:s})},tn=function(e,t){var r=e.frame;return r?te(t,r.scroll.diff.displacement):t},Jd=function(t){var r=t.impact,n=t.draggable,a=t.droppable,i=t.draggables,o=t.afterCritical,s=n.page.borderBox.center,l=r.at;return!a||!l?s:l.type==="REORDER"?Zd({impact:r,draggable:n,draggables:i,droppable:a,afterCritical:o}):Qd({impact:r,draggables:i,afterCritical:o})},Cr=function(e){var t=Jd(e),r=e.droppable,n=r?tn(r,t):t;return n},Hi=function(e,t){var r=oe(t,e.scroll.initial),n=Je(r),a=me({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function Ea(e,t){return e.map(function(r){return t[r]})}function ep(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var tp=function(e){var t=e.impact,r=e.viewport,n=e.destination,a=e.draggables,i=e.maxScrollChange,o=Hi(r,te(r.scroll.current,i)),s=n.frame?In(n,te(n.frame.scroll.current,i)):n,l=t.displaced,d=mt({afterDragging:Ea(l.all,a),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),u=mt({afterDragging:Ea(l.all,a),destination:s,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),c={},p={},f=[l,d,u];l.all.forEach(function(m){var h=ep(m,f);if(h){p[m]=h;return}c[m]=!0});var v=T({},t,{displaced:{all:l.all,invisible:c,visible:p}});return v},rp=function(e,t){return te(e.scroll.diff.displacement,t)},Pn=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,a=rp(n,t),i=oe(a,r.page.borderBox.center);return te(r.client.borderBox.center,i)},Vi=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,s=o===void 0?!1:o,l=oe(n,t.page.borderBox.center),d=Et(t.page.borderBox,l),u={target:d,destination:r,withDroppableDisplacement:i,viewport:a};return s?Wd(u):ji(u)},np=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,d=e.afterCritical;if(!n.isEnabled)return null;var u=et(n.descriptor.id,a),c=tt(r,n),p=Td({isMovingForward:t,draggable:r,destination:n,insideDestination:u,previousImpact:i})||zd({isMovingForward:t,isInHomeList:c,draggable:r,draggables:a,destination:n,insideDestination:u,previousImpact:i,viewport:o,afterCritical:d});if(!p)return null;var f=Cr({impact:p,draggable:r,droppable:n,draggables:a,afterCritical:d}),v=Vi({draggable:r,destination:n,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var m=Pn({pageBorderBoxCenter:f,draggable:r,viewport:o});return{clientSelection:m,impact:p,scrollJumpRequest:null}}var h=oe(f,s),b=tp({impact:p,viewport:o,destination:n,draggables:a,maxScrollChange:h});return{clientSelection:l,impact:b,scrollJumpRequest:h}},ne=function(t){var r=t.subject.active;return r||S(!1),r},ap=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,a=e.droppables,i=e.viewport,o=n.subject.active;if(!o)return null;var s=n.axis,l=fe(o[s.start],o[s.end]),d=br(a).filter(function(c){return c!==n}).filter(function(c){return c.isEnabled}).filter(function(c){return!!c.subject.active}).filter(function(c){return Wi(i.frame)(ne(c))}).filter(function(c){var p=ne(c);return t?o[s.crossAxisEnd]<p[s.crossAxisEnd]:p[s.crossAxisStart]<o[s.crossAxisStart]}).filter(function(c){var p=ne(c),f=fe(p[s.start],p[s.end]);return l(p[s.start])||l(p[s.end])||f(o[s.start])||f(o[s.end])}).sort(function(c,p){var f=ne(c)[s.crossAxisStart],v=ne(p)[s.crossAxisStart];return t?f-v:v-f}).filter(function(c,p,f){return ne(c)[s.crossAxisStart]===ne(f[0])[s.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var u=d.filter(function(c){var p=fe(ne(c)[s.start],ne(c)[s.end]);return p(r[s.line])});return u.length===1?u[0]:u.length>1?u.sort(function(c,p){return ne(c)[s.start]-ne(p)[s.start]})[0]:d.sort(function(c,p){var f=wa(r,xa(ne(c))),v=wa(r,xa(ne(p)));return f!==v?f-v:ne(c)[s.start]-ne(p)[s.start]})[0]},Oa=function(t,r){var n=t.page.borderBox.center;return we(t.descriptor.id,r)?oe(n,r.displacedBy.point):n},ip=function(t,r){var n=t.page.borderBox;return we(t.descriptor.id,r)?Et(n,Je(r.displacedBy.point)):n},op=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(s){return ji({target:ip(s,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(s,l){var d=vt(t,tn(n,Oa(s,i))),u=vt(t,tn(n,Oa(l,i)));return d<u?-1:u<d?1:s.descriptor.index-l.descriptor.index});return o[0]||null},Ot=X(function(t,r){var n=r[t.line];return{value:n,point:Le(t.line,n)}}),sp=function(t,r,n){var a=t.axis;if(t.descriptor.mode==="virtual")return Le(a.line,r[a.line]);var i=t.subject.page.contentBox[a.size],o=et(t.descriptor.id,n),s=o.reduce(function(u,c){return u+c.client.marginBox[a.size]},0),l=s+r[a.line],d=l-i;return d<=0?null:Le(a.line,d)},zi=function(t,r){return T({},t,{scroll:T({},t.scroll,{max:r})})},Ki=function(t,r,n){var a=t.frame;tt(r,t)&&S(!1),t.subject.withPlaceholder&&S(!1);var i=Ot(t.axis,r.displaceBy).point,o=sp(t,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var l=Ke({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return T({},t,{subject:l})}var d=o?te(a.scroll.max,o):a.scroll.max,u=zi(a,d),c=Ke({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:u});return T({},t,{subject:c,frame:u})},lp=function(t){var r=t.subject.withPlaceholder;r||S(!1);var n=t.frame;if(!n){var a=Ke({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return T({},t,{subject:a})}var i=r.oldFrameMaxScroll;i||S(!1);var o=zi(n,i),s=Ke({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return T({},t,{subject:s,frame:o})},cp=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,s=e.viewport,l=e.afterCritical;if(!r){if(n.length)return null;var d={displaced:gt,displacedBy:$i,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},u=Cr({impact:d,draggable:a,droppable:o,draggables:i,afterCritical:l}),c=tt(a,o)?o:Ki(o,a,i),p=Vi({draggable:a,destination:c,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?d:null}var f=t[o.axis.line]<=r.page.borderBox.center[o.axis.line],v=function(){var h=r.descriptor.index;return r.descriptor.id===a.descriptor.id||f?h:h+1}(),m=Ot(o.axis,a.displaceBy);return tr({draggable:a,insideDestination:n,destination:o,viewport:s,displacedBy:m,last:gt,index:v})},up=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,s=e.viewport,l=e.afterCritical,d=ap({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:o,viewport:s});if(!d)return null;var u=et(d.descriptor.id,i),c=op({pageBorderBoxCenter:r,viewport:s,destination:d,insideDestination:u,afterCritical:l}),p=cp({previousPageBorderBoxCenter:r,destination:d,draggable:n,draggables:i,moveRelativeTo:c,insideDestination:u,viewport:s,afterCritical:l});if(!p)return null;var f=Cr({impact:p,draggable:n,droppable:d,draggables:i,afterCritical:l}),v=Pn({pageBorderBoxCenter:f,draggable:n,viewport:s});return{clientSelection:v,impact:p,scrollJumpRequest:null}},se=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},dp=function(t,r){var n=se(t);return n?r[n]:null},pp=function(e){var t=e.state,r=e.type,n=dp(t.impact,t.dimensions.droppables),a=!!n,i=t.dimensions.droppables[t.critical.droppable.id],o=n||i,s=o.axis.direction,l=s==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||s==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(l&&!a)return null;var d=r==="MOVE_DOWN"||r==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],c=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,v=p.droppables;return l?np({isMovingForward:d,previousPageBorderBoxCenter:c,draggable:u,destination:o,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):up({isMovingForward:d,previousPageBorderBoxCenter:c,draggable:u,isOver:o,draggables:f,droppables:v,viewport:t.viewport,afterCritical:t.afterCritical})};function ke(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Qi(e){var t=fe(e.top,e.bottom),r=fe(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function fp(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function vp(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,a=r.page.borderBox.center,i=n.map(function(o){var s=o.axis,l=Le(o.axis.line,t.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:vt(a,l)}}).sort(function(o,s){return s.distance-o.distance});return i[0]?i[0].id:null}function gp(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,a=br(n).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!fp(t,o))return!1;if(Qi(o)(t.center))return!0;var s=i.axis,l=o.center[s.crossAxisLine],d=t[s.crossAxisStart],u=t[s.crossAxisEnd],c=fe(o[s.crossAxisStart],o[s.crossAxisEnd]),p=c(d),f=c(u);return!p&&!f?!0:p?d<l:u>l});return a.length?a.length===1?a[0].descriptor.id:vp({pageBorderBox:t,draggable:r,candidates:a}):null}var Yi=function(t,r){return me(Et(t,r))},mp=function(e,t){var r=e.frame;return r?Yi(t,r.scroll.diff.value):t};function Xi(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function hp(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var bp=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,s=e.afterCritical,l=n.axis,d=Ot(n.axis,r.displaceBy),u=d.value,c=t[l.start],p=t[l.end],f=Ir(r,a),v=Ae(f,function(h){var b=h.descriptor.id,I=h.page.borderBox.center[l.line],C=we(b,s),y=Xi({displaced:i,id:b});return C?y?p<=I:c<I-u:y?p<=I+u:c<I}),m=hp({draggable:r,closest:v,inHomeList:tt(r,n)});return tr({draggable:r,insideDestination:a,destination:n,viewport:o,last:i,displacedBy:d,index:m})},yp=4,Ip=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,l=Ot(a.axis,t.displaceBy),d=l.value,u=r[s.start],c=r[s.end],p=Ir(t,i),f=Ae(p,function(m){var h=m.descriptor.id,b=m.page.borderBox,I=b[s.size],C=I/yp,y=we(h,o),x=Xi({displaced:n.displaced,id:h});return y?x?c>b[s.start]+C&&c<b[s.end]-C:u>b[s.start]-d+C&&u<b[s.end]-d-C:x?c>b[s.start]+d+C&&c<b[s.end]+d-C:u>b[s.start]+C&&u<b[s.end]-C});if(!f)return null;var v={displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:a.descriptor.id}}};return v},Zi=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,s=e.afterCritical,l=Yi(r.page.borderBox,t),d=gp({pageBorderBox:l,draggable:r,droppables:a});if(!d)return Bd;var u=a[d],c=et(u.descriptor.id,n),p=mp(u,l);return Ip({pageBorderBoxWithDroppableScroll:p,draggable:r,previousImpact:i,destination:u,insideDestination:c,afterCritical:s})||bp({pageBorderBoxWithDroppableScroll:p,draggable:r,destination:u,insideDestination:c,last:i.displaced,viewport:o,afterCritical:s})},An=function(e,t){var r;return T({},e,(r={},r[t.descriptor.id]=t,r))},Cp=function(t){var r=t.previousImpact,n=t.impact,a=t.droppables,i=se(r),o=se(n);if(!i||i===o)return a;var s=a[i];if(!s.subject.withPlaceholder)return a;var l=lp(s);return An(a,l)},Dp=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,a=e.previousImpact,i=e.impact,o=Cp({previousImpact:a,impact:i,droppables:n}),s=se(i);if(!s)return o;var l=n[s];if(tt(t,l)||l.subject.withPlaceholder)return o;var d=Ki(l,t,r);return An(o,d)},dt=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,s=a||t.viewport,l=n||t.dimensions,d=r||t.current.client.selection,u=oe(d,t.initial.client.selection),c={offset:u,selection:d,borderBoxCenter:te(t.initial.client.borderBoxCenter,u)},p={selection:te(c.selection,s.scroll.current),borderBoxCenter:te(c.borderBoxCenter,s.scroll.current),offset:te(c.offset,s.scroll.diff.value)},f={client:c,page:p};if(t.phase==="COLLECTING")return T({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:f});var v=l.draggables[t.critical.draggable.id],m=i||Zi({pageOffset:p.offset,draggable:v,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),h=Dp({draggable:v,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables}),b=T({},t,{current:f,dimensions:{draggables:l.draggables,droppables:h},impact:m,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return b};function wp(e,t){return e.map(function(r){return t[r]})}var Ji=function(e){var t=e.impact,r=e.viewport,n=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,s=wp(o.all,n),l=mt({afterDragging:s,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:o});return T({},t,{displaced:l})},eo=function(e){var t=e.impact,r=e.draggable,n=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,s=Cr({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:o});return Pn({pageBorderBoxCenter:s,draggable:r,viewport:i})},to=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&S(!1);var a=t.impact,i=n||t.viewport,o=r||t.dimensions,s=o.draggables,l=o.droppables,d=s[t.critical.draggable.id],u=se(a);u||S(!1);var c=l[u],p=Ji({impact:a,viewport:i,destination:c,draggables:s}),f=eo({impact:p,draggable:d,droppable:c,draggables:s,viewport:i,afterCritical:t.afterCritical});return dt({impact:p,clientSelection:f,state:t,dimensions:o,viewport:i})},xp=function(e){return{index:e.index,droppableId:e.droppableId}},ro=function(e){var t=e.draggable,r=e.home,n=e.draggables,a=e.viewport,i=Ot(r.axis,t.displaceBy),o=et(r.descriptor.id,n),s=o.indexOf(t);s===-1&&S(!1);var l=o.slice(s+1),d=l.reduce(function(f,v){return f[v.descriptor.id]=!0,f},{}),u={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:d},c=mt({afterDragging:l,destination:r,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),p={displaced:c,displacedBy:i,at:{type:"REORDER",destination:xp(t.descriptor)}};return{impact:p,afterCritical:u}},Sp=function(e,t){return{draggables:e.draggables,droppables:An(e.droppables,t)}},Pp=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,a=Yt(t.client,r),i=Xt(a,n),o=T({},t,{placeholder:T({},t.placeholder,{client:a}),client:a,page:i});return o},Ap=function(e){var t=e.frame;return t||S(!1),t},Ep=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return t.map(function(i){var o=i.descriptor.droppableId,s=r[o],l=Ap(s),d=l.scroll.diff.value,u=te(a,d),c=Pp({draggable:i,offset:u,initialWindowScroll:n.scroll.initial});return c})},Op=function(e){var t=e.state,r=e.published,n=r.modified.map(function(C){var y=t.dimensions.droppables[C.droppableId],x=In(y,C.scroll);return x}),a=T({},t.dimensions.droppables,{},Gi(n)),i=_i(Ep({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),o=T({},t.dimensions.draggables,{},i);r.removals.forEach(function(C){delete o[C]});var s={droppables:a,draggables:o},l=se(t.impact),d=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],c=s.droppables[t.critical.droppable.id],p=ro({draggable:u,home:c,draggables:o,viewport:t.viewport}),f=p.impact,v=p.afterCritical,m=d&&d.isCombineEnabled?t.impact:f,h=Zi({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:v}),b=T({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:h,onLiftImpact:f,dimensions:s,afterCritical:v,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return b;var I=T({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return I},rn=function(t){return t.movementMode==="SNAP"},_r=function(t,r,n){var a=Sp(t.dimensions,r);return!rn(t)||n?dt({state:t,dimensions:a}):to({state:t,dimensions:a})};function $r(e){return e.isDragging&&e.movementMode==="SNAP"?T({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Ra={phase:"IDLE",completed:null,shouldFlush:!1},Rp=function(e,t){if(e===void 0&&(e=Ra),t.type==="FLUSH")return T({},Ra,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&S(!1);var r=t.payload,n=r.critical,a=r.clientSelection,i=r.viewport,o=r.dimensions,s=r.movementMode,l=o.draggables[n.draggable.id],d=o.droppables[n.droppable.id],u={selection:a,borderBoxCenter:l.client.borderBox.center,offset:Z},c={client:u,page:{selection:te(u.selection,i.scroll.initial),borderBoxCenter:te(u.selection,i.scroll.initial),offset:te(u.selection,i.scroll.diff.value)}},p=br(o.droppables).every(function(Pr){return!Pr.isFixedOnPage}),f=ro({draggable:l,home:d,draggables:o.draggables,viewport:i}),v=f.impact,m=f.afterCritical,h={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:c,current:c,isWindowScrollAllowed:p,impact:v,afterCritical:m,onLiftImpact:v,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return h}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&S(!1);var b=T({phase:"COLLECTING"},e,{phase:"COLLECTING"});return b}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||S(!1),Op({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ke(e)||S(!1);var I=t.payload.client;return Ce(I,e.current.client.selection)?e:dt({state:e,clientSelection:I,impact:rn(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return $r(e);ke(e)||S(!1);var C=t.payload,y=C.id,x=C.newScroll,D=e.dimensions.droppables[y];if(!D)return e;var R=In(D,x);return _r(e,R,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ke(e)||S(!1);var A=t.payload,E=A.id,B=A.isEnabled,L=e.dimensions.droppables[E];L||S(!1),L.isEnabled===B&&S(!1);var j=T({},L,{isEnabled:B});return _r(e,j,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ke(e)||S(!1);var W=t.payload,F=W.id,z=W.isCombineEnabled,K=e.dimensions.droppables[F];K||S(!1),K.isCombineEnabled===z&&S(!1);var k=T({},K,{isCombineEnabled:z});return _r(e,k,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ke(e)||S(!1),e.isWindowScrollAllowed||S(!1);var M=t.payload.newScroll;if(Ce(e.viewport.scroll.current,M))return $r(e);var G=Hi(e.viewport,M);return rn(e)?to({state:e,viewport:G}):dt({state:e,viewport:G})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ke(e))return e;var _=t.payload.maxScroll;if(Ce(_,e.viewport.scroll.max))return e;var H=T({},e.viewport,{scroll:T({},e.viewport.scroll,{max:_})});return T({phase:"DRAGGING"},e,{viewport:H})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&S(!1);var Q=pp({state:e,type:t.type});return Q?dt({state:e,impact:Q.impact,clientSelection:Q.clientSelection,scrollJumpRequest:Q.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var re=t.payload.reason;e.phase!=="COLLECTING"&&S(!1);var Rt=T({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:re});return Rt}if(t.type==="DROP_ANIMATE"){var ye=t.payload,kt=ye.completed,Nt=ye.dropDuration,Tt=ye.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||S(!1);var Sr={phase:"DROP_ANIMATING",completed:kt,dropDuration:Nt,newHomeClientOffset:Tt,dimensions:e.dimensions};return Sr}if(t.type==="DROP_COMPLETE"){var Fe=t.payload.completed;return{phase:"IDLE",completed:Fe,shouldFlush:!1}}return e},kp=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},Np=function(t){return{type:"LIFT",payload:t}},Tp=function(t){return{type:"INITIAL_PUBLISH",payload:t}},Bp=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},Lp=function(){return{type:"COLLECTION_STARTING",payload:null}},Mp=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Fp=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Gp=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},no=function(t){return{type:"MOVE",payload:t}},_p=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},$p=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Wp=function(){return{type:"MOVE_UP",payload:null}},Up=function(){return{type:"MOVE_DOWN",payload:null}},jp=function(){return{type:"MOVE_RIGHT",payload:null}},qp=function(){return{type:"MOVE_LEFT",payload:null}},En=function(){return{type:"FLUSH",payload:null}},Hp=function(t){return{type:"DROP_ANIMATE",payload:t}},On=function(t){return{type:"DROP_COMPLETE",payload:t}},ao=function(t){return{type:"DROP",payload:t}},Vp=function(t){return{type:"DROP_PENDING",payload:t}},io=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},zp=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,s=o.id,l=o.clientSelection,d=o.movementMode,u=r();u.phase==="DROP_ANIMATING"&&n(On({completed:u.completed})),r().phase!=="IDLE"&&S(!1),n(En()),n(kp({draggableId:s,movementMode:d}));var c={shouldPublishImmediately:d==="SNAP"},p={draggableId:s,scrollOptions:c},f=e.startPublishing(p),v=f.critical,m=f.dimensions,h=f.viewport;n(Tp({critical:v,dimensions:m,clientSelection:l,movementMode:d,viewport:h}))}}}},Kp=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Rn={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ht={opacity:{drop:0,combining:.7},scale:{drop:.75}},kn={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Re=kn.outOfTheWay+"s "+Rn.outOfTheWay,pt={fluid:"opacity "+Re,snap:"transform "+Re+", opacity "+Re,drop:function(t){var r=t+"s "+Rn.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Re,placeholder:"height "+Re+", width "+Re+", margin "+Re},ka=function(t){return Ce(t,Z)?null:"translate("+t.x+"px, "+t.y+"px)"},nn={moveTo:ka,drop:function(t,r){var n=ka(t);return n?r?n+" scale("+ht.scale.drop+")":n:null}},an=kn.minDropTime,oo=kn.maxDropTime,Qp=oo-an,Na=1500,Yp=.6,Xp=function(e){var t=e.current,r=e.destination,n=e.reason,a=vt(t,r);if(a<=0)return an;if(a>=Na)return oo;var i=a/Na,o=an+Qp*i,s=n==="CANCEL"?o*Yp:o;return Number(s.toFixed(2))},Zp=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,a=e.viewport,i=e.afterCritical,o=n.draggables,s=n.droppables,l=se(t),d=l?s[l]:null,u=s[r.descriptor.droppableId],c=eo({impact:t,draggable:r,draggables:o,afterCritical:i,droppable:d||u,viewport:a}),p=oe(c,r.client.borderBox.center);return p},Jp=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!n.at||r!=="DROP"){var s=Ji({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var l=T({},n,{displaced:gt});return{impact:l,didDropInsideDroppable:!0}},ef=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var i=t(),o=a.payload.reason;if(i.phase==="COLLECTING"){r(Vp({reason:o}));return}if(i.phase!=="IDLE"){var s=i.phase==="DROP_PENDING"&&i.isWaiting;s&&S(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||S(!1);var l=i.critical,d=i.dimensions,u=d.draggables[i.critical.draggable.id],c=Jp({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=c.impact,f=c.didDropInsideDroppable,v=f?Dn(p):null,m=f?yr(p):null,h={index:l.draggable.index,droppableId:l.droppable.id},b={draggableId:u.descriptor.id,type:u.descriptor.type,source:h,reason:o,mode:i.movementMode,destination:v,combine:m},I=Zp({impact:p,draggable:u,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),C={critical:i.critical,afterCritical:i.afterCritical,result:b,impact:p},y=!Ce(i.current.client.offset,I)||!!b.combine;if(!y){r(On({completed:C}));return}var x=Xp({current:i.current.client.offset,destination:I,reason:o}),D={newHomeClientOffset:I,dropDuration:x,completed:C};r(Hp(D))}}}},so=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function tf(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function rf(e){var t=e.onWindowScroll;function r(){t(so())}var n=ft(r),a=tf(n),i=Ie;function o(){return i!==Ie}function s(){o()&&S(!1),i=pe(window,[a])}function l(){o()||S(!1),n.cancel(),i(),i=Ie}return{start:s,stop:l,isActive:o}}var nf=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},af=function(e){var t=rf({onWindowScroll:function(n){e.dispatch(_p({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&nf(n)&&t.stop(),r(n)}}},of=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),a=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return a.wasCalled=function(){return t},a},sf=function(){var e=[],t=function(i){var o=Cn(e,function(d){return d.timerId===i});o===-1&&S(!1);var s=e.splice(o,1),l=s[0];l.callback()},r=function(i){var o=setTimeout(function(){return t(o)}),s={timerId:o,callback:i};e.push(s)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},lf=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},cf=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},uf=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,a=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&a},at=function(t,r){r()},Ft=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Wr=function(t,r,n,a){if(!t){n(a(r));return}var i=of(n),o={announce:i};t(r,o),i.wasCalled()||n(a(r))},df=function(e,t){var r=sf(),n=null,a=function(p,f){n&&S(!1),at("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var m={draggableId:p,mode:f};v(m)}})},i=function(p,f){n&&S(!1),at("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(Ft(p,f))})},o=function(p,f){n&&S(!1);var v=Ft(p,f);n={mode:f,lastCritical:p,lastLocation:v.source,lastCombine:null},r.add(function(){at("onDragStart",function(){return Wr(e().onDragStart,v,t,jt.onDragStart)})})},s=function(p,f){var v=Dn(f),m=yr(f);n||S(!1);var h=!uf(p,n.lastCritical);h&&(n.lastCritical=p);var b=!lf(n.lastLocation,v);b&&(n.lastLocation=v);var I=!cf(n.lastCombine,m);if(I&&(n.lastCombine=m),!(!h&&!b&&!I)){var C=T({},Ft(p,n.mode),{combine:m,destination:v});r.add(function(){at("onDragUpdate",function(){return Wr(e().onDragUpdate,C,t,jt.onDragUpdate)})})}},l=function(){n||S(!1),r.flush()},d=function(p){n||S(!1),n=null,at("onDragEnd",function(){return Wr(e().onDragEnd,p,t,jt.onDragEnd)})},u=function(){if(n){var p=T({},Ft(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});d(p)}};return{beforeCapture:a,beforeStart:i,start:o,update:s,flush:l,drop:d,abort:u}},pf=function(e,t){var r=df(e,t);return function(n){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;r.beforeStart(o,i.payload.movementMode),a(i),r.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var s=i.payload.completed.result;r.flush(),a(i),r.drop(s);return}if(a(i),i.type==="FLUSH"){r.abort();return}var l=n.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}}}},ff=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&S(!1),e.dispatch(On({completed:n.completed}))}}},vf=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=e.getState();l.phase==="DROP_ANIMATING"&&e.dispatch(io())}};r=requestAnimationFrame(function(){r=null,t=pe(window,[o])})}}}},gf=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},mf=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},hf=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},bf=function(e){return function(t){return function(r){return function(n){if(hf(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var a=t.getState();a.phase!=="DRAGGING"&&S(!1),e.start(a);return}r(n),e.scroll(t.getState())}}}},yf=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(ao({reason:n.reason})))}}}},If=Ho,Cf=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return jo(Rp,If(qo(Kp(n),gf(t),zp(t),ef,ff,vf,yf,bf(o),af,mf(r),pf(a,i))))},Ur=function(){return{additions:{},removals:{},modified:{}}};function Df(e){var t=e.registry,r=e.callbacks,n=Ur(),a=null,i=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var u=n,c=u.additions,p=u.removals,f=u.modified,v=Object.keys(c).map(function(b){return t.draggable.getById(b).getDimension(Z)}).sort(function(b,I){return b.descriptor.index-I.descriptor.index}),m=Object.keys(f).map(function(b){var I=t.droppable.getById(b),C=I.callbacks.getScrollWhileDragging();return{droppableId:b,scroll:C}}),h={additions:v,removals:Object.keys(p),modified:m};n=Ur(),r.publish(h)}))},o=function(u){var c=u.descriptor.id;n.additions[c]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},s=function(u){var c=u.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},l=function(){a&&(cancelAnimationFrame(a),a=null,n=Ur())};return{add:o,remove:s,stop:l}}var lo=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,a=e.width,i=oe({x:r,y:t},{x:a,y:n}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},co=function(){var e=document.documentElement;return e||S(!1),e},uo=function(){var e=co(),t=lo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},wf=function(){var e=so(),t=uo(),r=e.y,n=e.x,a=co(),i=a.clientWidth,o=a.clientHeight,s=n+i,l=r+o,d=me({top:r,left:n,right:s,bottom:l}),u={frame:d,scroll:{initial:e,current:e,max:t,diff:{value:Z,displacement:Z}}};return u},xf=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,a=wf(),i=a.scroll.current,o=t.droppable,s=n.droppable.getAllByType(o.type).map(function(c){return c.callbacks.getDimensionAndWatchScroll(i,r)}),l=n.draggable.getAllByType(t.draggable.type).map(function(c){return c.getDimension(i)}),d={draggables:_i(l),droppables:Gi(s)},u={dimensions:d,critical:t,viewport:a};return u};function Ta(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var Sf=function(e,t){var r=null,n=Df({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(f,v){e.droppable.exists(f)||S(!1),r&&t.updateDroppableIsEnabled({id:f,isEnabled:v})},i=function(f,v){r&&(e.droppable.exists(f)||S(!1),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:v}))},o=function(f,v){r&&(e.droppable.exists(f)||S(!1),t.updateDroppableScroll({id:f,newScroll:v}))},s=function(f,v){r&&e.droppable.getById(f).callbacks.scroll(v)},l=function(){if(r){n.stop();var f=r.critical.droppable;e.droppable.getAllByType(f.type).forEach(function(v){return v.callbacks.dragStopped()}),r.unsubscribe(),r=null}},d=function(f){r||S(!1);var v=r.critical.draggable;f.type==="ADDITION"&&Ta(e,v,f.value)&&n.add(f.value),f.type==="REMOVAL"&&Ta(e,v,f.value)&&n.remove(f.value)},u=function(f){r&&S(!1);var v=e.draggable.getById(f.draggableId),m=e.droppable.getById(v.descriptor.droppableId),h={draggable:v.descriptor,droppable:m.descriptor},b=e.subscribe(d);return r={critical:h,unsubscribe:b},xf({critical:h,registry:e,scrollOptions:f.scrollOptions})},c={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:s,updateDroppableScroll:o,startPublishing:u,stopPublishing:l};return c},po=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},Pf=function(e){window.scrollBy(e.x,e.y)},Af=X(function(e){return br(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),Ef=function(t,r){var n=Ae(Af(r),function(a){return a.frame||S(!1),Qi(a.frame.pageMarginBox)(t)});return n},Of=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var a=n[r];return a.frame?a:null}var i=Ef(t,n);return i},De={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Rf=function(e,t){var r=e[t.size]*De.startFromPercentage,n=e[t.size]*De.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:n};return a},fo=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,a=r-t;if(a===0)return 0;var i=n-t,o=i/a;return o},Nn=1,kf=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return De.maxPixelScroll;if(e===t.startScrollingFrom)return Nn;var r=fo({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,a=De.maxPixelScroll*De.ease(n);return Math.ceil(a)},Ba=De.durationDampening.accelerateAt,La=De.durationDampening.stopDampeningAt,Nf=function(e,t){var r=t,n=La,a=Date.now(),i=a-r;if(i>=La)return e;if(i<Ba)return Nn;var o=fo({startOfRange:Ba,endOfRange:n,current:i}),s=e*De.ease(o);return Math.ceil(s)},Ma=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,i=kf(t,r);return i===0?0:a?Math.max(Nf(i,n),Nn):i},Fa=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=Rf(t,a),s=r[a.end]<r[a.start];return s?Ma({distanceToEdge:r[a.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i}):-1*Ma({distanceToEdge:r[a.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i})},Tf=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,a=r.height>t.height,i=r.width>t.width;return!i&&!a?n:i&&a?null:{x:i?0:n.x,y:a?0:n.y}},Bf=Mi(function(e){return e===0?0:e}),vo=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},s=Fa({container:r,distanceToEdges:o,dragStartTime:t,axis:wn,shouldUseTimeDampening:i}),l=Fa({container:r,distanceToEdges:o,dragStartTime:t,axis:Ui,shouldUseTimeDampening:i}),d=Bf({x:l,y:s});if(Ce(d,Z))return null;var u=Tf({container:r,subject:n,proposedScroll:d});return u?Ce(u,Z)?null:u:null},Lf=Mi(function(e){return e===0?0:e>0?1:-1}),Tn=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,a=t.change,i=te(r,a),o={x:e(i.x,n.x),y:e(i.y,n.y)};return Ce(o,Z)?null:o}}(),go=function(t){var r=t.max,n=t.current,a=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=Lf(a),s=Tn({max:i,current:n,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},Bn=function(t,r){return go({current:t.scroll.current,max:t.scroll.max,change:r})},Mf=function(t,r){if(!Bn(t,r))return null;var n=t.scroll.max,a=t.scroll.current;return Tn({current:a,max:n,change:r})},Ln=function(t,r){var n=t.frame;return n?go({current:n.scroll.current,max:n.scroll.max,change:r}):!1},Ff=function(t,r){var n=t.frame;return!n||!Ln(t,r)?null:Tn({current:n.scroll.current,max:n.scroll.max,change:r})},Gf=function(e){var t=e.viewport,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=vo({dragStartTime:a,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return o&&Bn(t,o)?o:null},_f=function(e){var t=e.droppable,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var s=vo({dragStartTime:a,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return s&&Ln(t,s)?s:null},Ga=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id],l=s.page.marginBox;if(t.isWindowScrollAllowed){var d=t.viewport,u=Gf({dragStartTime:r,viewport:d,subject:l,center:o,shouldUseTimeDampening:n});if(u){a(u);return}}var c=Of({center:o,destination:se(t.impact),droppables:t.dimensions.droppables});if(c){var p=_f({dragStartTime:r,droppable:c,subject:l,center:o,shouldUseTimeDampening:n});p&&i(c.descriptor.id,p)}},$f=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=ft(t),a=ft(r),i=null,o=function(u){i||S(!1);var c=i,p=c.shouldUseTimeDampening,f=c.dragStartTime;Ga({state:u,scrollWindow:n,scrollDroppable:a,dragStartTime:f,shouldUseTimeDampening:p})},s=function(u){i&&S(!1);var c=Date.now(),p=!1,f=function(){p=!0};Ga({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f}),i={dragStartTime:c,shouldUseTimeDampening:p},p&&o(u)},l=function(){i&&(n.cancel(),a.cancel(),i=null)};return{start:s,stop:l,scroll:o}},Wf=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,a=function(d,u){var c=te(d.current.client.selection,u);t({client:c})},i=function(d,u){if(!Ln(d,u))return u;var c=Ff(d,u);if(!c)return r(d.descriptor.id,u),null;var p=oe(u,c);r(d.descriptor.id,p);var f=oe(u,p);return f},o=function(d,u,c){if(!d||!Bn(u,c))return c;var p=Mf(u,c);if(!p)return n(c),null;var f=oe(c,p);n(f);var v=oe(c,f);return v},s=function(d){var u=d.scrollJumpRequest;if(u){var c=se(d.impact);c||S(!1);var p=i(d.dimensions.droppables[c],u);if(p){var f=d.viewport,v=o(d.isWindowScrollAllowed,f,p);v&&a(d,v)}}};return s},Uf=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,a=$f({scrollWindow:r,scrollDroppable:t}),i=Wf({move:n,scrollWindow:r,scrollDroppable:t}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){a.scroll(d);return}d.scrollJumpRequest&&i(d)}},s={scroll:o,start:a.start,stop:a.stop};return s},Qe="data-rbd",Ye=function(){var e=Qe+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),on=function(){var e=Qe+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),jf=function(){var e=Qe+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),_a={contextId:Qe+"-scroll-container-context-id"},qf=function(t){return function(r){return"["+r+'="'+t+'"]'}},it=function(t,r){return t.map(function(n){var a=n.styles[r];return a?n.selector+" { "+a+" }":""}).join(" ")},Hf="pointer-events: none;",Vf=function(e){var t=qf(e),r=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ye.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:Hf,dropAnimating:s}}}(),n=function(){var s=`
      transition: `+pt.outOfTheWay+`;
    `;return{selector:t(on.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),a={selector:t(jf.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,a,i];return{always:it(o,"always"),resting:it(o,"resting"),dragging:it(o,"dragging"),dropAnimating:it(o,"dropAnimating"),userCancel:it(o,"userCancel")}},le=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,jr=function(){var t=document.querySelector("head");return t||S(!1),t},$a=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function zf(e,t){var r=$(function(){return Vf(e)},[e]),n=w.useRef(null),a=w.useRef(null),i=N(X(function(c){var p=a.current;p||S(!1),p.textContent=c}),[]),o=N(function(c){var p=n.current;p||S(!1),p.textContent=c},[]);le(function(){!n.current&&!a.current||S(!1);var c=$a(t),p=$a(t);return n.current=c,a.current=p,c.setAttribute(Qe+"-always",e),p.setAttribute(Qe+"-dynamic",e),jr().appendChild(c),jr().appendChild(p),o(r.always),i(r.resting),function(){var f=function(m){var h=m.current;h||S(!1),jr().removeChild(h),m.current=null};f(n),f(a)}},[t,o,i,r.always,r.resting,e]);var s=N(function(){return i(r.dragging)},[i,r.dragging]),l=N(function(c){if(c==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),d=N(function(){a.current&&i(r.resting)},[i,r.resting]),u=$(function(){return{dragging:s,dropping:l,resting:d}},[s,l,d]);return u}var mo=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Dr(e){return e instanceof mo(e).HTMLElement}function Kf(e,t){var r="["+Ye.contextId+'="'+e+'"]',n=Fi(document.querySelectorAll(r));if(!n.length)return null;var a=Ae(n,function(i){return i.getAttribute(Ye.draggableId)===t});return!a||!Dr(a)?null:a}function Qf(e){var t=w.useRef({}),r=w.useRef(null),n=w.useRef(null),a=w.useRef(!1),i=N(function(p,f){var v={id:p,focus:f};return t.current[p]=v,function(){var h=t.current,b=h[p];b!==v&&delete h[p]}},[]),o=N(function(p){var f=Kf(e,p);f&&f!==document.activeElement&&f.focus()},[e]),s=N(function(p,f){r.current===p&&(r.current=f)},[]),l=N(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var p=r.current;p&&o(p)}))},[o]),d=N(function(p){r.current=null;var f=document.activeElement;f&&f.getAttribute(Ye.draggableId)===p&&(r.current=p)},[]);le(function(){return a.current=!0,function(){a.current=!1;var p=n.current;p&&cancelAnimationFrame(p)}},[]);var u=$(function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:l,tryShiftRecord:s}},[i,d,l,s]);return u}function Yf(){var e={draggables:{},droppables:{}},t=[];function r(c){return t.push(c),function(){var f=t.indexOf(c);f!==-1&&t.splice(f,1)}}function n(c){t.length&&t.forEach(function(p){return p(c)})}function a(c){return e.draggables[c]||null}function i(c){var p=a(c);return p||S(!1),p}var o={register:function(p){e.draggables[p.descriptor.id]=p,n({type:"ADDITION",value:p})},update:function(p,f){var v=e.draggables[f.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var f=p.descriptor.id,v=a(f);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[f],n({type:"REMOVAL",value:p}))},getById:i,findById:a,exists:function(p){return!!a(p)},getAllByType:function(p){return er(e.draggables).filter(function(f){return f.descriptor.type===p})}};function s(c){return e.droppables[c]||null}function l(c){var p=s(c);return p||S(!1),p}var d={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var f=s(p.descriptor.id);f&&p.uniqueId===f.uniqueId&&delete e.droppables[p.descriptor.id]},getById:l,findById:s,exists:function(p){return!!s(p)},getAllByType:function(p){return er(e.droppables).filter(function(f){return f.descriptor.type===p})}};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:r,clean:u}}function Xf(){var e=$(Yf,[]);return w.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Mn=O.createContext(null),rr=function(){var e=document.body;return e||S(!1),e},Zf={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Jf=function(t){return"rbd-announcement-"+t};function ev(e){var t=$(function(){return Jf(e)},[e]),r=w.useRef(null);w.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),T(i.style,Zf),rr().appendChild(i),function(){setTimeout(function(){var l=rr();l.contains(i)&&l.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=N(function(a){var i=r.current;if(i){i.textContent=a;return}},[]);return n}var tv=0,rv={separator:"::"};function Fn(e,t){return t===void 0&&(t=rv),$(function(){return""+e+t.separator+tv++},[t.separator,e])}function nv(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function av(e){var t=e.contextId,r=e.text,n=Fn("hidden-text",{separator:"-"}),a=$(function(){return nv({contextId:t,uniqueId:n})},[n,t]);return w.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=r,o.style.display="none",rr().appendChild(o),function(){var l=rr();l.contains(o)&&l.removeChild(o)}},[a,r]),a}var wr=O.createContext(null);function ho(e){var t=w.useRef(e);return w.useEffect(function(){t.current=e}),t}function iv(){var e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&S(!1);var s={abandon:o};return e=s,s}function a(){e||S(!1),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:i}}var ov=9,sv=13,Gn=27,bo=32,lv=33,cv=34,uv=35,dv=36,pv=37,fv=38,vv=39,gv=40,Gt,mv=(Gt={},Gt[sv]=!0,Gt[ov]=!0,Gt),yo=function(e){mv[e.keyCode]&&e.preventDefault()},xr=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=Ae(t,function(n){return"on"+n in document});return r||e}(),Io=0,Wa=5;function hv(e,t){return Math.abs(t.x-e.x)>=Wa||Math.abs(t.y-e.y)>=Wa}var Ua={type:"IDLE"};function bv(e){var t=e.cancel,r=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var s=o.button,l=o.clientX,d=o.clientY;if(s===Io){var u={x:l,y:d},c=n();if(c.type==="DRAGGING"){o.preventDefault(),c.actions.move(u);return}c.type!=="PENDING"&&S(!1);var p=c.point;if(hv(p,u)){o.preventDefault();var f=c.actions.fluidLift(u);a({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(o){var s=n();if(s.type!=="DRAGGING"){t();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var s=n();if(s.type==="PENDING"){t();return}if(o.keyCode===Gn){o.preventDefault(),t();return}yo(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var s=n();if(s.type==="IDLE"&&S(!1),s.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:xr,fn:t}]}function yv(e){var t=w.useRef(Ua),r=w.useRef(Ie),n=$(function(){return{eventName:"mousedown",fn:function(c){if(!c.defaultPrevented&&c.button===Io&&!(c.ctrlKey||c.metaKey||c.shiftKey||c.altKey)){var p=e.findClosestDraggableId(c);if(p){var f=e.tryGetLock(p,o,{sourceEvent:c});if(f){c.preventDefault();var v={x:c.clientX,y:c.clientY};r.current(),d(f,v)}}}}}},[e]),a=$(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(c){if(!c.defaultPrevented){var p=e.findClosestDraggableId(c);if(p){var f=e.findOptionsForDraggable(p);f&&(f.shouldRespectForcePress||e.canGetLock(p)&&c.preventDefault())}}}}},[e]),i=N(function(){var c={passive:!1,capture:!0};r.current=pe(window,[a,n],c)},[a,n]),o=N(function(){var u=t.current;u.type!=="IDLE"&&(t.current=Ua,r.current(),i())},[i]),s=N(function(){var u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),l=N(function(){var c={capture:!0,passive:!1},p=bv({cancel:s,completed:o,getPhase:function(){return t.current},setPhase:function(v){t.current=v}});r.current=pe(window,p,c)},[s,o]),d=N(function(c,p){t.current.type!=="IDLE"&&S(!1),t.current={type:"PENDING",point:p,actions:c},l()},[l]);le(function(){return i(),function(){r.current()}},[i])}var Ge;function Iv(){}var Cv=(Ge={},Ge[cv]=!0,Ge[lv]=!0,Ge[dv]=!0,Ge[uv]=!0,Ge);function Dv(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===Gn){i.preventDefault(),r();return}if(i.keyCode===bo){i.preventDefault(),n();return}if(i.keyCode===gv){i.preventDefault(),e.moveDown();return}if(i.keyCode===fv){i.preventDefault(),e.moveUp();return}if(i.keyCode===vv){i.preventDefault(),e.moveRight();return}if(i.keyCode===pv){i.preventDefault(),e.moveLeft();return}if(Cv[i.keyCode]){i.preventDefault();return}yo(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:xr,fn:r}]}function wv(e){var t=w.useRef(Iv),r=$(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==bo)return;var o=e.findClosestDraggableId(i);if(!o)return;var s=e.tryGetLock(o,u,{sourceEvent:i});if(!s)return;i.preventDefault();var l=!0,d=s.snapLift();t.current();function u(){l||S(!1),l=!1,t.current(),n()}t.current=pe(window,Dv(d,u),{capture:!0,passive:!1})}}},[e]),n=N(function(){var i={passive:!1,capture:!0};t.current=pe(window,[r],i)},[r]);le(function(){return n(),function(){t.current()}},[n])}var qr={type:"IDLE"},xv=120,Sv=.15;function Pv(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){t();return}a.keyCode===Gn&&a.preventDefault(),t()}},{eventName:xr,fn:t}]}function Av(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var s=i.touches[0],l=s.clientX,d=s.clientY,u={x:l,y:d};i.preventDefault(),o.actions.move(u)}},{eventName:"touchend",fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var o=n();o.type==="IDLE"&&S(!1);var s=i.touches[0];if(s){var l=s.force>=Sv;if(l){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&t();return}if(d){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:xr,fn:t}]}function Ev(e){var t=w.useRef(qr),r=w.useRef(Ie),n=N(function(){return t.current},[]),a=N(function(f){t.current=f},[]),i=$(function(){return{eventName:"touchstart",fn:function(f){if(!f.defaultPrevented){var v=e.findClosestDraggableId(f);if(v){var m=e.tryGetLock(v,s,{sourceEvent:f});if(m){var h=f.touches[0],b=h.clientX,I=h.clientY,C={x:b,y:I};r.current(),c(m,C)}}}}}},[e]),o=N(function(){var f={capture:!0,passive:!1};r.current=pe(window,[i],f)},[i]),s=N(function(){var p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),a(qr),r.current(),o())},[o,a]),l=N(function(){var p=t.current;s(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[s]),d=N(function(){var f={capture:!0,passive:!1},v={cancel:l,completed:s,getPhase:n},m=pe(window,Av(v),f),h=pe(window,Pv(v),f);r.current=function(){m(),h()}},[l,n,s]),u=N(function(){var f=n();f.type!=="PENDING"&&S(!1);var v=f.actions.fluidLift(f.point);a({type:"DRAGGING",actions:v,hasMoved:!1})},[n,a]),c=N(function(f,v){n().type!=="IDLE"&&S(!1);var m=setTimeout(u,xv);a({type:"PENDING",point:v,actions:f,longPressTimerId:m}),d()},[d,n,a,u]);le(function(){return o(),function(){r.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),a(qr))}},[n,o,a]),le(function(){var f=pe(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return f},[])}var Ov={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Co(e,t){if(t==null)return!1;var r=!!Ov[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Co(e,t.parentElement)}function Rv(e,t){var r=t.target;return Dr(r)?Co(e,r):!1}var kv=function(e){return me(e.getBoundingClientRect()).center};function Nv(e){return e instanceof mo(e).Element}var Tv=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=Ae(t,function(n){return n in Element.prototype});return r||e}();function Do(e,t){return e==null?null:e[Tv](t)?e:Do(e.parentElement,t)}function Bv(e,t){return e.closest?e.closest(t):Do(e,t)}function Lv(e){return"["+Ye.contextId+'="'+e+'"]'}function Mv(e,t){var r=t.target;if(!Nv(r))return null;var n=Lv(e),a=Bv(r,n);return!a||!Dr(a)?null:a}function Fv(e,t){var r=Mv(e,t);return r?r.getAttribute(Ye.draggableId):null}function Gv(e,t){var r="["+on.contextId+'="'+e+'"]',n=Fi(document.querySelectorAll(r)),a=Ae(n,function(i){return i.getAttribute(on.id)===t});return!a||!Dr(a)?null:a}function _v(e){e.preventDefault()}function _t(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function wo(e){var t=e.lockAPI,r=e.store,n=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(a);return!(!i||!i.options.isEnabled||!po(r.getState(),a))}function $v(e){var t=e.lockAPI,r=e.contextId,n=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,s=e.sourceEvent,l=wo({lockAPI:t,store:n,registry:a,draggableId:i});if(!l)return null;var d=a.draggable.getById(i),u=Gv(r,d.descriptor.id);if(!u||s&&!d.options.canDragInteractiveElements&&Rv(u,s))return null;var c=t.claim(o||Ie),p="PRE_DRAG";function f(){return d.options.shouldRespectForcePress}function v(){return t.isActive(c)}function m(D,R){_t({expected:D,phase:p,isLockActive:v,shouldWarn:!0})&&n.dispatch(R())}var h=m.bind(null,"DRAGGING");function b(D){function R(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(R(),p!=="PRE_DRAG"&&S(!1)),n.dispatch(Np(D.liftActionArgs)),p="DRAGGING";function A(E,B){if(B===void 0&&(B={shouldBlockNextClick:!1}),D.cleanup(),B.shouldBlockNextClick){var L=pe(window,[{eventName:"click",fn:_v,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(L)}R(),n.dispatch(ao({reason:E}))}return T({isActive:function(){return _t({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(B){return A("DROP",B)},cancel:function(B){return A("CANCEL",B)}},D.actions)}function I(D){var R=ft(function(E){h(function(){return no({client:E})})}),A=b({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:function(){return R.cancel()},actions:{move:R}});return T({},A,{move:R})}function C(){var D={moveUp:function(){return h(Wp)},moveRight:function(){return h(jp)},moveDown:function(){return h(Up)},moveLeft:function(){return h(qp)}};return b({liftActionArgs:{id:i,clientSelection:kv(u),movementMode:"SNAP"},cleanup:Ie,actions:D})}function y(){var D=_t({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0});D&&t.release()}var x={isActive:function(){return _t({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:I,snapLift:C,abort:y};return x}var Wv=[yv,wv,Ev];function Uv(e){var t=e.contextId,r=e.store,n=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?Wv:[],a||[]),s=w.useState(function(){return iv()})[0],l=N(function(I,C){I.isDragging&&!C.isDragging&&s.tryAbandon()},[s]);le(function(){var I=r.getState(),C=r.subscribe(function(){var y=r.getState();l(I,y),I=y});return C},[s,r,l]),le(function(){return s.tryAbandon},[s.tryAbandon]);for(var d=N(function(b){return wo({lockAPI:s,registry:n,store:r,draggableId:b})},[s,n,r]),u=N(function(b,I,C){return $v({lockAPI:s,registry:n,contextId:t,store:r,draggableId:b,forceSensorStop:I,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null})},[t,s,n,r]),c=N(function(b){return Fv(t,b)},[t]),p=N(function(b){var I=n.draggable.findById(b);return I?I.options:null},[n.draggable]),f=N(function(){s.isClaimed()&&(s.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(En()))},[s,r]),v=N(s.isClaimed,[s]),m=$(function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:c,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:v}},[d,u,c,p,f,v]),h=0;h<o.length;h++)o[h](m)}var jv=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function ot(e){return e.current||S(!1),e.current}function qv(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=w.useRef(null),s=ho(e),l=N(function(){return jv(s.current)},[s]),d=ev(t),u=av({contextId:t,text:i}),c=zf(t,a),p=N(function(E){ot(o).dispatch(E)},[]),f=$(function(){return Hn({publishWhileDragging:Bp,updateDroppableScroll:Mp,updateDroppableIsEnabled:Fp,updateDroppableIsCombineEnabled:Gp,collectionStarting:Lp},p)},[p]),v=Xf(),m=$(function(){return Sf(v,f)},[v,f]),h=$(function(){return Uf(T({scrollWindow:Pf,scrollDroppable:m.scrollDroppable},Hn({move:no},p)))},[m.scrollDroppable,p]),b=Qf(t),I=$(function(){return Cf({announce:d,autoScroller:h,dimensionMarshal:m,focusMarshal:b,getResponders:l,styleMarshal:c})},[d,h,m,b,l,c]);o.current=I;var C=N(function(){var E=ot(o),B=E.getState();B.phase!=="IDLE"&&E.dispatch(En())},[]),y=N(function(){var E=ot(o).getState();return E.isDragging||E.phase==="DROP_ANIMATING"},[]),x=$(function(){return{isDragging:y,tryAbort:C}},[y,C]);r(x);var D=N(function(E){return po(ot(o).getState(),E)},[]),R=N(function(){return ke(ot(o).getState())},[]),A=$(function(){return{marshal:m,focus:b,contextId:t,canLift:D,isMovementAllowed:R,dragHandleUsageInstructionsId:u,registry:v}},[t,m,u,b,D,R,v]);return Uv({contextId:t,store:I,registry:v,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(function(){return C},[C]),O.createElement(wr.Provider,{value:A},O.createElement(xu,{context:Mn,store:I},e.children))}var Hv=0;function Vv(){return $(function(){return""+Hv++},[])}function zv(e){var t=Vv(),r=e.dragHandleUsageInstructions||jt.dragHandleUsageInstructions;return O.createElement(Dd,null,function(n){return O.createElement(qv,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var xo=function(t){return function(r){return t===r}},Kv=xo("scroll"),Qv=xo("auto"),ja=function(t,r){return r(t.overflowX)||r(t.overflowY)},Yv=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return ja(n,Kv)||ja(n,Qv)},Xv=function(){return!1},Zv=function e(t){return t==null?null:t===document.body?Xv()?t:null:t===document.documentElement?null:Yv(t)?t:e(t.parentElement)},sn=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Jv=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},eg=function(e){var t=Zv(e),r=Jv(e);return{closestScrollable:t,isFixedOnPage:r}},tg=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,s=e.page,l=e.closest,d=function(){if(!l)return null;var f=l.scrollSize,v=l.client,m=lo({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:v,scrollSize:f,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:m,diff:{value:Z,displacement:Z}}}}(),u=i==="vertical"?wn:Ui,c=Ke({page:s,withPlaceholder:null,axis:u,frame:d}),p={descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:u,isEnabled:r,client:o,page:s,frame:d,subject:c};return p},rg=function(t,r){var n=Ni(t);if(!r||t!==r)return n;var a=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,o=a+r.scrollHeight,s=i+r.scrollWidth,l={top:a,right:s,bottom:o,left:i},d=bn(l,n.border),u=yn({borderBox:d,margin:n.margin,border:n.border,padding:n.padding});return u},ng=function(e){var t=e.ref,r=e.descriptor,n=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,d=n.closestScrollable,u=rg(t,d),c=Xt(u,a),p=function(){if(!d)return null;var v=Ni(d),m={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:v,page:Xt(v,a),scroll:sn(d),scrollSize:m,shouldClipSubject:l}}(),f=tg({descriptor:r,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:c,closest:p});return f},ag={passive:!1},ig={passive:!0},qa=function(e){return e.shouldPublishImmediately?ag:ig};function nr(e){var t=w.useContext(e);return t||S(!1),t}var $t=function(t){return t&&t.env.closestScrollable||null};function og(e){var t=w.useRef(null),r=nr(wr),n=Fn("droppable"),a=r.registry,i=r.marshal,o=ho(e),s=$(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=w.useRef(s),d=$(function(){return X(function(y,x){t.current||S(!1);var D={x:y,y:x};i.updateDroppableScroll(s.id,D)})},[s.id,i]),u=N(function(){var y=t.current;return!y||!y.env.closestScrollable?Z:sn(y.env.closestScrollable)},[]),c=N(function(){var y=u();d(y.x,y.y)},[u,d]),p=$(function(){return ft(c)},[c]),f=N(function(){var y=t.current,x=$t(y);y&&x||S(!1);var D=y.scrollOptions;if(D.shouldPublishImmediately){c();return}p()},[p,c]),v=N(function(y,x){t.current&&S(!1);var D=o.current,R=D.getDroppableRef();R||S(!1);var A=eg(R),E={ref:R,descriptor:s,env:A,scrollOptions:x};t.current=E;var B=ng({ref:R,descriptor:s,env:A,windowScroll:y,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),L=A.closestScrollable;return L&&(L.setAttribute(_a.contextId,r.contextId),L.addEventListener("scroll",f,qa(E.scrollOptions))),B},[r.contextId,s,f,o]),m=N(function(){var y=t.current,x=$t(y);return y&&x||S(!1),sn(x)},[]),h=N(function(){var y=t.current;y||S(!1);var x=$t(y);t.current=null,x&&(p.cancel(),x.removeAttribute(_a.contextId),x.removeEventListener("scroll",f,qa(y.scrollOptions)))},[f,p]),b=N(function(y){var x=t.current;x||S(!1);var D=$t(x);D||S(!1),D.scrollTop+=y.y,D.scrollLeft+=y.x},[]),I=$(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:m,dragStopped:h,scroll:b}},[h,v,m,b]),C=$(function(){return{uniqueId:n,descriptor:s,callbacks:I}},[I,s,n]);le(function(){return l.current=C.descriptor,a.droppable.register(C),function(){t.current&&h(),a.droppable.unregister(C)}},[I,s,h,C,i,a.droppable]),le(function(){t.current&&i.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),le(function(){t.current&&i.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Hr(){}var Ha={width:0,height:0,margin:Ed},sg=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate;return r||a==="close"?Ha:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},lg=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate,i=sg({isAnimatingOpenOnMount:r,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?pt.placeholder:null}};function cg(e){var t=w.useRef(null),r=N(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,s=w.useState(e.animate==="open"),l=s[0],d=s[1];w.useEffect(function(){return l?n!=="open"?(r(),d(!1),Hr):t.current?Hr:(t.current=setTimeout(function(){t.current=null,d(!1)}),r):Hr},[n,l,r]);var u=N(function(p){p.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),c=lg({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return O.createElement(e.placeholder.tagName,{style:c,"data-rbd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})}var ug=O.memo(cg),_n=O.createContext(null),dg=function(e){hi(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}(O.PureComponent),Va={dragging:5e3,dropAnimating:4500},pg=function(t,r){return r?pt.drop(r.duration):t?pt.snap:pt.fluid},fg=function(t,r){return t?r?ht.opacity.drop:ht.opacity.combining:null},vg=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function gg(e){var t=e.dimension,r=t.client,n=e.offset,a=e.combineWith,i=e.dropping,o=!!a,s=vg(e),l=!!i,d=l?nn.drop(n,o):nn.moveTo(n),u={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:pg(s,i),transform:d,opacity:fg(o,l),zIndex:l?Va.dropAnimating:Va.dragging,pointerEvents:"none"};return u}function mg(e){return{transform:nn.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function hg(e){return e.type==="DRAGGING"?gg(e):mg(e)}function bg(e,t,r){r===void 0&&(r=Z);var n=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=ki(a,n),o=Xt(i,r),s={client:i,tagName:t.tagName.toLowerCase(),display:n.display},l={x:i.marginBox.width,y:i.marginBox.height},d={descriptor:e,placeholder:s,displaceBy:l,client:i,page:o};return d}function yg(e){var t=Fn("draggable"),r=e.descriptor,n=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,s=e.isEnabled,l=$(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:s}},[i,s,o]),d=N(function(f){var v=a();return v||S(!1),bg(r,v,f)},[r,a]),u=$(function(){return{uniqueId:t,descriptor:r,options:l,getDimension:d}},[r,d,l,t]),c=w.useRef(u),p=w.useRef(!0);le(function(){return n.draggable.register(c.current),function(){return n.draggable.unregister(c.current)}},[n.draggable]),le(function(){if(p.current){p.current=!1;return}var f=c.current;c.current=u,n.draggable.update(u,f)},[u,n.draggable])}function Ig(e){e.preventDefault()}function Cg(e){var t=w.useRef(null),r=N(function(E){t.current=E},[]),n=N(function(){return t.current},[]),a=nr(wr),i=a.contextId,o=a.dragHandleUsageInstructionsId,s=a.registry,l=nr(_n),d=l.type,u=l.droppableId,c=$(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:u}},[e.draggableId,e.index,d,u]),p=e.children,f=e.draggableId,v=e.isEnabled,m=e.shouldRespectForcePress,h=e.canDragInteractiveElements,b=e.isClone,I=e.mapped,C=e.dropAnimationFinished;if(!b){var y=$(function(){return{descriptor:c,registry:s,getDraggableRef:n,canDragInteractiveElements:h,shouldRespectForcePress:m,isEnabled:v}},[c,s,n,h,m,v]);yg(y)}var x=$(function(){return v?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Ig}:null},[i,o,f,v]),D=N(function(E){I.type==="DRAGGING"&&I.dropping&&E.propertyName==="transform"&&C()},[C,I]),R=$(function(){var E=hg(I),B=I.type==="DRAGGING"&&I.dropping?D:null,L={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":f,style:E,onTransitionEnd:B},dragHandleProps:x};return L},[i,x,f,I,D,r]),A=$(function(){return{draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}},[c.droppableId,c.id,c.index,c.type]);return p(R,I.snapshot,A)}var So=function(e,t){return e===t},Po=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},Dg=function(t){return t.combine?t.combine.draggableId:null},wg=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function xg(){var e=X(function(a,i){return{x:a,y:i}}),t=X(function(a,i,o,s,l){return{isDragging:!0,isClone:i,isDropAnimating:!!l,dropAnimation:l,mode:a,draggingOver:o,combineWith:s,combineTargetFor:null}}),r=X(function(a,i,o,s,l,d,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:u,snapshot:t(i,s,l,d,null)}}}),n=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var s=i.current.client.offset,l=i.dimensions.draggables[o.draggableId],d=se(i.impact),u=wg(i.impact),c=i.forceShouldAnimate;return r(e(s.x,s.y),i.movementMode,l,o.isClone,d,u,c)}if(i.phase==="DROP_ANIMATING"){var p=i.completed;if(p.result.draggableId!==o.draggableId)return null;var f=o.isClone,v=i.dimensions.draggables[o.draggableId],m=p.result,h=m.mode,b=Po(m),I=Dg(m),C=i.dropDuration,y={duration:C,curve:Rn.drop,moveTo:i.newHomeClientOffset,opacity:I?ht.opacity.drop:null,scale:I?ht.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:v,dropping:y,draggingOver:b,combineWith:I,mode:h,forceShouldAnimate:null,snapshot:t(h,f,b,I,y)}}}return null};return n}function Ao(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Sg={mapped:{type:"SECONDARY",offset:Z,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Ao(null)}};function Pg(){var e=X(function(o,s){return{x:o,y:s}}),t=X(Ao),r=X(function(o,s,l){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:s,shouldAnimateDisplacement:l,snapshot:t(s)}}}),n=function(s){return s?r(Z,s,!0):null},a=function(s,l,d,u){var c=d.displaced.visible[s],p=!!(u.inVirtualList&&u.effected[s]),f=yr(d),v=f&&f.draggableId===s?l:null;if(!c){if(!p)return n(v);if(d.displaced.invisible[s])return null;var m=Je(u.displacedBy.point),h=e(m.x,m.y);return r(h,v,!0)}if(p)return n(v);var b=d.displacedBy.point,I=e(b.x,b.y);return r(I,v,c.shouldAnimate)},i=function(s,l){if(s.isDragging)return s.critical.draggable.id===l.draggableId?null:a(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var d=s.completed;return d.result.draggableId===l.draggableId?null:a(l.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return i}var Ag=function(){var t=xg(),r=Pg(),n=function(i,o){return t(i,o)||r(i,o)||Sg};return n},Eg={dropAnimationFinished:io},Og=Oi(Ag,Eg,null,{context:Mn,pure:!0,areStatePropsEqual:So})(Cg);function Eo(e){var t=nr(_n),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:O.createElement(Og,e)}function Rg(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return O.createElement(Eo,T({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function kg(e){var t=w.useContext(wr);t||S(!1);var r=t.contextId,n=t.isMovementAllowed,a=w.useRef(null),i=w.useRef(null),o=e.children,s=e.droppableId,l=e.type,d=e.mode,u=e.direction,c=e.ignoreContainerClipping,p=e.isDropDisabled,f=e.isCombineEnabled,v=e.snapshot,m=e.useClone,h=e.updateViewportMaxScroll,b=e.getContainerForClone,I=N(function(){return a.current},[]),C=N(function(L){a.current=L},[]);N(function(){return i.current},[]);var y=N(function(L){i.current=L},[]),x=N(function(){n()&&h({maxScroll:uo()})},[n,h]);og({droppableId:s,type:l,mode:d,direction:u,isDropDisabled:p,isCombineEnabled:f,ignoreContainerClipping:c,getDroppableRef:I});var D=O.createElement(dg,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(L){var j=L.onClose,W=L.data,F=L.animate;return O.createElement(ug,{placeholder:W,onClose:j,innerRef:y,animate:F,contextId:r,onTransitionEnd:x})}),R=$(function(){return{innerRef:C,placeholder:D,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":r}}},[r,s,D,C]),A=m?m.dragging.draggableId:null,E=$(function(){return{droppableId:s,type:l,isUsingCloneFor:A}},[s,A,l]);function B(){if(!m)return null;var L=m.dragging,j=m.render,W=O.createElement(Eo,{draggableId:L.draggableId,index:L.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(F,z){return j(F,z,L)});return Uo.createPortal(W,b())}return O.createElement(_n.Provider,{value:E},o(R,v),B())}var Vr=function(t,r){return t===r.droppable.type},za=function(t,r){return r.draggables[t.draggable.id]},Ng=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=T({},t,{shouldAnimatePlaceholder:!1}),n=X(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=X(function(o,s,l,d,u,c){var p=u.descriptor.id,f=u.descriptor.droppableId===o;if(f){var v=c?{render:c,dragging:n(u.descriptor)}:null,m={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:v}}if(!s)return r;if(!d)return t;var h={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}}),i=function(s,l){var d=l.droppableId,u=l.type,c=!l.isDropDisabled,p=l.renderClone;if(s.isDragging){var f=s.critical;if(!Vr(u,f))return r;var v=za(f,s.dimensions),m=se(s.impact)===d;return a(d,c,m,m,v,p)}if(s.phase==="DROP_ANIMATING"){var h=s.completed;if(!Vr(u,h.critical))return r;var b=za(h.critical,s.dimensions);return a(d,c,Po(h.result)===d,se(h.impact)===d,b,p)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var I=s.completed;if(!Vr(u,I.critical))return r;var C=se(I.impact)===d,y=!!(I.impact.at&&I.impact.at.type==="COMBINE"),x=I.critical.droppable.id===d;return C?y?t:r:x?t:r}return r};return i},Tg={updateViewportMaxScroll:$p};function Bg(){return document.body||S(!1),document.body}var Lg={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Bg},Oo=Oi(Ng,Tg,null,{context:Mn,pure:!0,areStatePropsEqual:So})(kg);Oo.defaultProps=Lg;const Mg=({children:e,...t})=>{const[r,n]=w.useState(!1);return w.useEffect(()=>{const a=requestAnimationFrame(()=>n(!0));return()=>{cancelAnimationFrame(a),n(!1)}},[]),r?g(Oo,{...t,children:e}):null};const Fg=()=>{const{favoriteIntakes:e,isErrorFavoriteIntakes:t,isLoadingFavoriteIntakes:r,isSuccessFavoriteIntakes:n,isEmptyFavoriteIntakes:a}=ce(),{updateFavoriteIntake:i}=ui(),[o,s]=w.useState(Ka(e));function l(c,p){return{background:c?"var(--color-warning)":"",transform:c?"rotate(7deg)":"",...p}}function d(c){if(!c.destination||!o)return;const f=((m,h,b)=>{const I=Array.from(m),[C]=I.splice(h,1);return I.splice(b,0,C),I})(o,c.source.index,c.destination.index);s(f);const v={...f[c.destination.index]};v.sortOrder=c.destination.index,i(v)}function u(c){const{value:p}=c.target;if(!e)return s(Ka(e));const f=e==null?void 0:e.filter(v=>v.name.toLowerCase().includes(p.toLowerCase())||v.items.some(m=>m.name.toLowerCase().includes(p.toLowerCase())));s(f)}return P("section",{className:"day-edit__favorite-intakes","data-testid":"day-edit-favorite-intakes",children:[g("input",{type:"text",className:"day-edit__favorite-intakes__input",autoComplete:"off",placeholder:"Search...",onChange:u}),r&&g(Se,{}),n&&!a&&g(zv,{onDragEnd:d,children:g(Mg,{droppableId:"droppable",children:c=>P("ul",{className:"list day-edit__favorite-intakes__list",...c.droppableProps,ref:c.innerRef,children:[o.map((p,f)=>g(Rg,{draggableId:p.id,index:f,children:(v,m)=>g("li",{ref:v.innerRef,...v.draggableProps,...v.dragHandleProps,style:l(m.isDragging,v.draggableProps.style),className:"day-edit__favorite-intakes__list__item",children:g(mi,{intake:p,isFavorite:!0})})},p.id)),c.placeholder]})})}),n&&a&&g(fs,{entityName:"favorite intake"}),t&&g(dn,{msg:"Couldn't get favorite intake. Please try again later."})]})};function Ka(e){return e?e==null?void 0:e.sort((t,r)=>t.sortOrder-r.sortOrder):[]}const Gg=()=>{const{dailyData:e,isLoading:t,isSuccess:r,isError:n,isLoadingUpdate:a,openedTab:i}=ce(),{backgroundColor:o}=un(),s=r&&e&&!a&&!t,l=t||a,d=i===Y.IntakeList||i===Y.UnRecordedIntakeList;return P("section",{className:"day-edit",style:{backgroundColor:o,border:`5px solid ${o}`},"data-testid":"day-edit",children:[l&&g(Se,{}),n&&g(dn,{}),s&&P(Xe,{children:[g(tu,{}),g(jl,{}),i===Y.WeightWaistInput&&g(du,{}),i===Y.IntakeEdit&&g(Ul,{}),i===Y.Workouts&&g(lr,{items:e.workouts,render:u=>g(ps,{workout:u,isDayEdit:!0},u.id)}),i===Y.FavoriteIntake&&g(Fg,{}),d&&g(uu,{}),i===Y.Query&&g(bu,{}),i===Y.Water&&g(yu,{})]})]})};const _g=()=>{const e=Vo();return P("div",{className:"login-signup-msg","data-testid":"login-signup-msg",children:[g("div",{className:"login-signup-msg-text-container",children:g("h1",{children:"Start Your Journey Now!"})}),g("div",{className:"login-signup-msg-btn-container",children:[{title:"Log in",className:"btn-login",path:"/login"},{title:"Sign up",className:"btn-signup",path:"/signup"}].map(r=>g("button",{className:r.className,onClick:()=>{e(r.path)},children:r.title},r.title))})]})};function $g(){const e=or(),{mutate:t,isLoading:r}=sr({mutationFn:zo.create,onSuccess:()=>{e.invalidateQueries(["today"])}});return{createDay:t,isLoading:r}}const Zg=()=>{const{loggedInUser:e}=ln(),{dailyData:t}=Qa(),{createDay:r,isLoading:n}=$g(),{backgroundColor:a}=un(),i=e&&!n,o=e&&t&&!Wg(t);gs({title:"Home / Kceli"});function s(){const l=new Date().toDateString();r({date:l})}return P("main",{className:"home","data-testid":"home-page",children:[!e&&g(_g,{}),i&&g(Al,{children:g(Gg,{})}),n&&g(Se,{}),o&&P(ae,{children:[g(ae.OpenBtn,{modalName:"create-day",children:g("button",{className:"home__btn","data-testid":"create-day-open-modal-btn",style:{backgroundColor:a},children:"start a new day"})}),P(ae.Window,{name:"create-day",className:"create-day-modal",children:[P("h2",{className:"create-day-modal__title",children:["Are you sure you want to start a new day? ",g("br",{})]}),g(ae.CloseBtn,{onClickFn:s,children:g("button",{className:"btn create-day-modal__btn","data-testid":"create-day-modal-btn",children:"start a new day"})}),g(ae.CloseBtn,{children:g("button",{className:"btn create-day-modal__btn",children:"cancel"})})]})]})]})};function Wg(e){const t=new Date().toDateString(),r=new Date(e.date).toDateString();return t===r}export{Zg as default};

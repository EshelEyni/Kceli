import{l as w,u as M,j as i,e as n,x as S}from"./index-d69445ec.js";import{u as q}from"./index.esm-752c5c93.js";import{B as x}from"./Button-cd24714a.js";const P={value:/^[a-zA-Z0-9]+$/,message:"Must contain only letters and numbers"},$={value:/^[a-zA-Z0-9 ]+$/,message:"Must contain only letters, numbers and spaces"},A={value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,message:"Must be a valid email"};function L(a){return`Please enter ${a}`}function N(a){return{value:a,message:`Must be at least ${a} characters`}}function C(a){return{value:a,message:`Must be at most ${a} characters`}}const F={lettersAndNumberPattern:P,lettersAndNumberPatternWithSpace:$,emailPattern:A,createRequiredValidationMsg:L,createMinLengthValidation:N,createMaxLengthValidation:C},{lettersAndNumberPattern:l,lettersAndNumberPatternWithSpace:z,emailPattern:Z,createRequiredValidationMsg:t,createMinLengthValidation:s,createMaxLengthValidation:o}=F,R=()=>{const a=w(),p=M(),{register:u,handleSubmit:f,setError:v,trigger:y,formState:{errors:d,isDirty:m,touchedFields:b}}=q(),c=async e=>{await y(e)},V=[{id:"username",type:"text",validation:{required:t("username"),minLength:s(3),maxLength:o(20),pattern:l},defaultValue:"eshel2"},{id:"fullname",type:"text",validation:{required:t("fullname"),minLength:s(3),pattern:z},defaultValue:"eshel eyni"},{id:"email",type:"text",validation:{required:t("email"),pattern:Z},defaultValue:"eshel2@email.com"},{id:"password",type:"password",validation:{required:t("password"),minLength:s(6),maxLength:o(20),pattern:l},defaultValue:"eshel123"},{id:"passwordConfirm",type:"password",validation:{required:t("passwordConfirm"),minLength:s(6),maxLength:o(20),pattern:l},defaultValue:"eshel123"},{id:"weight",type:"number",validation:{required:t("weight")},defaultValue:"120"},{id:"height",type:"number",validation:{required:t("height")},defaultValue:"182"},{id:"gender",type:"radio",validation:{required:t("gender")},options:["male","female"],defaultValue:"male"},{id:"birthdate",type:"date",validation:{required:t("birthdate")},defaultValue:"1992-01-09"}];return i("section",{className:"page signup-page",children:n("form",{onSubmit:f(async e=>{if(e.password!==e.passwordConfirm){v("passwordConfirm",{type:"manual",message:"Passwords do not match"});return}await p(S(e)),a("/home")}),children:[i("h1",{children:"Signup"}),V.map(e=>{var h,g;return n("div",{children:[i("label",{htmlFor:e.id,children:n("fieldset",{children:[i("legend",{children:e.id}),e.type==="radio"?(h=e.options)==null?void 0:h.map(r=>n("label",{children:[i("input",{...u(e.id,e.validation),type:e.type,value:r,defaultChecked:e.defaultValue===r,onBlur:()=>c(e.id)}),r]},r)):i("input",{id:e.id,...u(e.id,e.validation),type:e.type,autoComplete:"off",defaultValue:e.defaultValue,onBlur:()=>c(e.id)})]})}),(m||b[e.id])&&d[e.id]&&i("p",{children:(g=d[e.id])==null?void 0:g.message})]},e.id)}),i(x,{type:"submit",isDisabled:m&&Object.keys(d).length>0,children:"Signup"})]})})};export{R as default};

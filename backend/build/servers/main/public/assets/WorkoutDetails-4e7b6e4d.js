import{K as y,e as s,j as t,F as w,r as N,M as I,N as g,C as v,S as b}from"./index-92e94684.js";import{E as C}from"./ErrorMsg-183ceff9.js";import{L as f}from"./List-4e6c133c.js";import{B as h}from"./Button-4b3c095d.js";import{c as S}from"./index-1c6c6aec.js";const D=({item:e})=>{const{isWorkoutStarted:i,onStartItem:p,onCompleteAeorbicItem:a}=y(),d=e.isStarted&&!e.isCompleted,o=[{title:"name:",value:e.name},{title:"duration:",value:e.durationInMin},{title:"type:",value:e.type}];return s("section",{className:"workout-item-display",children:[t("div",{className:S("workout-item-display__info",{"full-width":!i}),children:o.map((c,n)=>s("div",{className:"workout-item-display__info__item",children:[t("h3",{children:c.title}),t("h4",{children:c.value})]},n))}),i&&s(w,{children:[!e.isStarted&&t(h,{className:"workout-item-display__btn",isDisabled:!i,onClickFn:()=>p(e),children:"start"}),d&&t(h,{className:"workout-item-display__btn",isDisabled:!i,onClickFn:()=>a(e),children:"complete"})]})]})};const F=()=>{const{currTime:e,isRunning:i,setIsRunning:p}=y(),[a,d]=N.useState(e*60),o=N.useRef(null),c=Math.floor(a/60).toString().padStart(2,"0"),n=Math.floor(a%60),l=(a%1*100).toFixed(0).padStart(2,"0");function k(){p(r=>!r)}return N.useEffect(()=>{const r=new Audio("/assets/sounds/SamsungRingtoneSoundEffect.mp3"),{current:u}=o;if(i){const _=setInterval(()=>{d(m=>m<=0?(r.play(),clearInterval(_),0):m-.01)},10);o.current=_}else u&&clearInterval(u);return()=>{u&&clearInterval(u)}},[i]),N.useEffect(()=>{d(e*60)},[e]),s("section",{className:"timer",children:[t("div",{className:"clock-wrapper",children:s("span",{children:[c,":",n<10?`0${n}`:n,".",l]})}),t("div",{className:"timer__controls",children:t(h,{className:"timer__controls__btn",onClickFn:k,children:i?t(I,{}):t(g,{})})})]})},$=({item:e})=>{const{isWorkoutStarted:i,onStartItem:p,onCompleteAnaerobicSet:a}=y(),d=v.calcDurationForAnaerobicItem(e),o=e.isStarted&&!e.isCompleted,c=[{title:"name:",value:e.name},{title:"duration:",value:d},{title:"type:",value:e.type},{title:"sets:",value:e.sets.length},{title:"reps:",value:e.reps},{title:"weight:",value:`${e.weight} ${e.weightUnit}`}];return s("section",{className:"workout-item-display",children:[t("div",{className:S("workout-item-display__info anaerobic",{"full-width":!i}),children:c.map((n,l)=>s("div",{className:"workout-item-display__info__item",children:[t("h3",{children:n.title}),t("h4",{children:n.value})]},l))}),i&&s(w,{children:[!e.isStarted&&t(h,{className:"workout-item-display__btn",isDisabled:!i,onClickFn:()=>p(e),children:"start"}),o&&t(f,{items:e.sets,isOrdered:!0,className:"workout-item-display__set-display__list",render:(n,l)=>{const r=e.sets.findIndex(u=>!u.isCompleted)===l;return s("li",{className:"workout-item-display__set-display",children:[t("div",{className:"workout-item-display__set-display__info",children:s("span",{children:["set ",l+1]})}),r&&t(h,{className:"workout-item-display__btn",isDisabled:!i,onClickFn:()=>a({item:e,setIdx:l}),children:"completed"})]},l)}})]})]})},W=({item:e})=>{const{isWorkoutStarted:i,onStartItem:p,onCompleteAnaerobicSet:a}=y(),d=v.calcDurationForSupersetItem(e),o=e.isStarted&&!e.isCompleted,c=[{title:"name:",value:e.name},{title:"duration:",value:d},{title:"type:",value:e.type}];return s("section",{className:"workout-item-display",children:[t("div",{className:S("workout-item-display__info",{"full-width":!i}),children:c.map((n,l)=>s("div",{className:"workout-item-display__info__item",children:[t("h3",{children:n.title}),t("h4",{children:n.value})]},l))}),i&&s(w,{children:[!e.isStarted&&t(h,{className:"workout-item-display__btn",isDisabled:!i,onClickFn:()=>p(e),children:"start"}),o&&t(f,{items:e.sets,isOrdered:!0,className:"workout-item-display__set-display__list",render:(n,l)=>{const r=e.sets.findIndex(u=>!u.isCompleted)===l;return s("li",{className:"workout-item-display__set-display supertest",children:[s("div",{className:"workout-item-display__set-display__info superset",children:[s("span",{className:"set-num",children:["set ",l+1]}),t("div",{className:"superset-grid",style:{gridTemplateRows:`repeat(${e.items.length}, auto)`},children:e.items.reduce((u,_,m)=>u.concat([t("span",{children:_.name},`supsersetGridName${m}`),t("span",{children:"-"},`supsersetGridDash1${m}`),s("span",{children:["reps: ",_.reps]},`supsersetGridReps${m}`),t("span",{children:"-"},`supsersetGridDash2${m}`),t("span",{children:`weight: ${_.weight} ${_.weightUnit}`},`supsersetGridWeight${m}`)]),[])})]}),r&&t(h,{className:"workout-item-display__btn",isDisabled:!i,onClickFn:()=>a({item:e,setIdx:l}),children:"completed"})]},l)}})]})]})},L=()=>{const{workout:e,isLoading:i,isSuccess:p,isError:a,duration:d,isWorkoutStarted:o,onStart:c}=y();if(i)return t(b,{});if(a)return t(C,{});if(!p||!e)return null;function n(r){switch(r.type){case"aerobic":return t(D,{item:r},r.id);case"anaerobic":return t($,{item:r},r.id);case"superset":return t(W,{item:r},r.id)}}const l=e.items.filter(r=>!r.isCompleted),k=e.items.filter(r=>r.isCompleted);return s("main",{className:"page workout-details",children:[s("section",{className:"workout-details__info",children:[s("div",{className:"workout-details__info__item",children:[t("h2",{children:"description:"}),s("h3",{children:[" ",e.description]})]}),s("div",{className:"workout-details__info__item",children:[t("h2",{children:"duration (in min): "}),t("h3",{children:d})]}),s("div",{className:"workout-details__info__item",children:[t("h2",{children:"type: "}),t("h3",{children:e.type})]}),"split"in e&&s("div",{className:"workout-details__info__item",children:[t("h2",{children:"split: "})," ",t("h3",{children:e.split})]})]}),!o&&s(w,{children:[t(h,{onClickFn:c,children:"Start"}),t(f,{items:e.items,className:"workout-details__list",render:n})]}),o&&s(w,{children:[t(F,{}),t(f,{items:l,className:"workout-details__list",render:n}),k.length>0&&s("div",{className:"workout-details__completed-list-container",children:[t("h2",{className:"workout-details__completed-list-container__title",children:"Completed Items:"}),t("hr",{className:"workout-details__completed-list-container__hr"}),t(f,{items:k,className:"workout-details__list",render:n})]})]})]})};export{L as default};

import{$ as O,r as S,q as Te,t as Le,v as Ce,j as y,S as ae,e as _,w as Pe,O as ke}from"./index-92e94684.js";import{E as Se}from"./ErrorMsg-183ceff9.js";import{B as $e}from"./Button-4b3c095d.js";import{c as oe}from"./index-1c6c6aec.js";import{F as ze,H as Ie,x as ne,I as Y,d as Q,f as V,q as X,u as Ne,D as He,s as Me,L as ie,C as Ge,A as Fe,n as K,o as Be,k as se,J as Ke,r as Ue,G as Ve,l as _e,K as ye,M as qe,z as Ye,N as Xe,E as Je,O as Qe}from"./generateCategoricalChart-777d1f9a.js";var le=function(e,r){return le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},le(e,r)};function Ze(e,r){le(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}function et(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)r.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(n[t[i]]=e[t[i]]);return n}var tt=function(e,r,n,t){switch(r){case"debounce":return Ie(e,n,t);case"throttle":return ze(e,n,t);default:return e}},ve=function(e){return typeof e=="function"},U=function(){return typeof window>"u"},ge=function(e){return e instanceof Element||e instanceof HTMLDocument},rt=function(e,r,n){return function(t){var i=t.width,a=t.height;e(function(o){return o.width===i&&o.height===a||o.width===i&&!n||o.height===a&&!r?o:{width:i,height:a}})}},nt=function(e){Ze(r,e);function r(n){var t=e.call(this,n)||this;t.cancelHandler=function(){t.resizeHandler&&t.resizeHandler.cancel&&(t.resizeHandler.cancel(),t.resizeHandler=null)},t.attachObserver=function(){var h=t.props,u=h.targetRef,f=h.observerOptions;if(!U()){u&&u.current&&(t.targetRef.current=u.current);var l=t.getElement();l&&(t.observableElement&&t.observableElement===l||(t.observableElement=l,t.resizeObserver.observe(l,f)))}},t.getElement=function(){var h=t.props,u=h.querySelector,f=h.targetDomEl;if(U())return null;if(u)return document.querySelector(u);if(f&&ge(f))return f;if(t.targetRef&&ge(t.targetRef.current))return t.targetRef.current;var l=Te.findDOMNode(t);if(!l)return null;var m=t.getRenderType();switch(m){case"renderProp":return l;case"childFunction":return l;case"child":return l;case"childArray":return l;default:return l.parentElement}},t.createResizeHandler=function(h){var u=t.props,f=u.handleWidth,l=f===void 0?!0:f,m=u.handleHeight,d=m===void 0?!0:m,p=u.onResize;if(!(!l&&!d)){var v=rt(function(g){return t.setState(g,function(){return p==null?void 0:p(t.state.width,t.state.height)})},l,d);h.forEach(function(g){var w=g&&g.contentRect||{},b=w.width,x=w.height,R=!t.skipOnMount&&!U();R&&v({width:b,height:x}),t.skipOnMount=!1})}},t.getRenderType=function(){var h=t.props,u=h.render,f=h.children;return ve(u)?"renderProp":ve(f)?"childFunction":S.isValidElement(f)?"child":Array.isArray(f)?"childArray":"parent"};var i=n.skipOnMount,a=n.refreshMode,o=n.refreshRate,s=o===void 0?1e3:o,c=n.refreshOptions;return t.state={width:void 0,height:void 0},t.skipOnMount=i,t.targetRef=S.createRef(),t.observableElement=null,U()||(t.resizeHandler=tt(t.createResizeHandler,a,s,c),t.resizeObserver=new window.ResizeObserver(t.resizeHandler)),t}return r.prototype.componentDidMount=function(){this.attachObserver()},r.prototype.componentDidUpdate=function(){this.attachObserver()},r.prototype.componentWillUnmount=function(){U()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},r.prototype.render=function(){var n=this.props,t=n.render,i=n.children,a=n.nodeType,o=a===void 0?"div":a,s=this.state,c=s.width,h=s.height,u={width:c,height:h,targetRef:this.targetRef},f=this.getRenderType();switch(f){case"renderProp":return t==null?void 0:t(u);case"childFunction":{var l=i;return l==null?void 0:l(u)}case"child":{var m=i;if(m.type&&typeof m.type=="string"){u.targetRef;var d=et(u,["targetRef"]);return S.cloneElement(m,d)}return S.cloneElement(m,u)}case"childArray":{var p=i;return p.map(function(v){return!!v&&S.cloneElement(v,u)})}default:return O.createElement(o,null)}},r}(S.PureComponent);function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},ce.apply(this,arguments)}function it(e,r){return lt(e)||st(e,r)||ot(e,r)||at()}function at(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ot(e,r){if(e){if(typeof e=="string")return be(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,r)}}function be(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function st(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var t,i,a,o,s=[],c=!0,h=!1;try{if(a=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(t=a.call(n)).done)&&(s.push(t.value),s.length!==r);c=!0);}catch(u){h=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return s}}function lt(e){if(Array.isArray(e))return e}var ct=S.forwardRef(function(e,r){var n=e.aspect,t=e.initialDimension,i=t===void 0?{width:-1,height:-1}:t,a=e.width,o=a===void 0?"100%":a,s=e.height,c=s===void 0?"100%":s,h=e.minWidth,u=h===void 0?0:h,f=e.minHeight,l=e.maxHeight,m=e.children,d=e.debounce,p=d===void 0?0:d,v=e.id,g=e.className,w=e.onResize,b=S.useState({containerWidth:i.width,containerHeight:i.height}),x=it(b,2),R=x[0],E=x[1],D=S.useRef(null);S.useImperativeHandle(r,function(){return D},[D]);var L=S.useCallback(function(){return D.current?{containerWidth:D.current.clientWidth,containerHeight:D.current.clientHeight}:null},[]),H=S.useCallback(function(){var j=L();if(j){var A=j.containerWidth,W=j.containerHeight;w&&w(A,W),E(function(P){var I=P.containerWidth,$=P.containerHeight;return A!==I||W!==$?{containerWidth:A,containerHeight:W}:P})}},[L,w]),k=S.useMemo(function(){var j=R.containerWidth,A=R.containerHeight;if(j<0||A<0)return null;ne(Y(o)||Y(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ne(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=Y(o)?j:o,P=Y(c)?A:c;return n&&n>0&&(W?P=W/n:P&&(W=P*n),l&&P>l&&(P=l)),ne(W>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,P,o,c,u,f,n),S.cloneElement(m,{width:W,height:P})},[n,m,c,l,f,u,R,o]);S.useEffect(function(){var j=L();j&&E(j)},[L]);var z={width:o,height:c,minWidth:u,minHeight:f,maxHeight:l};return O.createElement(nt,{handleWidth:!0,handleHeight:!0,onResize:H,targetRef:D,refreshMode:p>0?"debounce":void 0,refreshRate:p},O.createElement("div",ce({},v!=null?{id:"".concat(v)}:{},{className:oe("recharts-responsive-container",g),style:z,ref:D}),k))}),ut=["x1","y1","x2","y2","key"];function G(e){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},G(e)}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},ue.apply(this,arguments)}function ht(e,r){if(e==null)return{};var n=ft(e,r),t,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function ft(e,r){if(e==null)return{};var n={},t=Object.keys(e),i,a;for(a=0;a<t.length;a++)i=t[a],!(r.indexOf(i)>=0)&&(n[i]=e[i]);return n}function we(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,t)}return n}function J(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?we(Object(n),!0).forEach(function(t){pe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dt(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Oe(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,Ee(t.key),t)}}function pt(e,r,n){return r&&Oe(e.prototype,r),n&&Oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mt(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&he(e,r)}function he(e,r){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},he(e,r)}function yt(e){var r=bt();return function(){var t=Z(e),i;if(r){var a=Z(this).constructor;i=Reflect.construct(t,arguments,a)}else i=t.apply(this,arguments);return vt(this,i)}}function vt(e,r){if(r&&(G(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gt(e)}function gt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z(e)}function pe(e,r,n){return r=Ee(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ee(e){var r=wt(e,"string");return G(r)==="symbol"?r:String(r)}function wt(e,r){if(G(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(G(t)!=="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var me=function(e){mt(n,e);var r=yt(n);function n(){return dt(this,n),r.apply(this,arguments)}return pt(n,[{key:"renderHorizontal",value:function(i){var a=this,o=this.props,s=o.x,c=o.width,h=o.horizontal;if(!i||!i.length)return null;var u=i.map(function(f,l){var m=J(J({},a.props),{},{x1:s,y1:f,x2:s+c,y2:f,key:"line-".concat(l),index:l});return n.renderLineItem(h,m)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}},{key:"renderVertical",value:function(i){var a=this,o=this.props,s=o.y,c=o.height,h=o.vertical;if(!i||!i.length)return null;var u=i.map(function(f,l){var m=J(J({},a.props),{},{x1:f,y1:s,x2:f,y2:s+c,key:"line-".concat(l),index:l});return n.renderLineItem(h,m)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}},{key:"renderVerticalStripes",value:function(i){var a=this.props.verticalFill;if(!a||!a.length)return null;var o=this.props,s=o.fillOpacity,c=o.x,h=o.y,u=o.width,f=o.height,l=i.map(function(d){return Math.round(d+c-c)}).sort(function(d,p){return d-p});c!==l[0]&&l.unshift(0);var m=l.map(function(d,p){var v=!l[p+1],g=v?c+u-d:l[p+1]-d;if(g<=0)return null;var w=p%a.length;return O.createElement("rect",{key:"react-".concat(p),x:d,y:h,width:g,height:f,stroke:"none",fill:a[w],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}},{key:"renderHorizontalStripes",value:function(i){var a=this.props.horizontalFill;if(!a||!a.length)return null;var o=this.props,s=o.fillOpacity,c=o.x,h=o.y,u=o.width,f=o.height,l=i.map(function(d){return Math.round(d+h-h)}).sort(function(d,p){return d-p});h!==l[0]&&l.unshift(0);var m=l.map(function(d,p){var v=!l[p+1],g=v?h+f-d:l[p+1]-d;if(g<=0)return null;var w=p%a.length;return O.createElement("rect",{key:"react-".concat(p),y:d,x:c,height:g,width:u,stroke:"none",fill:a[w],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var a=this.props,o=a.fillOpacity,s=a.x,c=a.y,h=a.width,u=a.height;return O.createElement("rect",{x:s,y:c,width:h,height:u,stroke:"none",fill:i,fillOpacity:o,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,a=i.x,o=i.y,s=i.width,c=i.height,h=i.horizontal,u=i.vertical,f=i.horizontalCoordinatesGenerator,l=i.verticalCoordinatesGenerator,m=i.xAxis,d=i.yAxis,p=i.offset,v=i.chartWidth,g=i.chartHeight;if(!X(s)||s<=0||!X(c)||c<=0||!X(a)||a!==+a||!X(o)||o!==+o)return null;var w=this.props,b=w.horizontalPoints,x=w.verticalPoints;return(!b||!b.length)&&Q(f)&&(b=f({yAxis:d,width:v,height:g,offset:p})),(!x||!x.length)&&Q(l)&&(x=l({xAxis:m,width:v,height:g,offset:p})),O.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),h&&this.renderHorizontal(b),u&&this.renderVertical(x),h&&this.renderHorizontalStripes(b),u&&this.renderVerticalStripes(x))}}],[{key:"renderLineItem",value:function(i,a){var o;if(O.isValidElement(i))o=O.cloneElement(i,a);else if(Q(i))o=i(a);else{var s=a.x1,c=a.y1,h=a.x2,u=a.y2,f=a.key,l=ht(a,ut);o=O.createElement("line",ue({},V(l),{x1:s,y1:c,x2:h,y2:u,fill:"none",key:f}))}return o}}]),n}(S.PureComponent);pe(me,"displayName","CartesianGrid");pe(me,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var Ot=["type","layout","connectNulls","ref"];function F(e){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},F(e)}function xt(e,r){if(e==null)return{};var n=At(e,r),t,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function At(e,r){if(e==null)return{};var n={},t=Object.keys(e),i,a;for(a=0;a<t.length;a++)i=t[a],!(r.indexOf(i)>=0)&&(n[i]=e[i]);return n}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},q.apply(this,arguments)}function xe(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,t)}return n}function T(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?xe(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M(e){return Et(e)||_t(e)||St(e)||Pt()}function Pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(e,r){if(e){if(typeof e=="string")return fe(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,r)}}function _t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Et(e){if(Array.isArray(e))return fe(e)}function fe(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function Dt(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ae(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,De(t.key),t)}}function Rt(e,r,n){return r&&Ae(e.prototype,r),n&&Ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jt(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&de(e,r)}function de(e,r){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},de(e,r)}function Wt(e){var r=Lt();return function(){var t=ee(e),i;if(r){var a=ee(this).constructor;i=Reflect.construct(t,arguments,a)}else i=t.apply(this,arguments);return Tt(this,i)}}function Tt(e,r){if(r&&(F(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ee(e)}function C(e,r,n){return r=De(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function De(e){var r=Ct(e,"string");return F(r)==="symbol"?r:String(r)}function Ct(e,r){if(F(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(F(t)!=="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var B=function(e){jt(n,e);var r=Wt(n);function n(){var t;Dt(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=r.call.apply(r,[this].concat(a)),C(N(t),"state",{isAnimationFinished:!0,totalLength:0}),C(N(t),"getStrokeDasharray",function(s,c,h){for(var u=h.reduce(function(w,b){return w+b}),f=Math.floor(s/u),l=s%u,m=c-s,d=[],p=0,v=0;;v+=h[p],++p)if(v+h[p]>l){d=[].concat(M(h.slice(0,p)),[l-v]);break}var g=d.length%2===0?[0,m]:[m];return[].concat(M(n.repeat(h,f)),M(d),g).map(function(w){return"".concat(w,"px")}).join(", ")}),C(N(t),"id",Ne("recharts-line-")),C(N(t),"pathRef",function(s){t.mainCurve=s}),C(N(t),"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),C(N(t),"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return Rt(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,c=o.xAxis,h=o.yAxis,u=o.layout,f=o.children,l=Me(f,qe);if(!l)return null;var m=function(v,g){return{x:v.x,y:v.y,value:v.value,errorVal:_e(v.payload,g)}},d={clipPath:i?"url(#clipPath-".concat(a,")"):null};return O.createElement(ie,d,l.map(function(p,v){return O.cloneElement(p,{key:"bar-".concat(v),data:s,xAxis:c,yAxis:h,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(i,a,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var c=this.props,h=c.dot,u=c.points,f=c.dataKey,l=V(this.props),m=V(h,!0),d=u.map(function(v,g){var w=T(T(T({key:"dot-".concat(g),r:3},l),m),{},{value:v.value,dataKey:f,cx:v.x,cy:v.y,index:g,payload:v.payload});return n.renderDotItem(h,w)}),p={clipPath:i?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return O.createElement(ie,q({className:"recharts-line-dots",key:"dots"},p),d)}},{key:"renderCurveStatically",value:function(i,a,o,s){var c=this.props,h=c.type,u=c.layout,f=c.connectNulls;c.ref;var l=xt(c,Ot),m=T(T(T({},V(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:i},s),{},{type:h,layout:u,connectNulls:f});return O.createElement(Ge,q({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,a){var o=this,s=this.props,c=s.points,h=s.strokeDasharray,u=s.isAnimationActive,f=s.animationBegin,l=s.animationDuration,m=s.animationEasing,d=s.animationId,p=s.animateNewValues,v=s.width,g=s.height,w=this.state,b=w.prevPoints,x=w.totalLength;return O.createElement(Fe,{begin:f,duration:l,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(R){var E=R.t;if(b){var D=b.length/c.length,L=c.map(function(A,W){var P=Math.floor(W*D);if(b[P]){var I=b[P],$=K(I.x,A.x),Re=K(I.y,A.y);return T(T({},A),{},{x:$(E),y:Re(E)})}if(p){var je=K(v*2,A.x),We=K(g/2,A.y);return T(T({},A),{},{x:je(E),y:We(E)})}return T(T({},A),{},{x:A.x,y:A.y})});return o.renderCurveStatically(L,i,a)}var H=K(0,x),k=H(E),z;if(h){var j="".concat(h).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});z=o.getStrokeDasharray(k,x,j)}else z="".concat(k,"px ").concat(x-k,"px");return o.renderCurveStatically(c,i,a,{strokeDasharray:z})})}},{key:"renderCurve",value:function(i,a){var o=this.props,s=o.points,c=o.isAnimationActive,h=this.state,u=h.prevPoints,f=h.totalLength;return c&&s&&s.length&&(!u&&f>0||!Be(u,s))?this.renderCurveWithAnimation(i,a):this.renderCurveStatically(s,i,a)}},{key:"render",value:function(){var i,a=this.props,o=a.hide,s=a.dot,c=a.points,h=a.className,u=a.xAxis,f=a.yAxis,l=a.top,m=a.left,d=a.width,p=a.height,v=a.isAnimationActive,g=a.id;if(o||!c||!c.length)return null;var w=this.state.isAnimationFinished,b=c.length===1,x=oe("recharts-line",h),R=u&&u.allowDataOverflow,E=f&&f.allowDataOverflow,D=R||E,L=se(g)?this.id:g,H=(i=V(s))!==null&&i!==void 0?i:{r:3,strokeWidth:2},k=H.r,z=k===void 0?3:k,j=H.strokeWidth,A=j===void 0?2:j,W=Ke(s)?s:{},P=W.clipDot,I=P===void 0?!0:P,$=z*2+A;return O.createElement(ie,{className:x},R||E?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(L)},O.createElement("rect",{x:R?m:m-d/2,y:E?l:l-p/2,width:R?d:d*2,height:E?p:p*2})),!I&&O.createElement("clipPath",{id:"clipPath-dots-".concat(L)},O.createElement("rect",{x:m-$/2,y:l-$/2,width:d+$,height:p+$}))):null,!b&&this.renderCurve(D,L),this.renderErrorBar(D,L),(b||s)&&this.renderDots(D,I,L),(!v||w)&&Ue.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:a.curPoints}:i.points!==a.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,a){for(var o=i.length%2!==0?[].concat(M(i),[0]):i,s=[],c=0;c<a;++c)s=[].concat(M(s),M(o));return s}},{key:"renderDotItem",value:function(i,a){var o;if(O.isValidElement(i))o=O.cloneElement(i,a);else if(Q(i))o=i(a);else{var s=oe("recharts-line-dot",i?i.className:"");o=O.createElement(He,q({},a,{className:s}))}return o}}]),n}(S.PureComponent);C(B,"displayName","Line");C(B,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ve.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});C(B,"getComposedData",function(e){var r=e.props,n=e.xAxis,t=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,c=e.displayedData,h=e.offset,u=r.layout,f=c.map(function(l,m){var d=_e(l,o);return u==="horizontal"?{x:ye({axis:n,ticks:i,bandSize:s,entry:l,index:m}),y:se(d)?null:t.scale(d),value:d,payload:l}:{x:se(d)?null:n.scale(d),y:ye({axis:t,ticks:a,bandSize:s,entry:l,index:m}),value:d,payload:l}});return T({points:f,layout:u},h)});var te=function(){return null};te.displayName="XAxis";te.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var re=function(){return null};re.displayName="YAxis";re.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var kt=Ye({chartName:"LineChart",GraphicalChild:B,axisComponents:[{axisType:"xAxis",AxisComp:te},{axisType:"yAxis",AxisComp:re}],formatAxisMap:Xe});function $t(){const{data:e,error:r,isLoading:n,isSuccess:t,isError:i}=Le({queryKey:["userDailyStats"],queryFn:()=>Ce.getUserDailyStats()});return{userDailyStats:e,error:r,isLoading:n,isSuccess:t,isError:i}}const zt=()=>{const{userDailyStats:e,isLoading:r,isSuccess:n,isError:t}=$t();if(r)return y(ae,{});if(t)return y(Se,{});if(!n||!e)return null;const i=e.map(a=>({...a,date:new Intl.DateTimeFormat("en-GB",{month:"numeric",day:"numeric",year:"2-digit"}).format(new Date(a.date))}));return y("div",{style:{width:"100%",maxWidth:1e3,height:300},children:y(ct,{children:_(kt,{data:i,margin:{top:25,right:35,left:0,bottom:10},style:{backgroundColor:"white",borderRadius:10,boxShadow:"0 0 10px rgba(0,0,0,0.5)",display:"flex"},children:[y(me,{strokeDasharray:"4 1"}),y(te,{dataKey:"date"}),y(re,{}),y(Je,{}),y(Qe,{}),y(B,{type:"monotone",dataKey:"weight",stroke:"#ab1010"}),y(B,{type:"monotone",dataKey:"waist",stroke:"#6543ff"})]})})})};const It=()=>{const{user:e}=Pe();if(!e)return null;const r=new Set(["id","email","imgUrl","isAdmin","createdAt","updatedAt","__v"]),n=Object.entries(e).reduce((t,[i,a])=>r.has(i)?t:(i==="username"&&(i="User name"),i==="fullname"&&(i="Full name"),i==="birthdate"&&(i="Birth date",a=new Date(a).toLocaleDateString()),i==="height"&&(a=`${a} cm`),i==="weight"&&(a=`${a} kg`),i==="totalDailyEnergyExpenditure"&&(i="Total Daily Energy Expenditure",a=`${a} kcal`),i==="targetCaloricIntakePerDay"&&(i="Target Caloric Intake Per Day",a=`${a} kcal`),i==="currentWeightLossGoal"&&(i="Current Weight Loss Goal",a=`${a} kg`),[...t,{key:i,value:a}]),[]);return y("section",{className:"profile-details__user-info",children:n.map(({key:t,value:i})=>_("div",{className:"user-info__item-container",children:[_("h2",{children:[t,":"]}),y("p",{children:i})]},t))})},Bt=()=>{const{user:e,isLoading:r,isSuccess:n,isError:t,updateUser:i,isLoadingUpdateUser:a}=Pe(),[o,s]=S.useState(0);function c(b){const E=18.5*Math.pow(b,2),D=24.9*Math.pow(b,2);return{minRecommendedWeight:Number(E.toFixed(2)),maxRecommendedWeight:Number(D.toFixed(2))}}function h(){if(!e)return;const b=.075,x=(e==null?void 0:e.weight)-d;return Math.round(x/b)}function u(){if(!e)return;const b=.075;return Math.round(e.currentWeightLossGoal/b)}if(r)return y(ae,{withContainer:!0,containerSize:{width:"100%"}});if(t)return y(Se,{msg:"Something went wrong"});if(!n||!e)return null;function f(b){const{value:x}=b.target;s(Number(x))}function l(b){if(b.preventDefault(),!e||!o)return;const x={...e,currentWeightLossGoal:o};i(x)}const{minRecommendedWeight:m,maxRecommendedWeight:d}=c(e.height/100),p=7700,v=Math.round((e.weight-d)*p),g=h(),w=u();return _("main",{className:"page profile-details",children:[y(It,{}),y(zt,{}),_("div",{children:[y("h5",{children:"recommended weight"}),_("div",{children:[_("p",{children:["minRecommendedWeight: ",m]}),_("p",{children:["maxRecommendedWeight: ",d]})]})]}),_("div",{children:[y("h3",{children:"calories to lose"}),_("h4",{children:[v.toLocaleString()," Kcal"]})]}),_("div",{children:[y("h3",{children:"calories to lose as days"}),_("h4",{children:[(v/7700).toLocaleString()," "]}),y("h4",{children:"days you can maintain energy on body fat"})]}),g&&_("div",{children:[y("h3",{children:"days to get to max recommended weight"}),y("h4",{children:g}),y("h3",{children:"weeks to get to max recommended weight"}),y("h4",{children:Math.round(g/7)}),y("h3",{children:"months to get to max recommended weight"}),y("h4",{children:Math.round(g/30)})]}),w&&_("div",{children:[y("h3",{children:"days to get to Current Weight Loss Goal"}),y("h4",{children:w}),y("h3",{children:"weeks to get to Current Weight Loss Goal"}),y("h4",{children:Math.round(w/7)}),y("h3",{children:"months to get to Current Weight Loss Goal"}),y("h4",{children:Math.round(w/30)})]}),_("form",{onSubmit:l,children:[_("label",{htmlFor:"curr-goal",children:[y("h3",{children:"current weight loss goal"}),y("input",{type:"number",name:"curr-goal",id:"curr-goal",value:o,onChange:f})]}),y($e,{type:"submit",children:"Save"}),a&&y(ae,{})]}),y(ke,{})]})};export{Bt as default};

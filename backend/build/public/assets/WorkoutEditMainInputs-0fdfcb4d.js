import{r as d,j as t,l as a,F as S,k as f,Q as m,A as v}from"./index-0f886a5e.js";function b(e,o=!0,i=[]){const c=d.useRef(null);return d.useEffect(()=>{function s(n){var l;const u=(l=n==null?void 0:n.target)==null?void 0:l.id;console.log("currId",n==null?void 0:n.target),!i.includes(u)&&c.current&&!c.current.contains(n.target)&&e()}return document.addEventListener("click",s,o),()=>document.removeEventListener("click",s,o)},[e,o,i]),{outsideClickRef:c}}const g=d.createContext(void 0);function h(){const e=d.useContext(g);if(e===void 0)throw new Error("useSelect must be used within a Select");return e}function _(e,o){var p;const i=(p=e.current)==null?void 0:p.getBoundingClientRect();return i?{position:"absolute",...window.innerHeight-i.top<o?{bottom:0}:{top:0},left:"50%",transform:"translateX(-50%)"}:null}const r=({children:e,onChange:o,listHeight:i})=>{const[c,s]=d.useState(!1),[n,u]=d.useState(null),l={isOpen:c,setIsOpen:s,onChange:o,listHeight:i,position:n,setPosition:u};return t(g.Provider,{value:l,children:t("div",{style:{position:"relative"},children:e})})},C=({children:e})=>{const{isOpen:o,setIsOpen:i,listHeight:c,setPosition:s}=h(),n=d.useRef(null);function u(){o||l(),i(p=>!p)}function l(){const p=_(n,c);p&&s(p)}return d.cloneElement(e,{id:"select-trigger",className:"select-trigger",onClick:u,ref:n})},I=({children:e})=>{const{isOpen:o,setIsOpen:i,position:c}=h(),{outsideClickRef:s}=b(n,!0,["select-trigger"]);function n(){i(!1)}return o?t("ul",{style:{...c},className:"select-list",ref:s,children:e}):null},E=({value:e,children:o})=>{const{onChange:i,setIsOpen:c}=h();function s(){i(e),c(!1)}return t("li",{className:"select-list__item",onClick:s,children:o})};r.SelectTrigger=C;r.SelectList=I;r.SelectItem=E;const P=({workout:e,handleTypeSelectChange:o,handleDurationInputChange:i,handleDescInputChange:c,handleSplitSelectChange:s})=>{const n=e&&(e==null?void 0:e.type)==="anaerobic",u=250;return a(S,{children:[a("div",{className:"workout-edit__form__input-container name-input",children:[t("label",{htmlFor:"description-input",children:"description:"}),t("input",{id:"description-input",type:"text",defaultValue:e.description,onChange:f(c,u).debouncedFunc})]}),i&&a("div",{className:"workout-edit__form__input-container name-input",children:[t("label",{htmlFor:"duration-input",children:"duration:"}),t("input",{id:"duration-input",type:"number",defaultValue:e.durationInMin,onChange:f(i,u).debouncedFunc})]}),a("div",{className:"workout-edit__form__input-container",children:[t("label",{children:"workout type:"}),a(r,{onChange:o,listHeight:250,children:[t(r.SelectTrigger,{children:a("div",{children:[t("span",{"data-testid":"workout-type",children:e.type}),t(m,{})]})}),a(r.SelectList,{children:[t(r.SelectItem,{value:"anaerobic",children:"anaerobic"}),t(r.SelectItem,{value:"aerobic",children:"aerobic"})]})]})]}),n&&a("div",{className:"workout-edit__form__input-container",children:[t("label",{children:"split:"}),a(r,{onChange:s,listHeight:250,children:[t(r.SelectTrigger,{children:a("div",{children:[t("span",{children:e.split}),t(m,{})]})}),t(r.SelectList,{children:v.SPLIT_TYPES.map(l=>t(r.SelectItem,{value:l,children:l},l))})]})]})]})};export{r as S,P as W,b as u};

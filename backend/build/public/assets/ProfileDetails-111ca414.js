import{N as d,m as t,j as e,B as u,O as v,S as D,G as b,P as E}from"./index-0315acf3.js";import{E as W}from"./ErrorMsg-4aef3bf5.js";import{W as C}from"./WeightWaistChart-1a721dc3.js";import{F as L}from"./Footer-14d5306f.js";import{u as F,C as _}from"./index.esm-d2772fff.js";import{G as P}from"./GoalEdit-d752a486.js";import{u as S}from"./usePageLoaded-4d37a409.js";import"./index-43d8d204.js";import"./generateCategoricalChart-51b6e7c1.js";const k=()=>{const{user:i,userDailyStats:l,count:a,setIsEditing:n}=d();if(!i||!l)return null;const{username:s,fullname:o,birthdate:c,height:h,weight:r,totalDailyEnergyExpenditure:m,targetCaloricIntakePerDay:p}=i;function f(){n(!0)}function N(){return!l||!l.length||!a?0:((l[0].weight-l[l.length-1].weight)/a).toFixed(2)}function y(){return!l||!l.length?0:(l[0].weight-l[l.length-1].weight).toFixed(2)}return t("section",{className:"profile-details__user-info",children:[t("div",{className:"user-info__item-container",children:[e("h2",{children:"User name:"}),e("p",{children:s})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Full name:"}),e("p",{children:o})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Birth date:"}),e("p",{children:new Date(c).toLocaleDateString()})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Height:"}),e("p",{children:`${h} cm`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Weight:"}),e("p",{children:`${r} kg`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Total Daily Energy Expenditure:"}),e("p",{children:`${m} kcal`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Target Caloric Intake Per Day:"}),e("p",{children:`${p} kcal`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"days in process:"}),e("p",{children:a})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"total weight loss:"}),e("p",{children:y()})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"weight loss per day:"}),e("p",{children:N()})]}),e(u,{className:"user-info__edit-btn",onClickFn:f,children:"Edit"})]})},G=()=>{const{recommendedWeight:i}=d();if(!i)return null;const l=Object.entries(i);return t("section",{className:"profile-details__items-list",children:[e("h2",{className:"profile-details__items-list__title",children:"Recommended Weight"}),e("ul",{className:"profile-details__items-list__items-container",children:l.map(([a,n])=>t("li",{className:"profile-details__items-list__item",children:[e("h3",{className:"profile-details__items-list__item__title",children:a}),t("p",{className:"profile-details__items-list__item__value",children:[n," kg"]})]},a))})]})},g=({title:i,time:l})=>{const a=Object.entries(l);return t("section",{className:"profile-details__goal-calender",children:[e("h2",{className:"profile-details__goal-calender__title",children:i}),e("div",{className:"profile-details__goal-calender__list",children:a.map(([n,s])=>t("div",{className:"profile-details__goal-calender__list__item",children:[e("div",{className:"profile-details__goal-calender__list__item__value-cotnainer",children:e("h4",{children:s})}),e(L,{className:"profile-details__goal-calender__list__item__footer",children:e("h4",{children:n})})]},n))})]})},T=()=>{const{user:i,updateUser:l,setIsEditing:a}=d(),n={username:(i==null?void 0:i.username)||"",fullname:(i==null?void 0:i.fullname)||"",birthdate:(i==null?void 0:i.birthdate)||new Date,height:(i==null?void 0:i.height)||0,weight:(i==null?void 0:i.weight)||0,totalDailyEnergyExpenditure:(i==null?void 0:i.totalDailyEnergyExpenditure)||0,targetCaloricIntakePerDay:(i==null?void 0:i.targetCaloricIntakePerDay)||0},{control:s,handleSubmit:o}=F({defaultValues:n});if(!i)return null;function c(){a(!1)}function h(r){if(!i)return;const m={...i,...r};l(m),a(!1)}return t("form",{className:"user-edit-form",onSubmit:o(h),children:[t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"username",children:"user name:"}),e(_,{name:"username",control:s,render:({field:r})=>e("input",{id:"username",...r})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"fullname",children:"full name:"}),e(_,{name:"fullname",control:s,render:({field:r})=>e("input",{id:"fullname",...r})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"birthdate",children:"birthdate:"}),e(_,{name:"birthdate",control:s,render:({field:r})=>e("input",{id:"birthdate",type:"date",value:new Date(r.value).toISOString().split("T")[0],onChange:m=>r.onChange(new Date(m.target.value))})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"height",children:"height:"}),e(_,{name:"height",control:s,render:({field:r})=>e("input",{id:"height",type:"number",...r})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"weight",children:"weight:"}),e(_,{name:"weight",control:s,render:({field:r})=>e("input",{id:"weight",type:"number",...r})})]}),t("div",{className:"user-edit__btns-container",children:[e(u,{onClickFn:c,children:"cancel"}),e(u,{type:"submit",children:"update"})]})]})},x=()=>{const{weightToLose:i}=d();if(!i)return null;const l=Object.entries(i);return t("section",{className:"profile-details__items-list",children:[e("h2",{className:"profile-details__items-list__title",children:"Weight To Lose"}),e("ul",{className:"profile-details__items-list__items-container",children:l.map(([a,n])=>t("li",{className:"profile-details__items-list__item",children:[e("h3",{className:"profile-details__items-list__item__title",children:a}),t("p",{className:"profile-details__items-list__item__value",children:[n," kg"]})]},a))})]})};const I=()=>{const{userGoal:i}=d();if(!i)return null;const{userWeightLossGoal:{startingWeight:l,weightGoal:a},date:n}=i,s=new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"numeric",day:"numeric"}).format(new Date(n));return t("section",{className:"user-display-goal",children:[t(v,{className:"user-display-goal__header",children:[e("h1",{className:"user-display-goal__header__title",children:"your goal"}),e("div",{className:"user-display-goal__header__date",children:s})]}),t("div",{className:"user-display-goal__info",children:[t("div",{className:"user-display-goal__info__row",children:[t("span",{className:"user-display-goal__info__row__value",children:[l," kg"]}),e("span",{className:"user-display-goal__info__row__title",children:"starting weight"})]}),t("div",{className:"user-display-goal__info__row",children:[t("span",{className:"user-display-goal__info__row__value",children:[a," kg"]}),e("span",{className:"user-display-goal__info__row__title",children:"goal weight"})]})]})]})},K=()=>{S({title:"Profile / Kceli"});const{user:i,userDailyStats:l,isLoading:a,isSuccess:n,isError:s,timeToMaxRecommendedWeight:o,timeToCurrentWeightLossGoal:c,isEditing:h}=d();return a?e(D,{containerSize:{width:"100%"}}):s?e(W,{msg:"Something went wrong"}):!n||!i?null:t("main",{className:"page profile-details",children:[h?e(T,{}):e(k,{}),l&&e(C,{data:l}),e(b,{}),e(I,{}),e(P,{type:"user"}),c&&e(g,{title:"time to current weight loss goal",time:c}),e(G,{}),e(x,{}),o&&e(g,{title:"time to max recommended weight",time:o}),e(E,{})]})};export{K as default};

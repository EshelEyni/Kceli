import{L as b,N as d,m as t,j as e,B as u,O as C,P as E,S as L,G as W,Q as F}from"./index-2ff4683a.js";import{E as k}from"./ErrorMsg-aba76931.js";import{W as P}from"./WeightWaistChart-f359e0ee.js";import{F as S}from"./Footer-c81c24af.js";import{u as G,C as _}from"./index.esm-9d88166b.js";import{G as T}from"./GoalEdit-d847d23f.js";import{u as x}from"./usePageLoaded-326be579.js";import"./index-1594bbfa.js";import"./generateCategoricalChart-7936525b.js";const I=()=>{const i=b(),{user:n,userDailyStats:l,count:a,setIsEditing:s}=d();if(!n||!l)return null;const{username:o,fullname:c,birthdate:h,height:r,weight:m,totalDailyEnergyExpenditure:p,targetCaloricIntakePerDay:f}=n;function N(){s(!0)}function y(){i(C())}function w(){return!l||!l.length||!a?0:((l[0].weight-l[l.length-1].weight)/a).toFixed(2)}function v(){return!l||!l.length?0:(l[0].weight-l[l.length-1].weight).toFixed(2)}return t("section",{className:"profile-details__user-info",children:[t("div",{className:"user-info__item-container",children:[e("h2",{children:"User name:"}),e("p",{children:o})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Full name:"}),e("p",{children:c})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Birth date:"}),e("p",{children:new Date(h).toLocaleDateString()})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Height:"}),e("p",{children:`${r} cm`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Weight:"}),e("p",{children:`${m} kg`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Total Daily Energy Expenditure:"}),e("p",{children:`${p} kcal`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Target Caloric Intake Per Day:"}),e("p",{children:`${f} kcal`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"days in process:"}),e("p",{children:a})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"total weight loss:"}),e("p",{children:v()})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"weight loss per day:"}),e("p",{children:w()})]}),t("div",{className:"user-info__btn-container",children:[e(u,{onClickFn:y,children:"Logout"}),e(u,{onClickFn:N,children:"Edit"})]})]})},B=()=>{const{recommendedWeight:i}=d();if(!i)return null;const n=Object.entries(i);return t("section",{className:"profile-details__items-list",children:[e("h2",{className:"profile-details__items-list__title",children:"Recommended Weight"}),e("ul",{className:"profile-details__items-list__items-container",children:n.map(([l,a])=>t("li",{className:"profile-details__items-list__item",children:[e("h3",{className:"profile-details__items-list__item__title",children:l}),t("p",{className:"profile-details__items-list__item__value",children:[a," kg"]})]},l))})]})},g=({title:i,time:n})=>{const l=Object.entries(n);return t("section",{className:"profile-details__goal-calender",children:[e("h2",{className:"profile-details__goal-calender__title",children:i}),e("div",{className:"profile-details__goal-calender__list",children:l.map(([a,s])=>t("div",{className:"profile-details__goal-calender__list__item",children:[e("div",{className:"profile-details__goal-calender__list__item__value-cotnainer",children:e("h4",{children:s})}),e(S,{className:"profile-details__goal-calender__list__item__footer",children:e("h4",{children:a})})]},a))})]})},U=()=>{const{user:i,updateUser:n,setIsEditing:l}=d(),a={username:(i==null?void 0:i.username)||"",fullname:(i==null?void 0:i.fullname)||"",birthdate:(i==null?void 0:i.birthdate)||new Date,height:(i==null?void 0:i.height)||0,weight:(i==null?void 0:i.weight)||0,totalDailyEnergyExpenditure:(i==null?void 0:i.totalDailyEnergyExpenditure)||0,targetCaloricIntakePerDay:(i==null?void 0:i.targetCaloricIntakePerDay)||0},{control:s,handleSubmit:o}=G({defaultValues:a});if(!i)return null;function c(){l(!1)}function h(r){if(!i)return;const m={...i,...r};n(m),l(!1)}return t("form",{className:"user-edit-form",onSubmit:o(h),children:[t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"username",children:"user name:"}),e(_,{name:"username",control:s,render:({field:r})=>e("input",{id:"username",...r})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"fullname",children:"full name:"}),e(_,{name:"fullname",control:s,render:({field:r})=>e("input",{id:"fullname",...r})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"birthdate",children:"birthdate:"}),e(_,{name:"birthdate",control:s,render:({field:r})=>e("input",{id:"birthdate",type:"date",value:new Date(r.value).toISOString().split("T")[0],onChange:m=>r.onChange(new Date(m.target.value))})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"height",children:"height:"}),e(_,{name:"height",control:s,render:({field:r})=>e("input",{id:"height",type:"number",...r})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"weight",children:"weight:"}),e(_,{name:"weight",control:s,render:({field:r})=>e("input",{id:"weight",type:"number",...r})})]}),t("div",{className:"user-edit__btns-container",children:[e(u,{onClickFn:c,children:"cancel"}),e(u,{type:"submit",children:"update"})]})]})},j=()=>{const{weightToLose:i}=d();if(!i)return null;const n=Object.entries(i);return t("section",{className:"profile-details__items-list",children:[e("h2",{className:"profile-details__items-list__title",children:"Weight To Lose"}),e("ul",{className:"profile-details__items-list__items-container",children:n.map(([l,a])=>t("li",{className:"profile-details__items-list__item",children:[e("h3",{className:"profile-details__items-list__item__title",children:l}),t("p",{className:"profile-details__items-list__item__value",children:[a," kg"]})]},l))})]})};const O=()=>{const{userGoal:i}=d();if(!i)return null;const{userWeightLossGoal:{startingWeight:n,weightGoal:l},date:a}=i,s=new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"numeric",day:"numeric"}).format(new Date(a));return t("section",{className:"user-display-goal",children:[t(E,{className:"user-display-goal__header",children:[e("h1",{className:"user-display-goal__header__title",children:"your goal"}),e("div",{className:"user-display-goal__header__date",children:s})]}),t("div",{className:"user-display-goal__info",children:[t("div",{className:"user-display-goal__info__row",children:[t("span",{className:"user-display-goal__info__row__value",children:[n," kg"]}),e("span",{className:"user-display-goal__info__row__title",children:"starting weight"})]}),t("div",{className:"user-display-goal__info__row",children:[t("span",{className:"user-display-goal__info__row__value",children:[l," kg"]}),e("span",{className:"user-display-goal__info__row__title",children:"goal weight"})]})]})]})},A=()=>{x({title:"Profile / Kceli"});const{user:i,userDailyStats:n,isLoading:l,isSuccess:a,isError:s,timeToMaxRecommendedWeight:o,timeToCurrentWeightLossGoal:c,isEditing:h}=d();return l?e(L,{containerSize:{width:"100%"}}):s?e(k,{msg:"Something went wrong"}):!a||!i?null:t("main",{className:"page profile-details",children:[h?e(U,{}):e(I,{}),n&&e(P,{data:n}),e(W,{}),e(O,{}),e(T,{type:"user"}),c&&e(g,{title:"time to current weight loss goal",time:c}),e(B,{}),e(j,{}),o&&e(g,{title:"time to max recommended weight",time:o}),e(F,{})]})};export{A as default};

import{r as J,T as Ue,j as t,m as v,C as ke,D as ne,O as ee,U as ve,k as Q,V as Te,W as Se,F as Pe,b as Ye,X as re,Y as K,B as oe,Z as Qe,$ as ae,S as Be}from"./index-aaac39b7.js";import{E as He}from"./ErrorMsg-48e5de07.js";import{X as we,Y as be,R as Me,C as Oe,W as Re}from"./WeightWaistChart-dc4d2399.js";import{z as Ke,F as le,H as ze,E as We,t as Xe}from"./generateCategoricalChart-772a9c6f.js";import{c as Ce}from"./index-1f339d26.js";import{L as ge}from"./List-0f7a7033.js";import{i as Je}from"./intakeUtilService-dfd249f2.js";import{I as Ze,a as Ve}from"./index.esm-3d417b55.js";import{u as qe}from"./usePageLoaded-2032d66f.js";import{b as et,c as tt}from"./index.esm-3cb89041.js";import{G as Ee}from"./GoalEdit-e51e6e63.js";import{A as xe,G as _e}from"./GoalDisplay-cb975ee7.js";import{E as je}from"./Empty-06bb3359.js";var Ie=Ke({chartName:"BarChart",GraphicalChild:le,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:we},{axisType:"yAxis",AxisComp:be}],formatAxisMap:ze});var Ae={exports:{}};(function(g,b){(function(T,D){g.exports=D(J)})(Ue,c=>(()=>{var T={"./node_modules/css-mediaquery/index.js":(e,a)=>{a.match=r,a.parse=i;var s=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,y=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,m=/^(?:(min|max)-)?(.+)/,f=/(em|rem|px|cm|mm|in|pt|pc)?$/,n=/(dpi|dpcm|dppx)?$/;function r(p,u){return i(p).some(function(k){var S=k.inverse,E=k.type==="all"||u.type===k.type;if(E&&S||!(E||S))return!1;var Y=k.expressions.every(function(w){var W=w.feature,N=w.modifier,j=w.value,P=u[W];if(!P)return!1;switch(W){case"orientation":case"scan":return P.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=l(j),P=l(P);break;case"resolution":j=o(j),P=o(P);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=d(j),P=d(P);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,P=parseInt(P,10)||0;break}switch(N){case"min":return P>=j;case"max":return P<=j;default:return P===j}});return Y&&!S||!Y&&S})}function i(p){return p.split(",").map(function(u){u=u.trim();var k=u.match(s),S=k[1],E=k[2],Y=k[3]||"",w={};return w.inverse=!!S&&S.toLowerCase()==="not",w.type=E?E.toLowerCase():"all",Y=Y.match(/\([^\)]+\)/g)||[],w.expressions=Y.map(function(W){var N=W.match(y),j=N[1].toLowerCase().match(m);return{modifier:j[1],feature:j[2],value:N[2]}}),w})}function d(p){var u=Number(p),k;return u||(k=p.match(/^(\d+)\s*\/\s*(\d+)$/),u=k[1]/k[2]),u}function o(p){var u=parseFloat(p),k=String(p).match(n)[1];switch(k){case"dpcm":return u/2.54;case"dppx":return u*96;default:return u}}function l(p){var u=parseFloat(p),k=String(p).match(f)[1];switch(k){case"em":return u*16;case"rem":return u*16;case"cm":return u*96/2.54;case"mm":return u*96/2.54/10;case"in":return u*96;case"pt":return u*72;case"pc":return u*72/12;default:return u}}},"./node_modules/hyphenate-style-name/index.js":(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var y=/[A-Z]/g,m=/^ms-/,f={};function n(d){return"-"+d.toLowerCase()}function r(d){if(f.hasOwnProperty(d))return f[d];var o=d.replace(y,n);return f[d]=m.test(o)?"-"+o:o}const i=r},"./node_modules/matchmediaquery/index.js":(e,a,s)=>{var y=s("./node_modules/css-mediaquery/index.js").match,m=typeof window<"u"?window.matchMedia:null;function f(r,i,d){var o=this;if(m&&!d){var l=m.call(window,r);this.matches=l.matches,this.media=l.media,l.addListener(k)}else this.matches=y(r,i),this.media=r;this.addListener=p,this.removeListener=u,this.dispose=S;function p(E){l&&l.addListener(E)}function u(E){l&&l.removeListener(E)}function k(E){o.matches=E.matches,o.media=E.media}function S(){l&&l.removeListener(k)}}function n(r,i,d){return new f(r,i,d)}e.exports=n},"./node_modules/object-assign/index.js":e=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;function m(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function f(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var r={},i=0;i<10;i++)r["_"+String.fromCharCode(i)]=i;var d=Object.getOwnPropertyNames(r).map(function(l){return r[l]});if(d.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(l){o[l]=l}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}e.exports=f()?Object.assign:function(n,r){for(var i,d=m(n),o,l=1;l<arguments.length;l++){i=Object(arguments[l]);for(var p in i)s.call(i,p)&&(d[p]=i[p]);if(a){o=a(i);for(var u=0;u<o.length;u++)y.call(i,o[u])&&(d[o[u]]=i[o[u]])}}return d}},"./node_modules/prop-types/checkPropTypes.js":(e,a,s)=>{var y=function(){};{var m=s("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),f={},n=s("./node_modules/prop-types/lib/has.js");y=function(i){var d="Warning: "+i;typeof console<"u"&&console.error(d);try{throw new Error(d)}catch{}}}function r(i,d,o,l,p){for(var u in i)if(n(i,u)){var k;try{if(typeof i[u]!="function"){var S=Error((l||"React class")+": "+o+" type `"+u+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof i[u]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw S.name="Invariant Violation",S}k=i[u](d,u,l,o,null,m)}catch(Y){k=Y}if(k&&!(k instanceof Error)&&y((l||"React class")+": type specification of "+o+" `"+u+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof k+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),k instanceof Error&&!(k.message in f)){f[k.message]=!0;var E=p?p():"";y("Failed "+o+" type: "+k.message+(E??""))}}}r.resetWarningCache=function(){f={}},e.exports=r},"./node_modules/prop-types/factoryWithTypeCheckers.js":(e,a,s)=>{var y=s("./node_modules/react-is/index.js"),m=s("./node_modules/object-assign/index.js"),f=s("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),n=s("./node_modules/prop-types/lib/has.js"),r=s("./node_modules/prop-types/checkPropTypes.js"),i=function(){};i=function(o){var l="Warning: "+o;typeof console<"u"&&console.error(l);try{throw new Error(l)}catch{}};function d(){return null}e.exports=function(o,l){var p=typeof Symbol=="function"&&Symbol.iterator,u="@@iterator";function k(h){var C=h&&(p&&h[p]||h[u]);if(typeof C=="function")return C}var S="<<anonymous>>",E={array:N("array"),bigint:N("bigint"),bool:N("boolean"),func:N("function"),number:N("number"),object:N("object"),string:N("string"),symbol:N("symbol"),any:j(),arrayOf:P,element:H(),elementType:z(),instanceOf:V,node:he(),objectOf:de,oneOf:ce,oneOfType:ue,shape:fe,exact:pe};function Y(h,C){return h===C?h!==0||1/h===1/C:h!==h&&C!==C}function w(h,C){this.message=h,this.data=C&&typeof C=="object"?C:{},this.stack=""}w.prototype=Error.prototype;function W(h){var C={},L=0;function I($,R,A,G,U,F,_){if(G=G||S,F=F||A,_!==f){if(l){var B=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw B.name="Invariant Violation",B}else if(typeof console<"u"){var X=G+":"+A;!C[X]&&L<3&&(i("You are manually calling a React.PropTypes validation function for the `"+F+"` prop on `"+G+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),C[X]=!0,L++)}}return R[A]==null?$?R[A]===null?new w("The "+U+" `"+F+"` is marked as required "+("in `"+G+"`, but its value is `null`.")):new w("The "+U+" `"+F+"` is marked as required in "+("`"+G+"`, but its value is `undefined`.")):null:h(R,A,G,U,F)}var M=I.bind(null,!1);return M.isRequired=I.bind(null,!0),M}function N(h){function C(L,I,M,$,R,A){var G=L[I],U=Z(G);if(U!==h){var F=q(G);return new w("Invalid "+$+" `"+R+"` of type "+("`"+F+"` supplied to `"+M+"`, expected ")+("`"+h+"`."),{expectedType:h})}return null}return W(C)}function j(){return W(d)}function P(h){function C(L,I,M,$,R){if(typeof h!="function")return new w("Property `"+R+"` of component `"+M+"` has invalid PropType notation inside arrayOf.");var A=L[I];if(!Array.isArray(A)){var G=Z(A);return new w("Invalid "+$+" `"+R+"` of type "+("`"+G+"` supplied to `"+M+"`, expected an array."))}for(var U=0;U<A.length;U++){var F=h(A,U,M,$,R+"["+U+"]",f);if(F instanceof Error)return F}return null}return W(C)}function H(){function h(C,L,I,M,$){var R=C[L];if(!o(R)){var A=Z(R);return new w("Invalid "+M+" `"+$+"` of type "+("`"+A+"` supplied to `"+I+"`, expected a single ReactElement."))}return null}return W(h)}function z(){function h(C,L,I,M,$){var R=C[L];if(!y.isValidElementType(R)){var A=Z(R);return new w("Invalid "+M+" `"+$+"` of type "+("`"+A+"` supplied to `"+I+"`, expected a single ReactElement type."))}return null}return W(h)}function V(h){function C(L,I,M,$,R){if(!(L[I]instanceof h)){var A=h.name||S,G=ie(L[I]);return new w("Invalid "+$+" `"+R+"` of type "+("`"+G+"` supplied to `"+M+"`, expected ")+("instance of `"+A+"`."))}return null}return W(C)}function ce(h){if(!Array.isArray(h))return arguments.length>1?i("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):i("Invalid argument supplied to oneOf, expected an array."),d;function C(L,I,M,$,R){for(var A=L[I],G=0;G<h.length;G++)if(Y(A,h[G]))return null;var U=JSON.stringify(h,function(_,B){var X=q(B);return X==="symbol"?String(B):B});return new w("Invalid "+$+" `"+R+"` of value `"+String(A)+"` "+("supplied to `"+M+"`, expected one of "+U+"."))}return W(C)}function de(h){function C(L,I,M,$,R){if(typeof h!="function")return new w("Property `"+R+"` of component `"+M+"` has invalid PropType notation inside objectOf.");var A=L[I],G=Z(A);if(G!=="object")return new w("Invalid "+$+" `"+R+"` of type "+("`"+G+"` supplied to `"+M+"`, expected an object."));for(var U in A)if(n(A,U)){var F=h(A,U,M,$,R+"."+U,f);if(F instanceof Error)return F}return null}return W(C)}function ue(h){if(!Array.isArray(h))return i("Invalid argument supplied to oneOfType, expected an instance of array."),d;for(var C=0;C<h.length;C++){var L=h[C];if(typeof L!="function")return i("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+me(L)+" at index "+C+"."),d}function I(M,$,R,A,G){for(var U=[],F=0;F<h.length;F++){var _=h[F],B=_(M,$,R,A,G,f);if(B==null)return null;B.data&&n(B.data,"expectedType")&&U.push(B.data.expectedType)}var X=U.length>0?", expected one of type ["+U.join(", ")+"]":"";return new w("Invalid "+A+" `"+G+"` supplied to "+("`"+R+"`"+X+"."))}return W(I)}function he(){function h(C,L,I,M,$){return te(C[L])?null:new w("Invalid "+M+" `"+$+"` supplied to "+("`"+I+"`, expected a ReactNode."))}return W(h)}function se(h,C,L,I,M){return new w((h||"React class")+": "+C+" type `"+L+"."+I+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+M+"`.")}function fe(h){function C(L,I,M,$,R){var A=L[I],G=Z(A);if(G!=="object")return new w("Invalid "+$+" `"+R+"` of type `"+G+"` "+("supplied to `"+M+"`, expected `object`."));for(var U in h){var F=h[U];if(typeof F!="function")return se(M,$,R,U,q(F));var _=F(A,U,M,$,R+"."+U,f);if(_)return _}return null}return W(C)}function pe(h){function C(L,I,M,$,R){var A=L[I],G=Z(A);if(G!=="object")return new w("Invalid "+$+" `"+R+"` of type `"+G+"` "+("supplied to `"+M+"`, expected `object`."));var U=m({},L[I],h);for(var F in U){var _=h[F];if(n(h,F)&&typeof _!="function")return se(M,$,R,F,q(_));if(!_)return new w("Invalid "+$+" `"+R+"` key `"+F+"` supplied to `"+M+"`.\nBad object: "+JSON.stringify(L[I],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(h),null,"  "));var B=_(A,F,M,$,R+"."+F,f);if(B)return B}return null}return W(C)}function te(h){switch(typeof h){case"number":case"string":case"undefined":return!0;case"boolean":return!h;case"object":if(Array.isArray(h))return h.every(te);if(h===null||o(h))return!0;var C=k(h);if(C){var L=C.call(h),I;if(C!==h.entries){for(;!(I=L.next()).done;)if(!te(I.value))return!1}else for(;!(I=L.next()).done;){var M=I.value;if(M&&!te(M[1]))return!1}}else return!1;return!0;default:return!1}}function ye(h,C){return h==="symbol"?!0:C?C["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&C instanceof Symbol:!1}function Z(h){var C=typeof h;return Array.isArray(h)?"array":h instanceof RegExp?"object":ye(C,h)?"symbol":C}function q(h){if(typeof h>"u"||h===null)return""+h;var C=Z(h);if(C==="object"){if(h instanceof Date)return"date";if(h instanceof RegExp)return"regexp"}return C}function me(h){var C=q(h);switch(C){case"array":case"object":return"an "+C;case"boolean":case"date":case"regexp":return"a "+C;default:return C}}function ie(h){return!h.constructor||!h.constructor.name?S:h.constructor.name}return E.checkPropTypes=r,E.resetWarningCache=r.resetWarningCache,E.PropTypes=E,E}},"./node_modules/prop-types/index.js":(e,a,s)=>{{var y=s("./node_modules/react-is/index.js"),m=!0;e.exports=s("./node_modules/prop-types/factoryWithTypeCheckers.js")(y.isElement,m)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=a},"./node_modules/prop-types/lib/has.js":e=>{e.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(e,a)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var s=typeof Symbol=="function"&&Symbol.for,y=s?Symbol.for("react.element"):60103,m=s?Symbol.for("react.portal"):60106,f=s?Symbol.for("react.fragment"):60107,n=s?Symbol.for("react.strict_mode"):60108,r=s?Symbol.for("react.profiler"):60114,i=s?Symbol.for("react.provider"):60109,d=s?Symbol.for("react.context"):60110,o=s?Symbol.for("react.async_mode"):60111,l=s?Symbol.for("react.concurrent_mode"):60111,p=s?Symbol.for("react.forward_ref"):60112,u=s?Symbol.for("react.suspense"):60113,k=s?Symbol.for("react.suspense_list"):60120,S=s?Symbol.for("react.memo"):60115,E=s?Symbol.for("react.lazy"):60116,Y=s?Symbol.for("react.block"):60121,w=s?Symbol.for("react.fundamental"):60117,W=s?Symbol.for("react.responder"):60118,N=s?Symbol.for("react.scope"):60119;function j(_){return typeof _=="string"||typeof _=="function"||_===f||_===l||_===r||_===n||_===u||_===k||typeof _=="object"&&_!==null&&(_.$$typeof===E||_.$$typeof===S||_.$$typeof===i||_.$$typeof===d||_.$$typeof===p||_.$$typeof===w||_.$$typeof===W||_.$$typeof===N||_.$$typeof===Y)}function P(_){if(typeof _=="object"&&_!==null){var B=_.$$typeof;switch(B){case y:var X=_.type;switch(X){case o:case l:case f:case r:case n:case u:return X;default:var De=X&&X.$$typeof;switch(De){case d:case p:case E:case S:case i:return De;default:return B}}case m:return B}}}var H=o,z=l,V=d,ce=i,de=y,ue=p,he=f,se=E,fe=S,pe=m,te=r,ye=n,Z=u,q=!1;function me(_){return q||(q=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),ie(_)||P(_)===o}function ie(_){return P(_)===l}function h(_){return P(_)===d}function C(_){return P(_)===i}function L(_){return typeof _=="object"&&_!==null&&_.$$typeof===y}function I(_){return P(_)===p}function M(_){return P(_)===f}function $(_){return P(_)===E}function R(_){return P(_)===S}function A(_){return P(_)===m}function G(_){return P(_)===r}function U(_){return P(_)===n}function F(_){return P(_)===u}a.AsyncMode=H,a.ConcurrentMode=z,a.ContextConsumer=V,a.ContextProvider=ce,a.Element=de,a.ForwardRef=ue,a.Fragment=he,a.Lazy=se,a.Memo=fe,a.Portal=pe,a.Profiler=te,a.StrictMode=ye,a.Suspense=Z,a.isAsyncMode=me,a.isConcurrentMode=ie,a.isContextConsumer=h,a.isContextProvider=C,a.isElement=L,a.isForwardRef=I,a.isFragment=M,a.isLazy=$,a.isMemo=R,a.isPortal=A,a.isProfiler=G,a.isStrictMode=U,a.isSuspense=F,a.isValidElementType=j,a.typeOf=P})()},"./node_modules/react-is/index.js":(e,a,s)=>{e.exports=s("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(e,a,s)=>{s.r(a),s.d(a,{shallowEqualArrays:()=>m,shallowEqualObjects:()=>y});function y(f,n){if(f===n)return!0;if(!f||!n)return!1;var r=Object.keys(f),i=Object.keys(n),d=r.length;if(i.length!==d)return!1;for(var o=0;o<d;o++){var l=r[o];if(f[l]!==n[l]||!Object.prototype.hasOwnProperty.call(n,l))return!1}return!0}function m(f,n){if(f===n)return!0;if(!f||!n)return!1;var r=f.length;if(n.length!==r)return!1;for(var i=0;i<r;i++)if(f[i]!==n[i])return!1;return!0}},"./src/Component.ts":function(e,a,s){var y=this&&this.__rest||function(r,i){var d={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.indexOf(o)<0&&(d[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(r);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(r,o[l])&&(d[o[l]]=r[o[l]]);return d},m=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(a,"__esModule",{value:!0});var f=m(s("./src/useMediaQuery.ts")),n=function(r){var i=r.children,d=r.device,o=r.onChange,l=y(r,["children","device","onChange"]),p=(0,f.default)(l,d,o);return typeof i=="function"?i(p):p?i:null};a.default=n},"./src/Context.ts":(e,a,s)=>{Object.defineProperty(a,"__esModule",{value:!0});var y=s("react"),m=(0,y.createContext)(void 0);a.default=m},"./src/index.ts":function(e,a,s){var y=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(a,"__esModule",{value:!0}),a.Context=a.toQuery=a.useMediaQuery=a.default=void 0;var m=y(s("./src/useMediaQuery.ts"));a.useMediaQuery=m.default;var f=y(s("./src/Component.ts"));a.default=f.default;var n=y(s("./src/toQuery.ts"));a.toQuery=n.default;var r=y(s("./src/Context.ts"));a.Context=r.default},"./src/mediaQuery.ts":function(e,a,s){var y=this&&this.__assign||function(){return y=Object.assign||function(u){for(var k,S=1,E=arguments.length;S<E;S++){k=arguments[S];for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&(u[Y]=k[Y])}return u},y.apply(this,arguments)},m=this&&this.__rest||function(u,k){var S={};for(var E in u)Object.prototype.hasOwnProperty.call(u,E)&&k.indexOf(E)<0&&(S[E]=u[E]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Y=0,E=Object.getOwnPropertySymbols(u);Y<E.length;Y++)k.indexOf(E[Y])<0&&Object.prototype.propertyIsEnumerable.call(u,E[Y])&&(S[E[Y]]=u[E[Y]]);return S},f=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(a,"__esModule",{value:!0});var n=f(s("./node_modules/prop-types/index.js")),r=n.default.oneOfType([n.default.string,n.default.number]),i={all:n.default.bool,grid:n.default.bool,aural:n.default.bool,braille:n.default.bool,handheld:n.default.bool,print:n.default.bool,projection:n.default.bool,screen:n.default.bool,tty:n.default.bool,tv:n.default.bool,embossed:n.default.bool},d={orientation:n.default.oneOf(["portrait","landscape"]),scan:n.default.oneOf(["progressive","interlace"]),aspectRatio:n.default.string,deviceAspectRatio:n.default.string,height:r,deviceHeight:r,width:r,deviceWidth:r,color:n.default.bool,colorIndex:n.default.bool,monochrome:n.default.bool,resolution:r,type:Object.keys(i)};d.type;var o=m(d,["type"]),l=y({minAspectRatio:n.default.string,maxAspectRatio:n.default.string,minDeviceAspectRatio:n.default.string,maxDeviceAspectRatio:n.default.string,minHeight:r,maxHeight:r,minDeviceHeight:r,maxDeviceHeight:r,minWidth:r,maxWidth:r,minDeviceWidth:r,maxDeviceWidth:r,minColor:n.default.number,maxColor:n.default.number,minColorIndex:n.default.number,maxColorIndex:n.default.number,minMonochrome:n.default.number,maxMonochrome:n.default.number,minResolution:r,maxResolution:r},o),p=y(y({},i),l);a.default={all:p,types:i,matchers:d,features:l}},"./src/toQuery.ts":function(e,a,s){var y=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(a,"__esModule",{value:!0});var m=y(s("./node_modules/hyphenate-style-name/index.js")),f=y(s("./src/mediaQuery.ts")),n=function(o){return"not ".concat(o)},r=function(o,l){var p=(0,m.default)(o);return typeof l=="number"&&(l="".concat(l,"px")),l===!0?p:l===!1?n(p):"(".concat(p,": ").concat(l,")")},i=function(o){return o.join(" and ")},d=function(o){var l=[];return Object.keys(f.default.all).forEach(function(p){var u=o[p];u!=null&&l.push(r(p,u))}),i(l)};a.default=d},"./src/useMediaQuery.ts":function(e,a,s){var y=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(a,"__esModule",{value:!0});var m=s("react"),f=y(s("./node_modules/matchmediaquery/index.js")),n=y(s("./node_modules/hyphenate-style-name/index.js")),r=s("./node_modules/shallow-equal/dist/index.esm.js"),i=y(s("./src/toQuery.ts")),d=y(s("./src/Context.ts")),o=function(w){return w.query||(0,i.default)(w)},l=function(w){if(w){var W=Object.keys(w);return W.reduce(function(N,j){return N[(0,n.default)(j)]=w[j],N},{})}},p=function(){var w=(0,m.useRef)(!1);return(0,m.useEffect)(function(){w.current=!0},[]),w.current},u=function(w){var W=(0,m.useContext)(d.default),N=function(){return l(w)||l(W)},j=(0,m.useState)(N),P=j[0],H=j[1];return(0,m.useEffect)(function(){var z=N();(0,r.shallowEqualObjects)(P,z)||H(z)},[w,W]),P},k=function(w){var W=function(){return o(w)},N=(0,m.useState)(W),j=N[0],P=N[1];return(0,m.useEffect)(function(){var H=W();j!==H&&P(H)},[w]),j},S=function(w,W){var N=function(){return(0,f.default)(w,W||{},!!W)},j=(0,m.useState)(N),P=j[0],H=j[1],z=p();return(0,m.useEffect)(function(){if(z){var V=N();return H(V),function(){V&&V.dispose()}}},[w,W]),P},E=function(w){var W=(0,m.useState)(w.matches),N=W[0],j=W[1];return(0,m.useEffect)(function(){var P=function(H){j(H.matches)};return w.addListener(P),j(w.matches),function(){w.removeListener(P)}},[w]),N},Y=function(w,W,N){var j=u(W),P=k(w);if(!P)throw new Error("Invalid or missing MediaQuery!");var H=S(P,j),z=E(H),V=p();return(0,m.useEffect)(function(){V&&N&&N(z)},[z]),(0,m.useEffect)(function(){return function(){H&&H.dispose()}},[]),z};a.default=Y},react:e=>{e.exports=c}},D={};function x(e){var a=D[e];if(a!==void 0)return a.exports;var s=D[e]={exports:{}};return T[e].call(s.exports,s,s.exports,x),s.exports}x.d=(e,a)=>{for(var s in a)x.o(a,s)&&!x.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},x.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),x.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var O=x("./src/index.ts");return O})())})(Ae);var Le=Ae.exports;const rt=({data:g})=>{const b=g.reduce((e,a)=>a.calories>e?a.calories:e,-1/0),c=[0,Math.round(b*1.1)],T=Le.useMediaQuery({query:"(max-width: 600px)"}),D=window.innerWidth,x={x:Math.round(D*.65)*.5*-1,y:0},O={position:"absolute",left:"50%",top:"25%",transform:"translate(-50%, -50%)",wordBreak:"break-all",width:D*.65};return t("div",{style:{position:"relative",width:"100%",maxWidth:1200,height:300},children:t(Me,{children:v(Ie,{data:g,children:[t(Oe,{strokeDasharray:"3 3"}),t(we,{dataKey:"name"}),t(be,{domain:c}),t(We,{wrapperStyle:T?O:void 0,labelStyle:{fontSize:14,fontWeight:"bold",whiteSpace:"pre-wrap"},position:T?x:void 0}),t(le,{dataKey:"calories",barSize:25,children:g.map((e,a)=>t(Xe,{fill:ke[a%ke.length]},`cell-${a}`))})]})})})};function at(g){if(!g||g.intakes.length===0)return"No data";let b=0,c=0,T;for(const O of g.intakes){if(!O.recordedAt||O.type!=="food")continue;const e=new Date(O.recordedAt).getTime();T!==void 0&&(b+=e-T,c++),T=e}if(c===0)return"No data";const x=b/c/1e3/60/60;return x>=1?`${Math.round(x)} hours`:`${Math.round(x*60)} minutes`}const nt={calcAverageTimeBetweenMeals:at};const ot=({workout:g,isTableShown:b=!0})=>{const{description:c,type:T,items:D}=g,x=ne.calcWorkoutDuration({workout:g})+" min",O=Math.round(D.filter(e=>e.isCompleted).length/D.length*100);return v("article",{className:"day-report__workout-preview",children:[t(ee,{className:"day-report__workout-preview__header",children:v("h3",{children:[c," - ",T," - ",x," - ",O,"% completed"]})}),b&&v("table",{className:"day-report__workout-preview__table",children:[t("thead",{className:"day-report__workout-preview__table__header",children:v("tr",{children:[t("th",{children:"Exercise"}),t("th",{children:"Duration"}),t("th",{children:"Reps"}),t("th",{children:"Sets"}),t("th",{children:"Weight"}),t("th",{className:"day-report__workout-preview__table__header__completed",children:"Completed"})]})}),t("tbody",{className:"day-report__workout-preview__table__body",children:D.map((e,a)=>{const s=ne.calcItemDuration(e)+" min";return e.type==="superset"?v(J.Fragment,{children:[v("tr",{children:[t("td",{children:e.name}),t("td",{children:s}),t("td",{}),t("td",{children:e.sets}),t("td",{}),t("td",{className:"completed",children:e.isCompleted?t(ve,{}):""})]}),e.items.map((y,m)=>v("tr",{children:[t("td",{children:y.name}),t("td",{}),t("td",{children:y.reps}),t("td",{}),v("td",{children:[y.weight," ",y.weightUnit]}),t("td",{className:"completed"})]},`superset-${a}-subitem-${m}`))]},`superset-${a}`):e.type==="anaerobic"?v("tr",{children:[t("td",{children:e.name}),t("td",{children:s}),t("td",{children:e.reps}),t("td",{children:e.sets}),v("td",{children:[e.weight," ",e.weightUnit]}),t("td",{className:"completed",children:e.isCompleted?t(ve,{}):""})]},a):v("tr",{children:[t("td",{children:e.name}),t("td",{children:s}),t("td",{}),t("td",{}),t("td",{}),t("td",{className:"completed",children:e.isCompleted?t(ve,{}):""})]},a)})})]})]})};const Ne=({intake:g})=>{const[b,c]=J.useState(!1),T=g.name||g.items.map(e=>e.name).join(", "),D=Q.getTotalCalories(g),x=g.recordedAt?new Date(g.recordedAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"";function O(){c(!b)}return v("article",{className:Ce("day-report__intake-preview",{unrecorded:!g.isRecorded}),children:[v(ee,{className:"day-report__intake-preview__header",onClickFn:O,children:[v("h3",{className:"day-report__intake-preview__header__title",children:[T," - ",D," kcal - ",x]}),t("div",{children:b?t(Te,{}):t(Se,{})})]}),b&&v(Pe,{children:[v("table",{className:"day-report__intake-preview__table",children:[t("thead",{className:"day-report__intake-preview__table__head",children:v("tr",{children:[t("th",{children:"Item"}),t("th",{children:"Calories"}),t("th",{children:"Weight"})]})}),t("tbody",{className:"day-report__intake-preview__table__body",children:g.items.map(e=>v("tr",{children:[t("td",{children:e.name}),t("td",{children:e.calories}),v("td",{children:[e.quantity," ",e.unit]})]},e.id))})]}),!g.isRecorded&&t("h4",{className:"day-report__intake-preview__unrecorded",children:"unrecorded"})]})]})},st=({day:g})=>{const{loggedInUser:b}=Ye(),{data:c,backgroundColor:T}=g;if(!c)return t("section",{className:"report day-report empty",children:t("p",{children:"No data for this day"})});const D=Q.getTotalCalories(c),x=Q.calcRemainingCalories(b,c),e=` calories ${x>0?"remaining":"over your limit"}`,a=new Intl.DateTimeFormat("en-US",{dateStyle:"full"}).format(g.date),s=nt.calcAverageTimeBetweenMeals(c),y=it(c);return v("section",{className:"report day-report",children:[v(ee,{className:"day-report__header",children:[t("h1",{children:a}),t("div",{className:"day-report__header__color-circle",style:{backgroundColor:T}})]}),v("div",{className:"day-report__weight",children:[c.weight&&v("p",{children:[t("strong",{children:"Weight: "}),c.weight]}),c.waist&&v("p",{children:[t("strong",{children:"Waist: "}),c.waist]})]}),v("div",{className:"day-report__calories",children:[t("h3",{className:"day-report__calories__title",children:"calories"}),v("p",{children:[t("strong",{children:"consumed Calories: "}),D]}),v("p",{children:[v("strong",{children:[e,": "]}),Math.abs(x)]}),v("p",{children:[t("strong",{children:"target caloric intake: "}),g.targetCalorie]})]}),c.intakes.length>0&&v("div",{className:"day-report__intakes",children:[t("h2",{className:"day-report__intakes__title",children:"Intakes"}),v("h4",{children:["Number of Intakes: ",c.intakes.length]}),v("h4",{children:["Average time between meals: ",s]}),t(ge,{className:"day-report__intakes__list",items:c.intakes,render:m=>t(Ne,{intake:m},m.id)}),t(rt,{data:y})]}),c.workouts.length>0&&v("div",{className:"day-report__workouts",children:[t("h1",{className:"day-report__workouts__title",children:"Workouts"}),t("ul",{children:c.workouts.map((m,f)=>t("li",{children:t(ot,{workout:m})},f))})]})]})};function it(g){return Je.sortIntakesByRecordedAt(g.intakes).map(T=>({name:T.name||T.items.reduce((D,x,O,e)=>e.length===1?x.name:O===0?D+`${x.name}, `:O===e.length-1?D+`and ${x.name}`:D+` ${x.name}, `,""),calories:T.items.reduce((D,x)=>D+Math.round(x.calories),0)}))}const lt=({days:g})=>t("section",{className:"days-report",children:g.map(b=>t("div",{className:"day-report",children:t("h3",{className:"day-report__date",children:b.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})},b.date.toISOString()))});const ct=()=>{const{isSuccess:g,filterBy:b,setFilterBy:c,currDay:T,setCurrDays:D,getWeekDays:x,getMonthDays:O,setQueryParams:e}=re();function a(s){if(g){switch(s){case K.Day:D([]);break;case K.Week:{if(!T)return;const y=x(T);if(!y)return;D(y);break}case K.Month:{if(!T)return;const y=O(T);if(!y)return;D(y);break}}c(s),e({key:"filterBy",value:s})}}return t("section",{className:"schedule-filter",children:Object.values(K).map(s=>t(oe,{onClickFn:()=>a(s),className:Ce("schedule-filter__btn",{active:b===s}),children:t("span",{children:s})},s))})};const dt=()=>{const{currDate:g,currDay:b,setCurrDay:c,currDays:T,setCurrDays:D,filterBy:x,calenderDays:O,isSuccess:e,moveToMonth:a,getWeekDays:s,getMonthDays:y,setQueryParams:m}=re(),[f,n]=J.useState(!1),r=J.useRef(null),i=J.useRef(0);function d(o){switch(x){case K.Day:{if(!f){c(o),m({key:"date",value:o.date}),D([]);return}if(!b)return;const l=[],p=O.findIndex(E=>ae(E.date,b==null?void 0:b.date)),u=O.findIndex(E=>ae(E.date,o.date)),k=Math.min(p,u),S=Math.max(p,u);for(let E=k;E<=S;E++)l.push(O[E]);D(l),c(o),m({key:"date",value:o.date});break}case K.Week:{const l=s(o);if(!l)return;D(l),c(o),m({key:"date",value:o.date});break}case K.Month:{const l=y(o);if(!l)return;D(l),c(o),m({key:"date",value:o.date});break}}}return J.useEffect(()=>{const o=u=>{const k=u.touches[0];i.current=k.clientX},l=u=>{const S=u.changedTouches[0].clientX,E=50;S-i.current>E&&a(-1),i.current-S>E&&a(1)},p=r.current;if(p)return p.addEventListener("touchstart",o,!1),p.addEventListener("touchend",l,!1),()=>{p&&(p.removeEventListener("touchstart",o),p.removeEventListener("touchend",l))}},[g,e,a]),J.useEffect(()=>{const o=p=>{p.key==="Shift"&&n(!0)},l=p=>{p.key==="Shift"&&n(!1)};return window.addEventListener("keydown",o),window.addEventListener("keyup",l),()=>{window.removeEventListener("keydown",o),window.removeEventListener("keyup",l)}},[]),v("ul",{className:"calender",ref:r,children:[Qe.map(o=>t("li",{className:"calender__item weekday-item",children:t("h3",{className:"calender__item__title",children:o.short})},o.short)),O.map(o=>{const{backgroundColor:l,date:p}=o,u=o.backgroundColor?"white":"",k=o.isBorder?"4px solid var(--color-success)":"none";return t("li",{className:Ce("calender__item",{active:b&&ae(o.date,b.date)||T.some(S=>ae(o.date,S.date))}),onClick:()=>d(o),style:{backgroundColor:l,color:u},children:t("div",{className:"calender__item__wrapper",style:{border:k},children:t("h3",{children:o.day})})},p.toISOString())})]})};const $e=({type:g,currData:b,prevData:c,goals:T})=>{const D=x();function x(){if(!b.length||!(c!=null&&c.length))return;const e={documentedDay:{label:"documented days",curr:0,prev:0,trend:{value:0,positive:"up"}},totalCalories:{label:"total calories",curr:0,prev:0,trend:{value:0,positive:"down"}},averageCaloriesPerDay:{label:"average calories per day",curr:0,prev:0,trend:{value:0,positive:"down"}},averageIntakesPerDay:{label:"average intakes per day",curr:0,prev:0,trend:{value:0,positive:"down"}},totalWorkouts:{label:"total workouts",curr:0,prev:0,trend:{value:0,positive:"up"}},excessCalories:{label:"excess calories",curr:0,prev:0,trend:{value:0,positive:"down"}},exceededDays:{label:"exceeded days",curr:0,prev:0,trend:{value:0,positive:"down"}},excessPercentage:{label:"excess percentage (days)",curr:0,prev:0,trend:{value:0,positive:"down"}}};if(e.documentedDay.curr=b.length,e.documentedDay.prev=c.length,e.documentedDay.trend.value=e.documentedDay.curr-e.documentedDay.prev,e.totalCalories.curr=Q.getTotalCalories(b),e.totalCalories.prev=Q.getTotalCalories(c),e.totalCalories.trend.value=e.totalCalories.curr-e.totalCalories.prev,e.averageCaloriesPerDay.curr=Math.round(e.totalCalories.curr/b.length),e.averageCaloriesPerDay.prev=Math.round(e.totalCalories.prev/c.length),e.averageCaloriesPerDay.trend.value=e.averageCaloriesPerDay.curr-e.averageCaloriesPerDay.prev,e.totalWorkouts.curr=ne.getTotalWorkouts(b),e.totalWorkouts.prev=ne.getTotalWorkouts(c),e.totalWorkouts.trend.value=e.totalWorkouts.curr-e.totalWorkouts.prev,e.excessCalories.curr=Q.getWeeklyExcessRateCalories(b),e.excessCalories.prev=Q.getWeeklyExcessRateCalories(c),e.excessCalories.trend.value=e.excessCalories.curr-e.excessCalories.prev,e.exceededDays.curr=b.filter(r=>{const i=Q.getDayCaloriesIntake({currDayData:r,data:b}),d=Q.getTotalCaloriesFromDailyData({dailyData:r});return i-d<0}).length,e.exceededDays.prev=c.filter(r=>{const i=Q.getDayCaloriesIntake({currDayData:r,data:c}),d=Q.getTotalCaloriesFromDailyData({dailyData:r});return i-d<0}).length,e.exceededDays.trend.value=e.exceededDays.curr-e.exceededDays.prev,e.excessPercentage.curr=Math.round(e.exceededDays.curr/b.length*100),e.excessPercentage.prev=Math.round(e.exceededDays.prev/c.length*100),e.excessPercentage.trend.value=e.excessPercentage.curr-e.excessPercentage.prev,e.averageIntakesPerDay.curr=Math.round(b.reduce((r,i)=>{const d=i.intakes.filter(o=>o.type==="food").length;return r+d},0)/b.length),e.averageIntakesPerDay.prev=Math.round(c.reduce((r,i)=>{const d=i.intakes.filter(o=>o.type==="food").length;return r+d},0)/c.length),g==="week")return Object.values(e);function a(r){var p,u;if(!r.length)return 0;const i=((p=r.find(k=>!!k.weight))==null?void 0:p.weight)||0,d=((u=r.findLast(k=>!!k.weight))==null?void 0:u.weight)||0,l=(i-d)/r.length;return isNaN(l)?0:l>=0?+l.toFixed(2):0}e.weightLossPerDay={label:"weight loss per day",curr:0,prev:0,trend:{value:0,positive:"up"}},e.weightLossPerDay.curr=a(b),e.weightLossPerDay.prev=a(c),e.weightLossPerDay.trend.value=e.weightLossPerDay.curr-e.weightLossPerDay.prev;function s(r){let i=0,d=0;return r.forEach(o=>{o.weight&&(i+=o.weight,d++)}),d>0?Math.round(i/d):0}if(e.averageWeight={label:"average weight",curr:0,prev:0,trend:{value:0,positive:"down"}},e.averageWeight.curr=s(b),e.averageWeight.prev=s(c),e.averageWeight.trend.value=e.averageWeight.curr-e.averageWeight.prev,!T||!T.length)return Object.values(e);const y=new Date(c[0].date).getMonth(),m=new Date(b[0].date).getMonth(),f=T.filter(r=>new Date(r.date).getMonth()===y),n=T.filter(r=>new Date(r.date).getMonth()===m);return e.totalGoals={label:"total goals",curr:0,prev:0,trend:{value:0,positive:"up"}},e.totalGoals.curr=n.length,e.totalGoals.prev=f.length,e.completedGoalsPerc={label:"completed goals percentage",curr:0,prev:0,trend:{value:0,positive:"up"}},e.completedGoalsPerc.curr=n.length?Math.round(n.filter(r=>r.isCompleted).length/n.length*100):0,e.completedGoalsPerc.prev=f.length?Math.round(f.filter(r=>r.isCompleted).length/f.length*100):0,e.completedGoalsPerc.trend.value=e.completedGoalsPerc.curr-e.completedGoalsPerc.prev,Object.values(e)}function O({trend:e,positive:a}){if(!e)return;const s=20;return e>0?t(et,{size:s,color:a==="up"?"green":"red"}):t(tt,{size:s,color:a==="down"?"green":"red"})}return D?t("div",{className:"schedule-report-table",children:v("table",{children:[t("thead",{children:v("tr",{children:[t("th",{children:"value"}),v("th",{children:["previous ",g]}),v("th",{children:["current ",g]}),t("th",{children:"trend"})]})}),t("tbody",{children:D.map((e,a)=>{const s=e.label==="excess percentage (days)"||e.label==="completed goals percentage";return v("tr",{children:[t("td",{children:e.label}),v("td",{children:[e.prev,s?"%":""]}),v("td",{children:[e.curr,s?"%":""]}),t("td",{children:O({trend:e.trend.value,positive:e.trend.positive})})]},a)})})]})}):null};const ut=({calenderDay:g})=>{const{backgroundColor:b,data:c,date:T}=g,D=Le.useMediaQuery({query:"(max-width: 600px)"}),[x,O]=J.useState(!D),[e,a]=J.useState(!1);if(!c)return null;const s=new Date(T).toLocaleDateString("en-US",{weekday:"short"}),y=Q.getTotalCalories(c),m=Q.calcRemainingCaloriesFromDayData(c),f=m>0?"remaining":"over your limit",n=Q.getDailyExcessRate({remainingCalories:m,targetCaloricIntake:c.targetCaloricIntake}),r=` calories ${f}`,i=c.intakes.length;function d(){O(o=>!o)}return v("article",{className:"week-report-day-display",children:[t(ee,{className:"week-report-day-display__header",style:{backgroundColor:b},children:t("h3",{children:s})}),x&&v("div",{className:"week-report-day-display__wrapper",children:[t("div",{className:"week-report-day-display__calories",children:t("table",{children:v("tbody",{children:[v("tr",{children:[t("th",{children:"Consumed Calories"}),t("td",{children:y})]}),v("tr",{children:[t("th",{children:r}),t("td",{children:Math.abs(m)})]}),v("tr",{children:[t("th",{children:"Target Caloric Intake"}),t("td",{children:c.targetCaloricIntake})]}),v("tr",{children:[t("th",{children:"Exceeded By"}),v("td",{children:[n,"%"]})]}),v("tr",{children:[t("th",{children:"workouts"}),t("td",{children:c.workouts.length})]})]})})}),v(oe,{className:"week-report-day-display__show-intakes-btn",onClickFn:()=>a(!e),children:[v("span",{children:[i," Intakes"]}),e?t(Te,{}):t(Se,{})]}),e&&t(ge,{className:"week-report-day-display__intakes-list",items:c.intakes,render:o=>t(Ne,{intake:o},o.id)}),c.workouts.length>0&&v("div",{className:"week-report-day-display__workouts",children:[t("h3",{children:"Workouts:"}),t(ge,{className:"week-report-day-display__workouts__list",items:c.workouts,render:(o,l)=>{const{items:p,description:u}=o,k=Math.round(p.filter(S=>S.isCompleted).length/p.length*100);return v("p",{children:[t("strong",{children:u})," (",k,"% completed)"]},l)}})]})]}),D&&t(oe,{className:"week-report-day-display__expand-btn",onClickFn:d,children:x?"Hide":"Show"})]})};const Ge=({data:g})=>{const b=g.reduce((T,D)=>D.calories>T?D.calories:T,-1/0),c=[0,Math.round(b*1.1)];return t("div",{style:{width:"100%",maxWidth:1200,height:300},children:t(Me,{width:"100%",height:"100%",children:v(Ie,{data:g,children:[t(Oe,{strokeDasharray:"3 3"}),t(we,{dataKey:"name"}),t(be,{domain:c}),t(We,{}),t(le,{dataKey:"caloriesWithoutExcess",stackId:"a",fill:"#005FB3",barSize:50}),t(le,{dataKey:"excessCalories",stackId:"a",fill:"#FF0000",barSize:50})]})})})};const Fe=({type:g,currDate:b})=>{const{weekGoals:c,isWeekGoalsLoading:T,isWeekGoalsSuccess:D,isWeekGoalsError:x,isWeekGoalsEmpty:O,isWeekGoalsEditEnabled:e,monthGoals:a,isMonthGoalsLoading:s,isMonthGoalsSuccess:y,isMonthGoalsError:m,isMonthGoalsEmpty:f,isMonthGoalsEditEnabled:n}=re();return g==="month"?v("section",{className:"goals",children:[n&&t(Ee,{type:"month"}),t(xe,{className:"goals__list",items:a,render:r=>t(_e,{goal:r,isEditEnabled:n},r.id),isLoading:s,isError:m,isSuccess:y,isEmpty:f,entityName:"goal"})]}):g==="week"?v("section",{className:"goals",children:[e&&t(Ee,{type:"week",date:b}),t(xe,{className:"goals__list",items:c,render:r=>t(_e,{goal:r,isEditEnabled:e},r.id),isLoading:T,isError:x,isSuccess:D,isEmpty:O,entityName:"goals"})]}):null},ht=()=>{const{currDays:g,data:b,currDay:c}=re(),T=a(),D=g.reduce((f,n)=>n.data?[...f,n.data]:f,[]),x=m(),O=s(),e=y();function a(){if(g.length===0)return"";const f=g[0].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"}),n=g[g.length-1].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"});return`${f} - ${n}`}function s(){return D.length?D.reduce((n,r)=>!r.weight||!r.waist?n:[...n,{weight:r.weight,waist:r.waist,date:r.date}],[]):null}function y(){return D.length?D.map(n=>{const r=Q.calcRemainingCaloriesFromDayData(n),i=r<0?Math.abs(r):0,d=Q.getTotalCalories(n),o=d-i;return{name:new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(new Date(n.date)),calories:d,excessCalories:i,caloriesWithoutExcess:o}}):null}function m(){if(!g.length||!b)return[];const f=g[0].date;f.setHours(0,0,0,0);const n=new Date(f);return n.setDate(n.getDate()-7),n.setHours(0,0,0,0),b.filter(i=>{const d=new Date(i.date);return d>=n&&d<f})}return v("section",{className:"report week-report",children:[v(ee,{className:"week-report__header",children:[t("h1",{children:"weekly report"}),t("h3",{children:T})]}),t($e,{type:"week",currData:D,prevData:x}),t(Fe,{type:"week",currDate:c==null?void 0:c.date}),O&&t(Re,{data:O}),e&&t(Ge,{data:e}),b?t("div",{className:"week-report-day-display-container",children:g.map((f,n)=>t(ut,{calenderDay:f},f.id||n))}):t(je,{entityName:"data"})]})};const ft=({weekDays:g,goals:b})=>{const c=g.reduce((e,a)=>a.data?[...e,a.data]:e,[]),T=x(),D=O();function x(){const e=g[0].date.toLocaleString("en-GB",{day:"numeric"}),a=g[g.length-1].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"});return`${e} - ${a}`}function O(){const e={documentedDay:{label:"documented days",value:0},totalCalories:{label:"total calories",value:0},averageCaloriesPerDay:{label:"average calories per day",value:0},averageIntakesPerDay:{label:"average intakes per day",value:0},totalWorkouts:{label:"total workouts",value:0},excessCalories:{label:"excess calories",value:0},exceededDays:{label:"exceeded days",value:0},excessPercentage:{label:"excess percentage (days)",value:0}};return e.documentedDay.value=c.length,e.totalCalories.value=Q.getTotalCalories(c),e.averageCaloriesPerDay.value=Math.round(e.totalCalories.value/e.documentedDay.value),e.averageIntakesPerDay.value=Math.round(c.reduce((a,s)=>{const y=s.intakes.filter(m=>m.type==="food").length;return a+y},0)/c.length),e.totalWorkouts.value=ne.getTotalWorkouts(c),e.excessCalories.value=Q.getWeeklyExcessRateCalories(c),e.excessCalories.value=c.filter(a=>{const s=Q.getDayCaloriesIntake({currDayData:a,data:c}),y=Q.getTotalCaloriesFromDailyData({dailyData:a});return s-y<0}).length,e.excessPercentage.value=Math.round(e.exceededDays.value/c.length*100),Object.values(e)}return v("article",{className:"month-report-week-display",children:[t(ee,{className:"month-report-week-display__header",children:t("h3",{className:"month-report-week-display__header__title",children:T})}),v("div",{className:"month-report-week-display__content-container",children:[t("div",{className:"month-report-week-display__table-container ",children:v("table",{children:[t("thead",{children:v("tr",{children:[t("th",{children:"label"}),t("th",{children:"value"})]})}),t("tbody",{children:D.map((e,a)=>{const s=e.label==="excess percentage (days)";return v("tr",{children:[t("td",{children:e.label}),v("td",{children:[e.value,s?"%":""]})]},a)})})]})}),v("section",{className:"month-report-week-display__goals-container",children:[t("h3",{children:"goals"}),b.length===0?t(je,{entityName:"week goals"}):t("ul",{children:b.map((e,a)=>t(_e,{goal:e,isEditEnabled:!1},a))})]})]})]})},pt=()=>{const{currDays:g,data:b,monthWeekGoals:c}=re();if(g.every(n=>!n.data)||!b)return t("section",{className:"report month-report",children:t("p",{children:"No data for this month"})});const T=s(),D=g.map(n=>n.data).filter(n=>!!n),x=y(),O=m(),e=f(),a=g.reduce((n,r,i,d)=>{const o=new Date(r.date).getDay();if(i===0||o===0)return[...n,{weekDays:[r],goals:[]}];const l=n[n.length-1],p=[...n.slice(0,n.length-1),{...l,weekDays:[...l.weekDays,r],goals:[]}];if((o===6||i===d.length-1)&&c){const u=p[p.length-1],k=c.filter(S=>{const E=new Date(S.date),Y=u.weekDays[0].date;Y.setHours(0,0,0,0);const w=u.weekDays[u.weekDays.length-1].date;return w.setHours(23,59,59,999),E>=Y&&E<=w});p[p.length-1].goals=k}return p},[]);function s(){const n=g[0].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"}),r=g[g.length-1].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"});return`${n} - ${r}`}function y(){if(!g.length||!b)return[];const n=g[0].date;n.setHours(0,0,0,0);const r=n.getMonth()-1,i=n.getFullYear(),d=new Date(i,r,1);return b.filter(l=>{const p=new Date(l.date);return p>=d&&p<n})}function m(){return D?D.reduce((r,i)=>!i.weight||!i.waist?r:[...r,{date:i.date,weight:i.weight,waist:i.waist}],[]):null}function f(){return D?D.map(r=>{const i=Q.calcRemainingCaloriesFromDayData(r),d=i<0?Math.abs(i):0,o=Q.getTotalCalories(r),l=o-d;return{name:new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit"}).format(new Date(r.date)),calories:o,excessCalories:d,caloriesWithoutExcess:l}}):null}return v("section",{className:"report month-report",children:[v(ee,{className:"month-report__header",children:[t("h1",{children:"monthly report"}),t("h3",{children:T})]}),t($e,{type:"month",currData:D,prevData:x,goals:c}),t(Fe,{type:"month"}),O&&t(Re,{data:O}),e&&t(Ge,{data:e}),a.map((n,r)=>t(ft,{weekDays:n.weekDays,goals:n.goals},r))]})},St=()=>{qe({title:"Schedule / Kceli"});const{currDate:g,currDay:b,setCurrDay:c,currDays:T,setCurrDays:D,filterBy:x,calenderDays:O,isLoading:e,isSuccess:a,isError:s,moveToMonth:y,getWeekDays:m,getMonthDays:f}=re(),n=!!b&&x===K.Day,r=T.length>0&&x===K.Day;return J.useEffect(()=>{if(!a||b)return;const i=g,d=O.find(o=>ae(o.date,i));if(d&&(c(d),x!==K.Day)){if(x===K.Week){const o=m(d);if(!o)return;D(o);return}if(x===K.Month){const o=f(d);if(!o)return;D(o);return}}},[O,a,b,T,c,g,x,D,m,f]),v("main",{className:"page schedule-page",children:[e&&t(Be,{}),s&&t(He,{}),a&&v(Pe,{children:[v(ee,{className:"schedule-page__header",children:[v("h2",{className:"schedule-page__header__title",children:[g.toLocaleString("en-GB",{month:"long"})," ",g.getFullYear()]}),v("div",{className:"schedule-page__header__btns-container",children:[t(oe,{onClickFn:()=>y(-1),children:t(Ze,{className:"schedule-page__header__btns-container__btn__icon"})}),t(oe,{onClickFn:()=>y(1),children:t(Ve,{className:"schedule-page__header__btns-container__btn__icon"})})]})]}),t(dt,{}),t(ct,{}),n&&t(st,{day:b}),r&&t(lt,{days:T}),x===K.Week&&t(ht,{}),x===K.Month&&t(pt,{})]})]})};export{St as default};

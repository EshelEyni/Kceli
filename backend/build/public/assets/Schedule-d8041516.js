import{r as J,T as Ye,j as t,m as g,C as ke,D as ne,O as ee,U as me,k as B,V as Te,W as Se,F as Me,b as Be,z as Pe,X as re,Y as z,B as oe,Z as Qe,$ as ae,S as He}from"./index-5efcc07c.js";import{E as ze}from"./ErrorMsg-d10dc34c.js";import{X as we,Y as be,R as Oe,C as Re,W as We}from"./WeightWaistChart-7d2b057d.js";import{z as Ke,F as le,H as Xe,E as je,t as Je}from"./generateCategoricalChart-a69763a8.js";import{c as Ce}from"./index-7394d37a.js";import{L as ge}from"./List-f5d7a516.js";import{i as Ze,u as Ve}from"./intakeUtilService-7bebd10e.js";import{b as qe,c as et}from"./index.esm-09fa97a5.js";import{G as xe}from"./GoalEdit-df179a6f.js";import{A as Ee,G as _e}from"./GoalDisplay-f4d4e02d.js";import{E as Ie}from"./Empty-b8803a90.js";var Ae=Ke({chartName:"BarChart",GraphicalChild:le,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:we},{axisType:"yAxis",AxisComp:be}],formatAxisMap:Xe});var Le={exports:{}};(function(f,b){(function(T,D){f.exports=D(J)})(Ye,c=>(()=>{var T={"./node_modules/css-mediaquery/index.js":(e,a)=>{a.match=r,a.parse=i;var s=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,v=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,m=/^(?:(min|max)-)?(.+)/,p=/(em|rem|px|cm|mm|in|pt|pc)?$/,n=/(dpi|dpcm|dppx)?$/;function r(y,u){return i(y).some(function(k){var S=k.inverse,x=k.type==="all"||u.type===k.type;if(x&&S||!(x||S))return!1;var Y=k.expressions.every(function(w){var W=w.feature,N=w.modifier,j=w.value,M=u[W];if(!M)return!1;switch(W){case"orientation":case"scan":return M.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=l(j),M=l(M);break;case"resolution":j=o(j),M=o(M);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=d(j),M=d(M);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,M=parseInt(M,10)||0;break}switch(N){case"min":return M>=j;case"max":return M<=j;default:return M===j}});return Y&&!S||!Y&&S})}function i(y){return y.split(",").map(function(u){u=u.trim();var k=u.match(s),S=k[1],x=k[2],Y=k[3]||"",w={};return w.inverse=!!S&&S.toLowerCase()==="not",w.type=x?x.toLowerCase():"all",Y=Y.match(/\([^\)]+\)/g)||[],w.expressions=Y.map(function(W){var N=W.match(v),j=N[1].toLowerCase().match(m);return{modifier:j[1],feature:j[2],value:N[2]}}),w})}function d(y){var u=Number(y),k;return u||(k=y.match(/^(\d+)\s*\/\s*(\d+)$/),u=k[1]/k[2]),u}function o(y){var u=parseFloat(y),k=String(y).match(n)[1];switch(k){case"dpcm":return u/2.54;case"dppx":return u*96;default:return u}}function l(y){var u=parseFloat(y),k=String(y).match(p)[1];switch(k){case"em":return u*16;case"rem":return u*16;case"cm":return u*96/2.54;case"mm":return u*96/2.54/10;case"in":return u*96;case"pt":return u*72;case"pc":return u*72/12;default:return u}}},"./node_modules/hyphenate-style-name/index.js":(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var v=/[A-Z]/g,m=/^ms-/,p={};function n(d){return"-"+d.toLowerCase()}function r(d){if(p.hasOwnProperty(d))return p[d];var o=d.replace(v,n);return p[d]=m.test(o)?"-"+o:o}const i=r},"./node_modules/matchmediaquery/index.js":(e,a,s)=>{var v=s("./node_modules/css-mediaquery/index.js").match,m=typeof window<"u"?window.matchMedia:null;function p(r,i,d){var o=this;if(m&&!d){var l=m.call(window,r);this.matches=l.matches,this.media=l.media,l.addListener(k)}else this.matches=v(r,i),this.media=r;this.addListener=y,this.removeListener=u,this.dispose=S;function y(x){l&&l.addListener(x)}function u(x){l&&l.removeListener(x)}function k(x){o.matches=x.matches,o.media=x.media}function S(){l&&l.removeListener(k)}}function n(r,i,d){return new p(r,i,d)}e.exports=n},"./node_modules/object-assign/index.js":e=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;function m(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function p(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var r={},i=0;i<10;i++)r["_"+String.fromCharCode(i)]=i;var d=Object.getOwnPropertyNames(r).map(function(l){return r[l]});if(d.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(l){o[l]=l}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}e.exports=p()?Object.assign:function(n,r){for(var i,d=m(n),o,l=1;l<arguments.length;l++){i=Object(arguments[l]);for(var y in i)s.call(i,y)&&(d[y]=i[y]);if(a){o=a(i);for(var u=0;u<o.length;u++)v.call(i,o[u])&&(d[o[u]]=i[o[u]])}}return d}},"./node_modules/prop-types/checkPropTypes.js":(e,a,s)=>{var v=function(){};{var m=s("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),p={},n=s("./node_modules/prop-types/lib/has.js");v=function(i){var d="Warning: "+i;typeof console<"u"&&console.error(d);try{throw new Error(d)}catch{}}}function r(i,d,o,l,y){for(var u in i)if(n(i,u)){var k;try{if(typeof i[u]!="function"){var S=Error((l||"React class")+": "+o+" type `"+u+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof i[u]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw S.name="Invariant Violation",S}k=i[u](d,u,l,o,null,m)}catch(Y){k=Y}if(k&&!(k instanceof Error)&&v((l||"React class")+": type specification of "+o+" `"+u+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof k+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),k instanceof Error&&!(k.message in p)){p[k.message]=!0;var x=y?y():"";v("Failed "+o+" type: "+k.message+(x??""))}}}r.resetWarningCache=function(){p={}},e.exports=r},"./node_modules/prop-types/factoryWithTypeCheckers.js":(e,a,s)=>{var v=s("./node_modules/react-is/index.js"),m=s("./node_modules/object-assign/index.js"),p=s("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),n=s("./node_modules/prop-types/lib/has.js"),r=s("./node_modules/prop-types/checkPropTypes.js"),i=function(){};i=function(o){var l="Warning: "+o;typeof console<"u"&&console.error(l);try{throw new Error(l)}catch{}};function d(){return null}e.exports=function(o,l){var y=typeof Symbol=="function"&&Symbol.iterator,u="@@iterator";function k(h){var C=h&&(y&&h[y]||h[u]);if(typeof C=="function")return C}var S="<<anonymous>>",x={array:N("array"),bigint:N("bigint"),bool:N("boolean"),func:N("function"),number:N("number"),object:N("object"),string:N("string"),symbol:N("symbol"),any:j(),arrayOf:M,element:H(),elementType:K(),instanceOf:V,node:he(),objectOf:de,oneOf:ce,oneOfType:ue,shape:fe,exact:pe};function Y(h,C){return h===C?h!==0||1/h===1/C:h!==h&&C!==C}function w(h,C){this.message=h,this.data=C&&typeof C=="object"?C:{},this.stack=""}w.prototype=Error.prototype;function W(h){var C={},L=0;function I($,R,A,G,U,F,_){if(G=G||S,F=F||A,_!==p){if(l){var Q=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Q.name="Invariant Violation",Q}else if(typeof console<"u"){var X=G+":"+A;!C[X]&&L<3&&(i("You are manually calling a React.PropTypes validation function for the `"+F+"` prop on `"+G+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),C[X]=!0,L++)}}return R[A]==null?$?R[A]===null?new w("The "+U+" `"+F+"` is marked as required "+("in `"+G+"`, but its value is `null`.")):new w("The "+U+" `"+F+"` is marked as required in "+("`"+G+"`, but its value is `undefined`.")):null:h(R,A,G,U,F)}var P=I.bind(null,!1);return P.isRequired=I.bind(null,!0),P}function N(h){function C(L,I,P,$,R,A){var G=L[I],U=Z(G);if(U!==h){var F=q(G);return new w("Invalid "+$+" `"+R+"` of type "+("`"+F+"` supplied to `"+P+"`, expected ")+("`"+h+"`."),{expectedType:h})}return null}return W(C)}function j(){return W(d)}function M(h){function C(L,I,P,$,R){if(typeof h!="function")return new w("Property `"+R+"` of component `"+P+"` has invalid PropType notation inside arrayOf.");var A=L[I];if(!Array.isArray(A)){var G=Z(A);return new w("Invalid "+$+" `"+R+"` of type "+("`"+G+"` supplied to `"+P+"`, expected an array."))}for(var U=0;U<A.length;U++){var F=h(A,U,P,$,R+"["+U+"]",p);if(F instanceof Error)return F}return null}return W(C)}function H(){function h(C,L,I,P,$){var R=C[L];if(!o(R)){var A=Z(R);return new w("Invalid "+P+" `"+$+"` of type "+("`"+A+"` supplied to `"+I+"`, expected a single ReactElement."))}return null}return W(h)}function K(){function h(C,L,I,P,$){var R=C[L];if(!v.isValidElementType(R)){var A=Z(R);return new w("Invalid "+P+" `"+$+"` of type "+("`"+A+"` supplied to `"+I+"`, expected a single ReactElement type."))}return null}return W(h)}function V(h){function C(L,I,P,$,R){if(!(L[I]instanceof h)){var A=h.name||S,G=ie(L[I]);return new w("Invalid "+$+" `"+R+"` of type "+("`"+G+"` supplied to `"+P+"`, expected ")+("instance of `"+A+"`."))}return null}return W(C)}function ce(h){if(!Array.isArray(h))return arguments.length>1?i("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):i("Invalid argument supplied to oneOf, expected an array."),d;function C(L,I,P,$,R){for(var A=L[I],G=0;G<h.length;G++)if(Y(A,h[G]))return null;var U=JSON.stringify(h,function(_,Q){var X=q(Q);return X==="symbol"?String(Q):Q});return new w("Invalid "+$+" `"+R+"` of value `"+String(A)+"` "+("supplied to `"+P+"`, expected one of "+U+"."))}return W(C)}function de(h){function C(L,I,P,$,R){if(typeof h!="function")return new w("Property `"+R+"` of component `"+P+"` has invalid PropType notation inside objectOf.");var A=L[I],G=Z(A);if(G!=="object")return new w("Invalid "+$+" `"+R+"` of type "+("`"+G+"` supplied to `"+P+"`, expected an object."));for(var U in A)if(n(A,U)){var F=h(A,U,P,$,R+"."+U,p);if(F instanceof Error)return F}return null}return W(C)}function ue(h){if(!Array.isArray(h))return i("Invalid argument supplied to oneOfType, expected an instance of array."),d;for(var C=0;C<h.length;C++){var L=h[C];if(typeof L!="function")return i("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+ve(L)+" at index "+C+"."),d}function I(P,$,R,A,G){for(var U=[],F=0;F<h.length;F++){var _=h[F],Q=_(P,$,R,A,G,p);if(Q==null)return null;Q.data&&n(Q.data,"expectedType")&&U.push(Q.data.expectedType)}var X=U.length>0?", expected one of type ["+U.join(", ")+"]":"";return new w("Invalid "+A+" `"+G+"` supplied to "+("`"+R+"`"+X+"."))}return W(I)}function he(){function h(C,L,I,P,$){return te(C[L])?null:new w("Invalid "+P+" `"+$+"` supplied to "+("`"+I+"`, expected a ReactNode."))}return W(h)}function se(h,C,L,I,P){return new w((h||"React class")+": "+C+" type `"+L+"."+I+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+P+"`.")}function fe(h){function C(L,I,P,$,R){var A=L[I],G=Z(A);if(G!=="object")return new w("Invalid "+$+" `"+R+"` of type `"+G+"` "+("supplied to `"+P+"`, expected `object`."));for(var U in h){var F=h[U];if(typeof F!="function")return se(P,$,R,U,q(F));var _=F(A,U,P,$,R+"."+U,p);if(_)return _}return null}return W(C)}function pe(h){function C(L,I,P,$,R){var A=L[I],G=Z(A);if(G!=="object")return new w("Invalid "+$+" `"+R+"` of type `"+G+"` "+("supplied to `"+P+"`, expected `object`."));var U=m({},L[I],h);for(var F in U){var _=h[F];if(n(h,F)&&typeof _!="function")return se(P,$,R,F,q(_));if(!_)return new w("Invalid "+$+" `"+R+"` key `"+F+"` supplied to `"+P+"`.\nBad object: "+JSON.stringify(L[I],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(h),null,"  "));var Q=_(A,F,P,$,R+"."+F,p);if(Q)return Q}return null}return W(C)}function te(h){switch(typeof h){case"number":case"string":case"undefined":return!0;case"boolean":return!h;case"object":if(Array.isArray(h))return h.every(te);if(h===null||o(h))return!0;var C=k(h);if(C){var L=C.call(h),I;if(C!==h.entries){for(;!(I=L.next()).done;)if(!te(I.value))return!1}else for(;!(I=L.next()).done;){var P=I.value;if(P&&!te(P[1]))return!1}}else return!1;return!0;default:return!1}}function ye(h,C){return h==="symbol"?!0:C?C["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&C instanceof Symbol:!1}function Z(h){var C=typeof h;return Array.isArray(h)?"array":h instanceof RegExp?"object":ye(C,h)?"symbol":C}function q(h){if(typeof h>"u"||h===null)return""+h;var C=Z(h);if(C==="object"){if(h instanceof Date)return"date";if(h instanceof RegExp)return"regexp"}return C}function ve(h){var C=q(h);switch(C){case"array":case"object":return"an "+C;case"boolean":case"date":case"regexp":return"a "+C;default:return C}}function ie(h){return!h.constructor||!h.constructor.name?S:h.constructor.name}return x.checkPropTypes=r,x.resetWarningCache=r.resetWarningCache,x.PropTypes=x,x}},"./node_modules/prop-types/index.js":(e,a,s)=>{{var v=s("./node_modules/react-is/index.js"),m=!0;e.exports=s("./node_modules/prop-types/factoryWithTypeCheckers.js")(v.isElement,m)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=a},"./node_modules/prop-types/lib/has.js":e=>{e.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(e,a)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var s=typeof Symbol=="function"&&Symbol.for,v=s?Symbol.for("react.element"):60103,m=s?Symbol.for("react.portal"):60106,p=s?Symbol.for("react.fragment"):60107,n=s?Symbol.for("react.strict_mode"):60108,r=s?Symbol.for("react.profiler"):60114,i=s?Symbol.for("react.provider"):60109,d=s?Symbol.for("react.context"):60110,o=s?Symbol.for("react.async_mode"):60111,l=s?Symbol.for("react.concurrent_mode"):60111,y=s?Symbol.for("react.forward_ref"):60112,u=s?Symbol.for("react.suspense"):60113,k=s?Symbol.for("react.suspense_list"):60120,S=s?Symbol.for("react.memo"):60115,x=s?Symbol.for("react.lazy"):60116,Y=s?Symbol.for("react.block"):60121,w=s?Symbol.for("react.fundamental"):60117,W=s?Symbol.for("react.responder"):60118,N=s?Symbol.for("react.scope"):60119;function j(_){return typeof _=="string"||typeof _=="function"||_===p||_===l||_===r||_===n||_===u||_===k||typeof _=="object"&&_!==null&&(_.$$typeof===x||_.$$typeof===S||_.$$typeof===i||_.$$typeof===d||_.$$typeof===y||_.$$typeof===w||_.$$typeof===W||_.$$typeof===N||_.$$typeof===Y)}function M(_){if(typeof _=="object"&&_!==null){var Q=_.$$typeof;switch(Q){case v:var X=_.type;switch(X){case o:case l:case p:case r:case n:case u:return X;default:var De=X&&X.$$typeof;switch(De){case d:case y:case x:case S:case i:return De;default:return Q}}case m:return Q}}}var H=o,K=l,V=d,ce=i,de=v,ue=y,he=p,se=x,fe=S,pe=m,te=r,ye=n,Z=u,q=!1;function ve(_){return q||(q=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),ie(_)||M(_)===o}function ie(_){return M(_)===l}function h(_){return M(_)===d}function C(_){return M(_)===i}function L(_){return typeof _=="object"&&_!==null&&_.$$typeof===v}function I(_){return M(_)===y}function P(_){return M(_)===p}function $(_){return M(_)===x}function R(_){return M(_)===S}function A(_){return M(_)===m}function G(_){return M(_)===r}function U(_){return M(_)===n}function F(_){return M(_)===u}a.AsyncMode=H,a.ConcurrentMode=K,a.ContextConsumer=V,a.ContextProvider=ce,a.Element=de,a.ForwardRef=ue,a.Fragment=he,a.Lazy=se,a.Memo=fe,a.Portal=pe,a.Profiler=te,a.StrictMode=ye,a.Suspense=Z,a.isAsyncMode=ve,a.isConcurrentMode=ie,a.isContextConsumer=h,a.isContextProvider=C,a.isElement=L,a.isForwardRef=I,a.isFragment=P,a.isLazy=$,a.isMemo=R,a.isPortal=A,a.isProfiler=G,a.isStrictMode=U,a.isSuspense=F,a.isValidElementType=j,a.typeOf=M})()},"./node_modules/react-is/index.js":(e,a,s)=>{e.exports=s("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(e,a,s)=>{s.r(a),s.d(a,{shallowEqualArrays:()=>m,shallowEqualObjects:()=>v});function v(p,n){if(p===n)return!0;if(!p||!n)return!1;var r=Object.keys(p),i=Object.keys(n),d=r.length;if(i.length!==d)return!1;for(var o=0;o<d;o++){var l=r[o];if(p[l]!==n[l]||!Object.prototype.hasOwnProperty.call(n,l))return!1}return!0}function m(p,n){if(p===n)return!0;if(!p||!n)return!1;var r=p.length;if(n.length!==r)return!1;for(var i=0;i<r;i++)if(p[i]!==n[i])return!1;return!0}},"./src/Component.ts":function(e,a,s){var v=this&&this.__rest||function(r,i){var d={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.indexOf(o)<0&&(d[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(r);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(r,o[l])&&(d[o[l]]=r[o[l]]);return d},m=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(a,"__esModule",{value:!0});var p=m(s("./src/useMediaQuery.ts")),n=function(r){var i=r.children,d=r.device,o=r.onChange,l=v(r,["children","device","onChange"]),y=(0,p.default)(l,d,o);return typeof i=="function"?i(y):y?i:null};a.default=n},"./src/Context.ts":(e,a,s)=>{Object.defineProperty(a,"__esModule",{value:!0});var v=s("react"),m=(0,v.createContext)(void 0);a.default=m},"./src/index.ts":function(e,a,s){var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(a,"__esModule",{value:!0}),a.Context=a.toQuery=a.useMediaQuery=a.default=void 0;var m=v(s("./src/useMediaQuery.ts"));a.useMediaQuery=m.default;var p=v(s("./src/Component.ts"));a.default=p.default;var n=v(s("./src/toQuery.ts"));a.toQuery=n.default;var r=v(s("./src/Context.ts"));a.Context=r.default},"./src/mediaQuery.ts":function(e,a,s){var v=this&&this.__assign||function(){return v=Object.assign||function(u){for(var k,S=1,x=arguments.length;S<x;S++){k=arguments[S];for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&(u[Y]=k[Y])}return u},v.apply(this,arguments)},m=this&&this.__rest||function(u,k){var S={};for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&k.indexOf(x)<0&&(S[x]=u[x]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Y=0,x=Object.getOwnPropertySymbols(u);Y<x.length;Y++)k.indexOf(x[Y])<0&&Object.prototype.propertyIsEnumerable.call(u,x[Y])&&(S[x[Y]]=u[x[Y]]);return S},p=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(a,"__esModule",{value:!0});var n=p(s("./node_modules/prop-types/index.js")),r=n.default.oneOfType([n.default.string,n.default.number]),i={all:n.default.bool,grid:n.default.bool,aural:n.default.bool,braille:n.default.bool,handheld:n.default.bool,print:n.default.bool,projection:n.default.bool,screen:n.default.bool,tty:n.default.bool,tv:n.default.bool,embossed:n.default.bool},d={orientation:n.default.oneOf(["portrait","landscape"]),scan:n.default.oneOf(["progressive","interlace"]),aspectRatio:n.default.string,deviceAspectRatio:n.default.string,height:r,deviceHeight:r,width:r,deviceWidth:r,color:n.default.bool,colorIndex:n.default.bool,monochrome:n.default.bool,resolution:r,type:Object.keys(i)};d.type;var o=m(d,["type"]),l=v({minAspectRatio:n.default.string,maxAspectRatio:n.default.string,minDeviceAspectRatio:n.default.string,maxDeviceAspectRatio:n.default.string,minHeight:r,maxHeight:r,minDeviceHeight:r,maxDeviceHeight:r,minWidth:r,maxWidth:r,minDeviceWidth:r,maxDeviceWidth:r,minColor:n.default.number,maxColor:n.default.number,minColorIndex:n.default.number,maxColorIndex:n.default.number,minMonochrome:n.default.number,maxMonochrome:n.default.number,minResolution:r,maxResolution:r},o),y=v(v({},i),l);a.default={all:y,types:i,matchers:d,features:l}},"./src/toQuery.ts":function(e,a,s){var v=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(a,"__esModule",{value:!0});var m=v(s("./node_modules/hyphenate-style-name/index.js")),p=v(s("./src/mediaQuery.ts")),n=function(o){return"not ".concat(o)},r=function(o,l){var y=(0,m.default)(o);return typeof l=="number"&&(l="".concat(l,"px")),l===!0?y:l===!1?n(y):"(".concat(y,": ").concat(l,")")},i=function(o){return o.join(" and ")},d=function(o){var l=[];return Object.keys(p.default.all).forEach(function(y){var u=o[y];u!=null&&l.push(r(y,u))}),i(l)};a.default=d},"./src/useMediaQuery.ts":function(e,a,s){var v=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(a,"__esModule",{value:!0});var m=s("react"),p=v(s("./node_modules/matchmediaquery/index.js")),n=v(s("./node_modules/hyphenate-style-name/index.js")),r=s("./node_modules/shallow-equal/dist/index.esm.js"),i=v(s("./src/toQuery.ts")),d=v(s("./src/Context.ts")),o=function(w){return w.query||(0,i.default)(w)},l=function(w){if(w){var W=Object.keys(w);return W.reduce(function(N,j){return N[(0,n.default)(j)]=w[j],N},{})}},y=function(){var w=(0,m.useRef)(!1);return(0,m.useEffect)(function(){w.current=!0},[]),w.current},u=function(w){var W=(0,m.useContext)(d.default),N=function(){return l(w)||l(W)},j=(0,m.useState)(N),M=j[0],H=j[1];return(0,m.useEffect)(function(){var K=N();(0,r.shallowEqualObjects)(M,K)||H(K)},[w,W]),M},k=function(w){var W=function(){return o(w)},N=(0,m.useState)(W),j=N[0],M=N[1];return(0,m.useEffect)(function(){var H=W();j!==H&&M(H)},[w]),j},S=function(w,W){var N=function(){return(0,p.default)(w,W||{},!!W)},j=(0,m.useState)(N),M=j[0],H=j[1],K=y();return(0,m.useEffect)(function(){if(K){var V=N();return H(V),function(){V&&V.dispose()}}},[w,W]),M},x=function(w){var W=(0,m.useState)(w.matches),N=W[0],j=W[1];return(0,m.useEffect)(function(){var M=function(H){j(H.matches)};return w.addListener(M),j(w.matches),function(){w.removeListener(M)}},[w]),N},Y=function(w,W,N){var j=u(W),M=k(w);if(!M)throw new Error("Invalid or missing MediaQuery!");var H=S(M,j),K=x(H),V=y();return(0,m.useEffect)(function(){V&&N&&N(K)},[K]),(0,m.useEffect)(function(){return function(){H&&H.dispose()}},[]),K};a.default=Y},react:e=>{e.exports=c}},D={};function E(e){var a=D[e];if(a!==void 0)return a.exports;var s=D[e]={exports:{}};return T[e].call(s.exports,s,s.exports,E),s.exports}E.d=(e,a)=>{for(var s in a)E.o(a,s)&&!E.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},E.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),E.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var O=E("./src/index.ts");return O})())})(Le);var Ne=Le.exports;const tt=({data:f})=>{const b=f.reduce((e,a)=>a.calories>e?a.calories:e,-1/0),c=[0,Math.round(b*1.1)],T=Ne.useMediaQuery({query:"(max-width: 600px)"}),D=window.innerWidth,E={x:Math.round(D*.65)*.5*-1,y:0},O={position:"absolute",left:"50%",top:"25%",transform:"translate(-50%, -50%)",wordBreak:"break-all",width:D*.65};return t("div",{style:{position:"relative",width:"100%",maxWidth:1200,height:300},children:t(Oe,{children:g(Ae,{data:f,children:[t(Re,{strokeDasharray:"3 3"}),t(we,{dataKey:"name"}),t(be,{domain:c}),t(je,{wrapperStyle:T?O:void 0,labelStyle:{fontSize:14,fontWeight:"bold",whiteSpace:"pre-wrap"},position:T?E:void 0}),t(le,{dataKey:"calories",barSize:25,children:f.map((e,a)=>t(Je,{fill:ke[a%ke.length]},`cell-${a}`))})]})})})};function rt(f){if(!f||f.intakes.length===0)return"No data";let b=0,c=0,T;for(const O of f.intakes){if(!O.recordedAt||O.type!=="food")continue;const e=new Date(O.recordedAt).getTime();T!==void 0&&(b+=e-T,c++),T=e}if(c===0)return"No data";const E=b/c/1e3/60/60;return E>=1?`${Math.round(E)} hours`:`${Math.round(E*60)} minutes`}const at={calcAverageTimeBetweenMeals:rt};const nt=({workout:f,isTableShown:b=!0})=>{const{description:c,type:T,items:D}=f,E=ne.calcWorkoutDuration({workout:f})+" min",O=Math.round(D.filter(e=>e.isCompleted).length/D.length*100);return g("article",{className:"day-report__workout-preview",children:[t(ee,{className:"day-report__workout-preview__header",children:g("h3",{children:[c," - ",T," - ",E," - ",O,"% completed"]})}),b&&g("table",{className:"day-report__workout-preview__table",children:[t("thead",{className:"day-report__workout-preview__table__header",children:g("tr",{children:[t("th",{children:"Exercise"}),t("th",{children:"Duration"}),t("th",{children:"Reps"}),t("th",{children:"Sets"}),t("th",{children:"Weight"}),t("th",{className:"day-report__workout-preview__table__header__completed",children:"Completed"})]})}),t("tbody",{className:"day-report__workout-preview__table__body",children:D.map((e,a)=>{const s=ne.calcItemDuration(e)+" min";return e.type==="superset"?g(J.Fragment,{children:[g("tr",{children:[t("td",{children:e.name}),t("td",{children:s}),t("td",{}),t("td",{children:e.sets}),t("td",{}),t("td",{className:"completed",children:e.isCompleted?t(me,{}):""})]}),e.items.map((v,m)=>g("tr",{children:[t("td",{children:v.name}),t("td",{}),t("td",{children:v.reps}),t("td",{}),g("td",{children:[v.weight," ",v.weightUnit]}),t("td",{className:"completed"})]},`superset-${a}-subitem-${m}`))]},`superset-${a}`):e.type==="anaerobic"?g("tr",{children:[t("td",{children:e.name}),t("td",{children:s}),t("td",{children:e.reps}),t("td",{children:e.sets}),g("td",{children:[e.weight," ",e.weightUnit]}),t("td",{className:"completed",children:e.isCompleted?t(me,{}):""})]},a):g("tr",{children:[t("td",{children:e.name}),t("td",{children:s}),t("td",{}),t("td",{}),t("td",{}),t("td",{className:"completed",children:e.isCompleted?t(me,{}):""})]},a)})})]})]})};const $e=({intake:f})=>{const[b,c]=J.useState(!1),T=f.name||f.items.map(e=>e.name).join(", "),D=B.getTotalCalories(f),E=f.recordedAt?new Date(f.recordedAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"";function O(){c(!b)}return g("article",{className:Ce("day-report__intake-preview",{unrecorded:!f.isRecorded}),children:[g(ee,{className:"day-report__intake-preview__header",onClickFn:O,children:[g("h3",{className:"day-report__intake-preview__header__title",children:[T," - ",D," kcal - ",E]}),t("div",{children:b?t(Te,{}):t(Se,{})})]}),b&&g(Me,{children:[g("table",{className:"day-report__intake-preview__table",children:[t("thead",{className:"day-report__intake-preview__table__head",children:g("tr",{children:[t("th",{children:"Item"}),t("th",{children:"Calories"}),t("th",{children:"Weight"})]})}),t("tbody",{className:"day-report__intake-preview__table__body",children:f.items.map(e=>g("tr",{children:[t("td",{children:e.name}),t("td",{children:e.calories}),g("td",{children:[e.quantity," ",e.unit]})]},e.id))})]}),!f.isRecorded&&t("h4",{className:"day-report__intake-preview__unrecorded",children:"unrecorded"})]})]})},ot=({day:f})=>{const{loggedInUser:b}=Be(),{data:c,backgroundColor:T}=f;if(!c)return t("section",{className:"report day-report empty",children:t("p",{children:"No data for this day"})});const D=B.getTotalCalories(c),E=B.calcRemainingCalories(b,c),e=` calories ${E>0?"remaining":"over your limit"}`,a=new Intl.DateTimeFormat("en-US",{dateStyle:"full"}).format(f.date),s=at.calcAverageTimeBetweenMeals(c),v=st(c);return g("section",{className:"report day-report",children:[g(ee,{className:"day-report__header",children:[t("h1",{children:a}),t("div",{className:"day-report__header__color-circle",style:{backgroundColor:T}})]}),g("div",{className:"day-report__weight",children:[c.weight&&g("p",{children:[t("strong",{children:"Weight: "}),c.weight]}),c.waist&&g("p",{children:[t("strong",{children:"Waist: "}),c.waist]})]}),g("div",{className:"day-report__calories",children:[t("h3",{className:"day-report__calories__title",children:"calories"}),g("p",{children:[t("strong",{children:"consumed Calories: "}),D]}),g("p",{children:[g("strong",{children:[e,": "]}),Math.abs(E)]}),g("p",{children:[t("strong",{children:"target caloric intake: "}),f.targetCalorie]})]}),c.intakes.length>0&&g("div",{className:"day-report__intakes",children:[t("h2",{className:"day-report__intakes__title",children:"Intakes"}),g("h4",{children:["Number of Intakes: ",c.intakes.length]}),g("h4",{children:["Average time between meals: ",s]}),t(ge,{className:"day-report__intakes__list",items:c.intakes,render:m=>t($e,{intake:m},m.id)}),t(tt,{data:v})]}),c.workouts.length>0&&g("div",{className:"day-report__workouts",children:[t("h1",{className:"day-report__workouts__title",children:"Workouts"}),t("ul",{children:c.workouts.map((m,p)=>t("li",{children:t(nt,{workout:m})},p))})]})]})};function st(f){return Ze.sortIntakesByRecordedAt(f.intakes).map(T=>({name:T.name||T.items.reduce((D,E,O,e)=>e.length===1?E.name:O===0?D+`${E.name}, `:O===e.length-1?D+`and ${E.name}`:D+` ${E.name}, `,""),calories:T.items.reduce((D,E)=>D+Math.round(E.calories),0)}))}function it(f){return Pe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48zm62.63 304L296 374.63 177.37 256 296 137.37 318.63 160l-96 96z"}}]})(f)}function lt(f){return Pe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48zm-40 326.63L193.37 352l96-96-96-96L216 137.37 334.63 256z"}}]})(f)}const ct=({days:f})=>t("section",{className:"days-report",children:f.map(b=>t("div",{className:"day-report",children:t("h3",{className:"day-report__date",children:b.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})},b.date.toISOString()))});const dt=()=>{const{isSuccess:f,filterBy:b,setFilterBy:c,currDay:T,setCurrDays:D,getWeekDays:E,getMonthDays:O,setQueryParams:e}=re();function a(s){if(f){switch(s){case z.Day:D([]);break;case z.Week:{if(!T)return;const v=E(T);if(!v)return;D(v);break}case z.Month:{if(!T)return;const v=O(T);if(!v)return;D(v);break}}c(s),e({key:"filterBy",value:s})}}return t("section",{className:"schedule-filter",children:Object.values(z).map(s=>t(oe,{onClickFn:()=>a(s),className:Ce("schedule-filter__btn",{active:b===s}),children:t("span",{children:s})},s))})};const ut=()=>{const{currDate:f,currDay:b,setCurrDay:c,currDays:T,setCurrDays:D,filterBy:E,calenderDays:O,isSuccess:e,moveToMonth:a,getWeekDays:s,getMonthDays:v,setQueryParams:m}=re(),[p,n]=J.useState(!1),r=J.useRef(null),i=J.useRef(0);function d(o){switch(E){case z.Day:{if(!p){c(o),m({key:"date",value:o.date}),D([]);return}if(!b)return;const l=[],y=O.findIndex(x=>ae(x.date,b==null?void 0:b.date)),u=O.findIndex(x=>ae(x.date,o.date)),k=Math.min(y,u),S=Math.max(y,u);for(let x=k;x<=S;x++)l.push(O[x]);D(l),c(o),m({key:"date",value:o.date});break}case z.Week:{const l=s(o);if(!l)return;D(l),c(o),m({key:"date",value:o.date});break}case z.Month:{const l=v(o);if(!l)return;D(l),c(o),m({key:"date",value:o.date});break}}}return J.useEffect(()=>{const o=u=>{const k=u.touches[0];i.current=k.clientX},l=u=>{const S=u.changedTouches[0].clientX,x=50;S-i.current>x&&a(-1),i.current-S>x&&a(1)},y=r.current;if(y)return y.addEventListener("touchstart",o,!1),y.addEventListener("touchend",l,!1),()=>{y&&(y.removeEventListener("touchstart",o),y.removeEventListener("touchend",l))}},[f,e,a]),J.useEffect(()=>{const o=y=>{y.key==="Shift"&&n(!0)},l=y=>{y.key==="Shift"&&n(!1)};return window.addEventListener("keydown",o),window.addEventListener("keyup",l),()=>{window.removeEventListener("keydown",o),window.removeEventListener("keyup",l)}},[]),g("ul",{className:"calender",ref:r,children:[Qe.map(o=>t("li",{className:"calender__item weekday-item",children:t("h3",{className:"calender__item__title",children:o.short})},o.short)),O.map(o=>{const{backgroundColor:l,date:y}=o,u=o.backgroundColor?"white":"",k=o.isBorder?"4px solid var(--color-success)":"none";return t("li",{className:Ce("calender__item",{active:b&&ae(o.date,b.date)||T.some(S=>ae(o.date,S.date))}),onClick:()=>d(o),style:{backgroundColor:l,color:u},children:t("div",{className:"calender__item__wrapper",style:{border:k},children:t("h3",{children:o.day})})},y.toISOString())})]})};const Ge=({type:f,currData:b,prevData:c,goals:T})=>{const D=E();function E(){if(!b.length||!(c!=null&&c.length))return;const e={documentedDay:{label:"documented days",curr:0,prev:0,trend:{value:0,positive:"up"}},totalCalories:{label:"total calories",curr:0,prev:0,trend:{value:0,positive:"down"}},averageCaloriesPerDay:{label:"average calories per day",curr:0,prev:0,trend:{value:0,positive:"down"}},averageIntakesPerDay:{label:"average intakes per day",curr:0,prev:0,trend:{value:0,positive:"down"}},totalWorkouts:{label:"total workouts",curr:0,prev:0,trend:{value:0,positive:"up"}},excessCalories:{label:"excess calories",curr:0,prev:0,trend:{value:0,positive:"down"}},exceededDays:{label:"exceeded days",curr:0,prev:0,trend:{value:0,positive:"down"}},excessPercentage:{label:"excess percentage (days)",curr:0,prev:0,trend:{value:0,positive:"down"}}};if(e.documentedDay.curr=b.length,e.documentedDay.prev=c.length,e.documentedDay.trend.value=e.documentedDay.curr-e.documentedDay.prev,e.totalCalories.curr=B.getTotalCalories(b),e.totalCalories.prev=B.getTotalCalories(c),e.totalCalories.trend.value=e.totalCalories.curr-e.totalCalories.prev,e.averageCaloriesPerDay.curr=Math.round(e.totalCalories.curr/b.length),e.averageCaloriesPerDay.prev=Math.round(e.totalCalories.prev/c.length),e.averageCaloriesPerDay.trend.value=e.averageCaloriesPerDay.curr-e.averageCaloriesPerDay.prev,e.totalWorkouts.curr=ne.getTotalWorkouts(b),e.totalWorkouts.prev=ne.getTotalWorkouts(c),e.totalWorkouts.trend.value=e.totalWorkouts.curr-e.totalWorkouts.prev,e.excessCalories.curr=B.getWeeklyExcessRateCalories(b),e.excessCalories.prev=B.getWeeklyExcessRateCalories(c),e.excessCalories.trend.value=e.excessCalories.curr-e.excessCalories.prev,e.exceededDays.curr=b.filter(r=>{const i=B.getDayCaloriesIntake({currDayData:r,data:b}),d=B.getTotalCaloriesFromDailyData({dailyData:r});return i-d<0}).length,e.exceededDays.prev=c.filter(r=>{const i=B.getDayCaloriesIntake({currDayData:r,data:c}),d=B.getTotalCaloriesFromDailyData({dailyData:r});return i-d<0}).length,e.exceededDays.trend.value=e.exceededDays.curr-e.exceededDays.prev,e.excessPercentage.curr=Math.round(e.exceededDays.curr/b.length*100),e.excessPercentage.prev=Math.round(e.exceededDays.prev/c.length*100),e.excessPercentage.trend.value=e.excessPercentage.curr-e.excessPercentage.prev,e.averageIntakesPerDay.curr=Math.round(b.reduce((r,i)=>{const d=i.intakes.filter(o=>o.type==="food").length;return r+d},0)/b.length),e.averageIntakesPerDay.prev=Math.round(c.reduce((r,i)=>{const d=i.intakes.filter(o=>o.type==="food").length;return r+d},0)/c.length),f==="week")return Object.values(e);function a(r){var y,u;if(!r.length)return 0;const i=((y=r.find(k=>!!k.weight))==null?void 0:y.weight)||0,d=((u=r.findLast(k=>!!k.weight))==null?void 0:u.weight)||0,l=(i-d)/r.length;return isNaN(l)?0:l>=0?+l.toFixed(2):0}e.weightLossPerDay={label:"weight loss per day",curr:0,prev:0,trend:{value:0,positive:"up"}},e.weightLossPerDay.curr=a(b),e.weightLossPerDay.prev=a(c),e.weightLossPerDay.trend.value=e.weightLossPerDay.curr-e.weightLossPerDay.prev;function s(r){let i=0,d=0;return r.forEach(o=>{o.weight&&(i+=o.weight,d++)}),d>0?Math.round(i/d):0}if(e.averageWeight={label:"average weight",curr:0,prev:0,trend:{value:0,positive:"down"}},e.averageWeight.curr=s(b),e.averageWeight.prev=s(c),e.averageWeight.trend.value=e.averageWeight.curr-e.averageWeight.prev,!T||!T.length)return Object.values(e);const v=new Date(c[0].date).getMonth(),m=new Date(b[0].date).getMonth(),p=T.filter(r=>new Date(r.date).getMonth()===v),n=T.filter(r=>new Date(r.date).getMonth()===m);return e.totalGoals={label:"total goals",curr:0,prev:0,trend:{value:0,positive:"up"}},e.totalGoals.curr=n.length,e.totalGoals.prev=p.length,e.completedGoalsPerc={label:"completed goals percentage",curr:0,prev:0,trend:{value:0,positive:"up"}},e.completedGoalsPerc.curr=n.length?Math.round(n.filter(r=>r.isCompleted).length/n.length*100):0,e.completedGoalsPerc.prev=p.length?Math.round(p.filter(r=>r.isCompleted).length/p.length*100):0,e.completedGoalsPerc.trend.value=e.completedGoalsPerc.curr-e.completedGoalsPerc.prev,Object.values(e)}function O({trend:e,positive:a}){if(!e)return;const s=20;return e>0?t(qe,{size:s,color:a==="up"?"green":"red"}):t(et,{size:s,color:a==="down"?"green":"red"})}return D?t("div",{className:"schedule-report-table",children:g("table",{children:[t("thead",{children:g("tr",{children:[t("th",{children:"value"}),g("th",{children:["previous ",f]}),g("th",{children:["current ",f]}),t("th",{children:"trend"})]})}),t("tbody",{children:D.map((e,a)=>{const s=e.label==="excess percentage (days)"||e.label==="completed goals percentage";return g("tr",{children:[t("td",{children:e.label}),g("td",{children:[e.prev,s?"%":""]}),g("td",{children:[e.curr,s?"%":""]}),t("td",{children:O({trend:e.trend.value,positive:e.trend.positive})})]},a)})})]})}):null};const ht=({calenderDay:f})=>{const{backgroundColor:b,data:c,date:T}=f,D=Ne.useMediaQuery({query:"(max-width: 600px)"}),[E,O]=J.useState(!D),[e,a]=J.useState(!1);if(!c)return null;const s=new Date(T).toLocaleDateString("en-US",{weekday:"short"}),v=B.getTotalCalories(c),m=B.calcRemainingCaloriesFromDayData(c),p=m>0?"remaining":"over your limit",n=B.getDailyExcessRate({remainingCalories:m,targetCaloricIntake:c.targetCaloricIntake}),r=` calories ${p}`,i=c.intakes.length;function d(){O(o=>!o)}return g("article",{className:"week-report-day-display",children:[t(ee,{className:"week-report-day-display__header",style:{backgroundColor:b},children:t("h3",{children:s})}),E&&g("div",{className:"week-report-day-display__wrapper",children:[t("div",{className:"week-report-day-display__calories",children:t("table",{children:g("tbody",{children:[g("tr",{children:[t("th",{children:"Consumed Calories"}),t("td",{children:v})]}),g("tr",{children:[t("th",{children:r}),t("td",{children:Math.abs(m)})]}),g("tr",{children:[t("th",{children:"Target Caloric Intake"}),t("td",{children:c.targetCaloricIntake})]}),g("tr",{children:[t("th",{children:"Exceeded By"}),g("td",{children:[n,"%"]})]}),g("tr",{children:[t("th",{children:"workouts"}),t("td",{children:c.workouts.length})]})]})})}),g(oe,{className:"week-report-day-display__show-intakes-btn",onClickFn:()=>a(!e),children:[g("span",{children:[i," Intakes"]}),e?t(Te,{}):t(Se,{})]}),e&&t(ge,{className:"week-report-day-display__intakes-list",items:c.intakes,render:o=>t($e,{intake:o},o.id)}),c.workouts.length>0&&g("div",{className:"week-report-day-display__workouts",children:[t("h3",{children:"Workouts:"}),t(ge,{className:"week-report-day-display__workouts__list",items:c.workouts,render:(o,l)=>{const{items:y,description:u}=o,k=Math.round(y.filter(S=>S.isCompleted).length/y.length*100);return g("p",{children:[t("strong",{children:u})," (",k,"% completed)"]},l)}})]})]}),D&&t(oe,{className:"week-report-day-display__expand-btn",onClickFn:d,children:E?"Hide":"Show"})]})};const Fe=({data:f})=>{const b=f.reduce((T,D)=>D.calories>T?D.calories:T,-1/0),c=[0,Math.round(b*1.1)];return t("div",{style:{width:"100%",maxWidth:1200,height:300},children:t(Oe,{width:"100%",height:"100%",children:g(Ae,{data:f,children:[t(Re,{strokeDasharray:"3 3"}),t(we,{dataKey:"name"}),t(be,{domain:c}),t(je,{}),t(le,{dataKey:"caloriesWithoutExcess",stackId:"a",fill:"#005FB3",barSize:50}),t(le,{dataKey:"excessCalories",stackId:"a",fill:"#FF0000",barSize:50})]})})})};const Ue=({type:f,currDate:b})=>{const{weekGoals:c,isWeekGoalsLoading:T,isWeekGoalsSuccess:D,isWeekGoalsError:E,isWeekGoalsEmpty:O,isWeekGoalsEditEnabled:e,monthGoals:a,isMonthGoalsLoading:s,isMonthGoalsSuccess:v,isMonthGoalsError:m,isMonthGoalsEmpty:p,isMonthGoalsEditEnabled:n}=re();return f==="month"?g("section",{className:"goals",children:[n&&t(xe,{type:"month"}),t(Ee,{className:"goals__list",items:a,render:r=>t(_e,{goal:r,isEditEnabled:n},r.id),isLoading:s,isError:m,isSuccess:v,isEmpty:p,entityName:"goal"})]}):f==="week"?g("section",{className:"goals",children:[e&&t(xe,{type:"week",date:b}),t(Ee,{className:"goals__list",items:c,render:r=>t(_e,{goal:r,isEditEnabled:e},r.id),isLoading:T,isError:E,isSuccess:D,isEmpty:O,entityName:"goals"})]}):null},ft=()=>{const{currDays:f,data:b,currDay:c}=re(),T=a(),D=f.reduce((p,n)=>n.data?[...p,n.data]:p,[]),E=m(),O=s(),e=v();function a(){if(f.length===0)return"";const p=f[0].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"}),n=f[f.length-1].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"});return`${p} - ${n}`}function s(){return D.length?D.reduce((n,r)=>!r.weight||!r.waist?n:[...n,{weight:r.weight,waist:r.waist,date:r.date}],[]):null}function v(){return D.length?D.map(n=>{const r=B.calcRemainingCaloriesFromDayData(n),i=r<0?Math.abs(r):0,d=B.getTotalCalories(n),o=d-i;return{name:new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(new Date(n.date)),calories:d,excessCalories:i,caloriesWithoutExcess:o}}):null}function m(){if(!f.length||!b)return[];const p=f[0].date;p.setHours(0,0,0,0);const n=new Date(p);return n.setDate(n.getDate()-7),n.setHours(0,0,0,0),b.filter(i=>{const d=new Date(i.date);return d>=n&&d<p})}return g("section",{className:"report week-report",children:[g(ee,{className:"week-report__header",children:[t("h1",{children:"weekly report"}),t("h3",{children:T})]}),t(Ge,{type:"week",currData:D,prevData:E}),t(Ue,{type:"week",currDate:c==null?void 0:c.date}),O&&t(We,{data:O}),e&&t(Fe,{data:e}),b?t("div",{className:"week-report-day-display-container",children:f.map((p,n)=>t(ht,{calenderDay:p},p.id||n))}):t(Ie,{entityName:"data"})]})};const pt=({weekDays:f,goals:b})=>{const c=f.reduce((e,a)=>a.data?[...e,a.data]:e,[]),T=E(),D=O();function E(){const e=f[0].date.toLocaleString("en-GB",{day:"numeric"}),a=f[f.length-1].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"});return`${e} - ${a}`}function O(){const e={documentedDay:{label:"documented days",value:0},totalCalories:{label:"total calories",value:0},averageCaloriesPerDay:{label:"average calories per day",value:0},averageIntakesPerDay:{label:"average intakes per day",value:0},totalWorkouts:{label:"total workouts",value:0},excessCalories:{label:"excess calories",value:0},exceededDays:{label:"exceeded days",value:0},excessPercentage:{label:"excess percentage (days)",value:0}};return e.documentedDay.value=c.length,e.totalCalories.value=B.getTotalCalories(c),e.averageCaloriesPerDay.value=Math.round(e.totalCalories.value/e.documentedDay.value),e.averageIntakesPerDay.value=Math.round(c.reduce((a,s)=>{const v=s.intakes.filter(m=>m.type==="food").length;return a+v},0)/c.length),e.totalWorkouts.value=ne.getTotalWorkouts(c),e.excessCalories.value=B.getWeeklyExcessRateCalories(c),e.excessCalories.value=c.filter(a=>{const s=B.getDayCaloriesIntake({currDayData:a,data:c}),v=B.getTotalCaloriesFromDailyData({dailyData:a});return s-v<0}).length,e.excessPercentage.value=Math.round(e.exceededDays.value/c.length*100),Object.values(e)}return g("article",{className:"month-report-week-display",children:[t(ee,{className:"month-report-week-display__header",children:t("h3",{className:"month-report-week-display__header__title",children:T})}),g("div",{className:"month-report-week-display__content-container",children:[t("div",{className:"month-report-week-display__table-container ",children:g("table",{children:[t("thead",{children:g("tr",{children:[t("th",{children:"label"}),t("th",{children:"value"})]})}),t("tbody",{children:D.map((e,a)=>{const s=e.label==="excess percentage (days)";return g("tr",{children:[t("td",{children:e.label}),g("td",{children:[e.value,s?"%":""]})]},a)})})]})}),g("section",{className:"month-report-week-display__goals-container",children:[t("h3",{children:"goals"}),b.length===0?t(Ie,{entityName:"week goals"}):t("ul",{children:b.map((e,a)=>t(_e,{goal:e,isEditEnabled:!1},a))})]})]})]})},yt=()=>{const{currDays:f,data:b,monthWeekGoals:c}=re();if(f.every(n=>!n.data)||!b)return t("section",{className:"report month-report",children:t("p",{children:"No data for this month"})});const T=s(),D=f.map(n=>n.data).filter(n=>!!n),E=v(),O=m(),e=p(),a=f.reduce((n,r,i,d)=>{const o=new Date(r.date).getDay();if(i===0||o===0)return[...n,{weekDays:[r],goals:[]}];const l=n[n.length-1],y=[...n.slice(0,n.length-1),{...l,weekDays:[...l.weekDays,r],goals:[]}];if((o===6||i===d.length-1)&&c){const u=y[y.length-1],k=c.filter(S=>{const x=new Date(S.date),Y=u.weekDays[0].date;Y.setHours(0,0,0,0);const w=u.weekDays[u.weekDays.length-1].date;return w.setHours(23,59,59,999),x>=Y&&x<=w});y[y.length-1].goals=k}return y},[]);function s(){const n=f[0].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"}),r=f[f.length-1].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"});return`${n} - ${r}`}function v(){if(!f.length||!b)return[];const n=f[0].date;n.setHours(0,0,0,0);const r=n.getMonth()-1,i=n.getFullYear(),d=new Date(i,r,1);return b.filter(l=>{const y=new Date(l.date);return y>=d&&y<n})}function m(){return D?D.reduce((r,i)=>!i.weight||!i.waist?r:[...r,{date:i.date,weight:i.weight,waist:i.waist}],[]):null}function p(){return D?D.map(r=>{const i=B.calcRemainingCaloriesFromDayData(r),d=i<0?Math.abs(i):0,o=B.getTotalCalories(r),l=o-d;return{name:new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit"}).format(new Date(r.date)),calories:o,excessCalories:d,caloriesWithoutExcess:l}}):null}return g("section",{className:"report month-report",children:[g(ee,{className:"month-report__header",children:[t("h1",{children:"monthly report"}),t("h3",{children:T})]}),t(Ge,{type:"month",currData:D,prevData:E,goals:c}),t(Ue,{type:"month"}),O&&t(We,{data:O}),e&&t(Fe,{data:e}),a.map((n,r)=>t(pt,{weekDays:n.weekDays,goals:n.goals},r))]})},Tt=()=>{Ve({title:"Schedule / Kceli"});const{currDate:f,currDay:b,setCurrDay:c,currDays:T,setCurrDays:D,filterBy:E,calenderDays:O,isLoading:e,isSuccess:a,isError:s,moveToMonth:v,getWeekDays:m,getMonthDays:p}=re(),n=!!b&&E===z.Day,r=T.length>0&&E===z.Day;return J.useEffect(()=>{if(!a||b)return;const i=f,d=O.find(o=>ae(o.date,i));if(d&&(c(d),E!==z.Day)){if(E===z.Week){const o=m(d);if(!o)return;D(o);return}if(E===z.Month){const o=p(d);if(!o)return;D(o);return}}},[O,a,b,T,c,f,E,D,m,p]),g("main",{className:"page schedule-page",children:[e&&t(He,{}),s&&t(ze,{}),a&&g(Me,{children:[g(ee,{className:"schedule-page__header",children:[g("h2",{className:"schedule-page__header__title",children:[f.toLocaleString("en-GB",{month:"long"})," ",f.getFullYear()]}),g("div",{className:"schedule-page__header__btns-container",children:[t(oe,{onClickFn:()=>v(-1),children:t(it,{className:"schedule-page__header__btns-container__btn__icon"})}),t(oe,{onClickFn:()=>v(1),children:t(lt,{className:"schedule-page__header__btns-container__btn__icon"})})]})]}),t(ut,{}),t(dt,{}),n&&t(ot,{day:b}),r&&t(ct,{days:T}),E===z.Week&&t(ft,{}),E===z.Month&&t(yt,{})]})]})};export{Tt as default};

import{N as d,m as t,j as e,B as u,O as y,S as w,G as v,P as D}from"./index-5efcc07c.js";import{E as b}from"./ErrorMsg-d10dc34c.js";import{W as E}from"./WeightWaistChart-7d2b057d.js";import{F as C}from"./Footer-43113c89.js";import{u as W,C as _}from"./index.esm-c3611b2e.js";import{G as F}from"./GoalEdit-df179a6f.js";import"./index-7394d37a.js";import"./generateCategoricalChart-a69763a8.js";const S=()=>{const{user:i,userDailyStats:l,count:a,setIsEditing:n}=d();if(!i||!l)return null;const{username:s,fullname:c,birthdate:o,height:m,weight:r,totalDailyEnergyExpenditure:h,targetCaloricIntakePerDay:p}=i;function f(){n(!0)}function N(){return!l||!l.length||!a?0:((l[0].weight-l[l.length-1].weight)/a).toFixed(2)}return t("section",{className:"profile-details__user-info",children:[t("div",{className:"user-info__item-container",children:[e("h2",{children:"User name:"}),e("p",{children:s})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Full name:"}),e("p",{children:c})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Birth date:"}),e("p",{children:new Date(o).toLocaleDateString()})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Height:"}),e("p",{children:`${m} cm`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Weight:"}),e("p",{children:`${r} kg`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Total Daily Energy Expenditure:"}),e("p",{children:`${h} kcal`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"Target Caloric Intake Per Day:"}),e("p",{children:`${p} kcal`})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"days in process:"}),e("p",{children:a})]}),t("div",{className:"user-info__item-container",children:[e("h2",{children:"weight loss per day:"}),e("p",{children:N()})]}),e(u,{className:"user-info__edit-btn",onClickFn:f,children:"Edit"})]})},k=()=>{const{recommendedWeight:i}=d();if(!i)return null;const l=Object.entries(i);return t("section",{className:"profile-details__items-list",children:[e("h2",{className:"profile-details__items-list__title",children:"Recommended Weight"}),e("ul",{className:"profile-details__items-list__items-container",children:l.map(([a,n])=>t("li",{className:"profile-details__items-list__item",children:[e("h3",{className:"profile-details__items-list__item__title",children:a}),t("p",{className:"profile-details__items-list__item__value",children:[n," kg"]})]},a))})]})},g=({title:i,time:l})=>{const a=Object.entries(l);return t("section",{className:"profile-details__goal-calender",children:[e("h2",{className:"profile-details__goal-calender__title",children:i}),e("div",{className:"profile-details__goal-calender__list",children:a.map(([n,s])=>t("div",{className:"profile-details__goal-calender__list__item",children:[e("div",{className:"profile-details__goal-calender__list__item__value-cotnainer",children:e("h4",{children:s})}),e(C,{className:"profile-details__goal-calender__list__item__footer",children:e("h4",{children:n})})]},n))})]})},G=()=>{const{user:i,updateUser:l,setIsEditing:a}=d(),n={username:(i==null?void 0:i.username)||"",fullname:(i==null?void 0:i.fullname)||"",birthdate:(i==null?void 0:i.birthdate)||new Date,height:(i==null?void 0:i.height)||0,weight:(i==null?void 0:i.weight)||0,totalDailyEnergyExpenditure:(i==null?void 0:i.totalDailyEnergyExpenditure)||0,targetCaloricIntakePerDay:(i==null?void 0:i.targetCaloricIntakePerDay)||0},{control:s,handleSubmit:c}=W({defaultValues:n});if(!i)return null;function o(){a(!1)}function m(r){if(!i)return;const h={...i,...r};l(h),a(!1)}return t("form",{className:"user-edit-form",onSubmit:c(m),children:[t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"username",children:"user name:"}),e(_,{name:"username",control:s,render:({field:r})=>e("input",{id:"username",...r})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"fullname",children:"full name:"}),e(_,{name:"fullname",control:s,render:({field:r})=>e("input",{id:"fullname",...r})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"birthdate",children:"birthdate:"}),e(_,{name:"birthdate",control:s,render:({field:r})=>e("input",{id:"birthdate",type:"date",value:new Date(r.value).toISOString().split("T")[0],onChange:h=>r.onChange(new Date(h.target.value))})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"height",children:"height:"}),e(_,{name:"height",control:s,render:({field:r})=>e("input",{id:"height",type:"number",...r})})]}),t("div",{className:"user-edit__item-container",children:[e("label",{htmlFor:"weight",children:"weight:"}),e(_,{name:"weight",control:s,render:({field:r})=>e("input",{id:"weight",type:"number",...r})})]}),t("div",{className:"user-edit__btns-container",children:[e(u,{onClickFn:o,children:"cancel"}),e(u,{type:"submit",children:"update"})]})]})},L=()=>{const{weightToLose:i}=d();if(!i)return null;const l=Object.entries(i);return t("section",{className:"profile-details__items-list",children:[e("h2",{className:"profile-details__items-list__title",children:"Weight To Lose"}),e("ul",{className:"profile-details__items-list__items-container",children:l.map(([a,n])=>t("li",{className:"profile-details__items-list__item",children:[e("h3",{className:"profile-details__items-list__item__title",children:a}),t("p",{className:"profile-details__items-list__item__value",children:[n," kg"]})]},a))})]})};const P=()=>{const{userGoal:i}=d();if(!i)return null;const{userWeightLossGoal:{startingWeight:l,weightGoal:a},date:n}=i,s=new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"numeric",day:"numeric"}).format(new Date(n));return t("section",{className:"user-display-goal",children:[t(y,{className:"user-display-goal__header",children:[e("h1",{className:"user-display-goal__header__title",children:"your goal"}),e("div",{className:"user-display-goal__header__date",children:s})]}),t("div",{className:"user-display-goal__info",children:[t("div",{className:"user-display-goal__info__row",children:[t("span",{className:"user-display-goal__info__row__value",children:[l," kg"]}),e("span",{className:"user-display-goal__info__row__title",children:"starting weight"})]}),t("div",{className:"user-display-goal__info__row",children:[t("span",{className:"user-display-goal__info__row__value",children:[a," kg"]}),e("span",{className:"user-display-goal__info__row__title",children:"goal weight"})]})]})]})},H=()=>{const{user:i,userDailyStats:l,isLoading:a,isSuccess:n,isError:s,timeToMaxRecommendedWeight:c,timeToCurrentWeightLossGoal:o,isEditing:m}=d();return a?e(w,{containerSize:{width:"100%"}}):s?e(b,{msg:"Something went wrong"}):!n||!i?null:t("main",{className:"page profile-details",children:[m?e(G,{}):e(S,{}),l&&e(E,{data:l}),e(v,{}),e(P,{}),e(F,{type:"user"}),o&&e(g,{title:"time to current weight loss goal",time:o}),e(k,{}),e(L,{}),c&&e(g,{title:"time to max recommended weight",time:c}),e(D,{})]})};export{H as default};

import{r as J,U as Ue,j as t,m as y,C as xe,D as ne,P as ee,V as ve,k as Q,W as Pe,X as Me,F as we,b as Ye,Y as re,Z as K,B as oe,$ as Qe,a0 as ae,S as Be}from"./index-2ff4683a.js";import{E as He}from"./ErrorMsg-aba76931.js";import{X as be,Y as De,R as Oe,C as Re,W as We}from"./WeightWaistChart-f359e0ee.js";import{z as Ke,F as le,H as ze,E as je,t as Xe}from"./generateCategoricalChart-7936525b.js";import{c as Ce}from"./index-1594bbfa.js";import{L as ge}from"./List-8b850ee3.js";import{i as Je}from"./intakeUtilService-eeae4c4b.js";import{I as Ze,a as Ve}from"./index.esm-76ac3eed.js";import{u as qe}from"./usePageLoaded-326be579.js";import{b as et,c as tt}from"./index.esm-317ef544.js";import{G as Te}from"./GoalEdit-d847d23f.js";import{A as Se,G as _e}from"./GoalDisplay-97fdd10d.js";import{E as ke}from"./Empty-67e6a69f.js";var Ie=Ke({chartName:"BarChart",GraphicalChild:le,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:be},{axisType:"yAxis",AxisComp:De}],formatAxisMap:ze});var Ae={exports:{}};(function(m,b){(function(T,C){m.exports=C(J)})(Ue,u=>(()=>{var T={"./node_modules/css-mediaquery/index.js":(e,a)=>{a.match=r,a.parse=s;var o=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,f=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,v=/^(?:(min|max)-)?(.+)/,_=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function r(p,d){return s(p).some(function(k){var S=k.inverse,E=k.type==="all"||d.type===k.type;if(E&&S||!(E||S))return!1;var Y=k.expressions.every(function(w){var R=w.feature,N=w.modifier,j=w.value,P=d[R];if(!P)return!1;switch(R){case"orientation":case"scan":return P.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=l(j),P=l(P);break;case"resolution":j=n(j),P=n(P);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=c(j),P=c(P);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,P=parseInt(P,10)||0;break}switch(N){case"min":return P>=j;case"max":return P<=j;default:return P===j}});return Y&&!S||!Y&&S})}function s(p){return p.split(",").map(function(d){d=d.trim();var k=d.match(o),S=k[1],E=k[2],Y=k[3]||"",w={};return w.inverse=!!S&&S.toLowerCase()==="not",w.type=E?E.toLowerCase():"all",Y=Y.match(/\([^\)]+\)/g)||[],w.expressions=Y.map(function(R){var N=R.match(f),j=N[1].toLowerCase().match(v);return{modifier:j[1],feature:j[2],value:N[2]}}),w})}function c(p){var d=Number(p),k;return d||(k=p.match(/^(\d+)\s*\/\s*(\d+)$/),d=k[1]/k[2]),d}function n(p){var d=parseFloat(p),k=String(p).match(i)[1];switch(k){case"dpcm":return d/2.54;case"dppx":return d*96;default:return d}}function l(p){var d=parseFloat(p),k=String(p).match(_)[1];switch(k){case"em":return d*16;case"rem":return d*16;case"cm":return d*96/2.54;case"mm":return d*96/2.54/10;case"in":return d*96;case"pt":return d*72;case"pc":return d*72/12;default:return d}}},"./node_modules/hyphenate-style-name/index.js":(e,a,o)=>{o.r(a),o.d(a,{default:()=>s});var f=/[A-Z]/g,v=/^ms-/,_={};function i(c){return"-"+c.toLowerCase()}function r(c){if(_.hasOwnProperty(c))return _[c];var n=c.replace(f,i);return _[c]=v.test(n)?"-"+n:n}const s=r},"./node_modules/matchmediaquery/index.js":(e,a,o)=>{var f=o("./node_modules/css-mediaquery/index.js").match,v=typeof window<"u"?window.matchMedia:null;function _(r,s,c){var n=this;if(v&&!c){var l=v.call(window,r);this.matches=l.matches,this.media=l.media,l.addListener(k)}else this.matches=f(r,s),this.media=r;this.addListener=p,this.removeListener=d,this.dispose=S;function p(E){l&&l.addListener(E)}function d(E){l&&l.removeListener(E)}function k(E){n.matches=E.matches,n.media=E.media}function S(){l&&l.removeListener(k)}}function i(r,s,c){return new _(r,s,c)}e.exports=i},"./node_modules/object-assign/index.js":e=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;function v(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function _(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var r={},s=0;s<10;s++)r["_"+String.fromCharCode(s)]=s;var c=Object.getOwnPropertyNames(r).map(function(l){return r[l]});if(c.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(l){n[l]=l}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}e.exports=_()?Object.assign:function(i,r){for(var s,c=v(i),n,l=1;l<arguments.length;l++){s=Object(arguments[l]);for(var p in s)o.call(s,p)&&(c[p]=s[p]);if(a){n=a(s);for(var d=0;d<n.length;d++)f.call(s,n[d])&&(c[n[d]]=s[n[d]])}}return c}},"./node_modules/prop-types/checkPropTypes.js":(e,a,o)=>{var f=function(){};{var v=o("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),_={},i=o("./node_modules/prop-types/lib/has.js");f=function(s){var c="Warning: "+s;typeof console<"u"&&console.error(c);try{throw new Error(c)}catch{}}}function r(s,c,n,l,p){for(var d in s)if(i(s,d)){var k;try{if(typeof s[d]!="function"){var S=Error((l||"React class")+": "+n+" type `"+d+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[d]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw S.name="Invariant Violation",S}k=s[d](c,d,l,n,null,v)}catch(Y){k=Y}if(k&&!(k instanceof Error)&&f((l||"React class")+": type specification of "+n+" `"+d+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof k+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),k instanceof Error&&!(k.message in _)){_[k.message]=!0;var E=p?p():"";f("Failed "+n+" type: "+k.message+(E??""))}}}r.resetWarningCache=function(){_={}},e.exports=r},"./node_modules/prop-types/factoryWithTypeCheckers.js":(e,a,o)=>{var f=o("./node_modules/react-is/index.js"),v=o("./node_modules/object-assign/index.js"),_=o("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),i=o("./node_modules/prop-types/lib/has.js"),r=o("./node_modules/prop-types/checkPropTypes.js"),s=function(){};s=function(n){var l="Warning: "+n;typeof console<"u"&&console.error(l);try{throw new Error(l)}catch{}};function c(){return null}e.exports=function(n,l){var p=typeof Symbol=="function"&&Symbol.iterator,d="@@iterator";function k(h){var D=h&&(p&&h[p]||h[d]);if(typeof D=="function")return D}var S="<<anonymous>>",E={array:N("array"),bigint:N("bigint"),bool:N("boolean"),func:N("function"),number:N("number"),object:N("object"),string:N("string"),symbol:N("symbol"),any:j(),arrayOf:P,element:H(),elementType:z(),instanceOf:V,node:he(),objectOf:de,oneOf:ce,oneOfType:ue,shape:fe,exact:pe};function Y(h,D){return h===D?h!==0||1/h===1/D:h!==h&&D!==D}function w(h,D){this.message=h,this.data=D&&typeof D=="object"?D:{},this.stack=""}w.prototype=Error.prototype;function R(h){var D={},L=0;function I($,W,A,G,U,F,g){if(G=G||S,F=F||A,g!==_){if(l){var B=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw B.name="Invariant Violation",B}else if(typeof console<"u"){var X=G+":"+A;!D[X]&&L<3&&(s("You are manually calling a React.PropTypes validation function for the `"+F+"` prop on `"+G+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),D[X]=!0,L++)}}return W[A]==null?$?W[A]===null?new w("The "+U+" `"+F+"` is marked as required "+("in `"+G+"`, but its value is `null`.")):new w("The "+U+" `"+F+"` is marked as required in "+("`"+G+"`, but its value is `undefined`.")):null:h(W,A,G,U,F)}var M=I.bind(null,!1);return M.isRequired=I.bind(null,!0),M}function N(h){function D(L,I,M,$,W,A){var G=L[I],U=Z(G);if(U!==h){var F=q(G);return new w("Invalid "+$+" `"+W+"` of type "+("`"+F+"` supplied to `"+M+"`, expected ")+("`"+h+"`."),{expectedType:h})}return null}return R(D)}function j(){return R(c)}function P(h){function D(L,I,M,$,W){if(typeof h!="function")return new w("Property `"+W+"` of component `"+M+"` has invalid PropType notation inside arrayOf.");var A=L[I];if(!Array.isArray(A)){var G=Z(A);return new w("Invalid "+$+" `"+W+"` of type "+("`"+G+"` supplied to `"+M+"`, expected an array."))}for(var U=0;U<A.length;U++){var F=h(A,U,M,$,W+"["+U+"]",_);if(F instanceof Error)return F}return null}return R(D)}function H(){function h(D,L,I,M,$){var W=D[L];if(!n(W)){var A=Z(W);return new w("Invalid "+M+" `"+$+"` of type "+("`"+A+"` supplied to `"+I+"`, expected a single ReactElement."))}return null}return R(h)}function z(){function h(D,L,I,M,$){var W=D[L];if(!f.isValidElementType(W)){var A=Z(W);return new w("Invalid "+M+" `"+$+"` of type "+("`"+A+"` supplied to `"+I+"`, expected a single ReactElement type."))}return null}return R(h)}function V(h){function D(L,I,M,$,W){if(!(L[I]instanceof h)){var A=h.name||S,G=ie(L[I]);return new w("Invalid "+$+" `"+W+"` of type "+("`"+G+"` supplied to `"+M+"`, expected ")+("instance of `"+A+"`."))}return null}return R(D)}function ce(h){if(!Array.isArray(h))return arguments.length>1?s("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):s("Invalid argument supplied to oneOf, expected an array."),c;function D(L,I,M,$,W){for(var A=L[I],G=0;G<h.length;G++)if(Y(A,h[G]))return null;var U=JSON.stringify(h,function(g,B){var X=q(B);return X==="symbol"?String(B):B});return new w("Invalid "+$+" `"+W+"` of value `"+String(A)+"` "+("supplied to `"+M+"`, expected one of "+U+"."))}return R(D)}function de(h){function D(L,I,M,$,W){if(typeof h!="function")return new w("Property `"+W+"` of component `"+M+"` has invalid PropType notation inside objectOf.");var A=L[I],G=Z(A);if(G!=="object")return new w("Invalid "+$+" `"+W+"` of type "+("`"+G+"` supplied to `"+M+"`, expected an object."));for(var U in A)if(i(A,U)){var F=h(A,U,M,$,W+"."+U,_);if(F instanceof Error)return F}return null}return R(D)}function ue(h){if(!Array.isArray(h))return s("Invalid argument supplied to oneOfType, expected an instance of array."),c;for(var D=0;D<h.length;D++){var L=h[D];if(typeof L!="function")return s("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+me(L)+" at index "+D+"."),c}function I(M,$,W,A,G){for(var U=[],F=0;F<h.length;F++){var g=h[F],B=g(M,$,W,A,G,_);if(B==null)return null;B.data&&i(B.data,"expectedType")&&U.push(B.data.expectedType)}var X=U.length>0?", expected one of type ["+U.join(", ")+"]":"";return new w("Invalid "+A+" `"+G+"` supplied to "+("`"+W+"`"+X+"."))}return R(I)}function he(){function h(D,L,I,M,$){return te(D[L])?null:new w("Invalid "+M+" `"+$+"` supplied to "+("`"+I+"`, expected a ReactNode."))}return R(h)}function se(h,D,L,I,M){return new w((h||"React class")+": "+D+" type `"+L+"."+I+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+M+"`.")}function fe(h){function D(L,I,M,$,W){var A=L[I],G=Z(A);if(G!=="object")return new w("Invalid "+$+" `"+W+"` of type `"+G+"` "+("supplied to `"+M+"`, expected `object`."));for(var U in h){var F=h[U];if(typeof F!="function")return se(M,$,W,U,q(F));var g=F(A,U,M,$,W+"."+U,_);if(g)return g}return null}return R(D)}function pe(h){function D(L,I,M,$,W){var A=L[I],G=Z(A);if(G!=="object")return new w("Invalid "+$+" `"+W+"` of type `"+G+"` "+("supplied to `"+M+"`, expected `object`."));var U=v({},L[I],h);for(var F in U){var g=h[F];if(i(h,F)&&typeof g!="function")return se(M,$,W,F,q(g));if(!g)return new w("Invalid "+$+" `"+W+"` key `"+F+"` supplied to `"+M+"`.\nBad object: "+JSON.stringify(L[I],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(h),null,"  "));var B=g(A,F,M,$,W+"."+F,_);if(B)return B}return null}return R(D)}function te(h){switch(typeof h){case"number":case"string":case"undefined":return!0;case"boolean":return!h;case"object":if(Array.isArray(h))return h.every(te);if(h===null||n(h))return!0;var D=k(h);if(D){var L=D.call(h),I;if(D!==h.entries){for(;!(I=L.next()).done;)if(!te(I.value))return!1}else for(;!(I=L.next()).done;){var M=I.value;if(M&&!te(M[1]))return!1}}else return!1;return!0;default:return!1}}function ye(h,D){return h==="symbol"?!0:D?D["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&D instanceof Symbol:!1}function Z(h){var D=typeof h;return Array.isArray(h)?"array":h instanceof RegExp?"object":ye(D,h)?"symbol":D}function q(h){if(typeof h>"u"||h===null)return""+h;var D=Z(h);if(D==="object"){if(h instanceof Date)return"date";if(h instanceof RegExp)return"regexp"}return D}function me(h){var D=q(h);switch(D){case"array":case"object":return"an "+D;case"boolean":case"date":case"regexp":return"a "+D;default:return D}}function ie(h){return!h.constructor||!h.constructor.name?S:h.constructor.name}return E.checkPropTypes=r,E.resetWarningCache=r.resetWarningCache,E.PropTypes=E,E}},"./node_modules/prop-types/index.js":(e,a,o)=>{{var f=o("./node_modules/react-is/index.js"),v=!0;e.exports=o("./node_modules/prop-types/factoryWithTypeCheckers.js")(f.isElement,v)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=a},"./node_modules/prop-types/lib/has.js":e=>{e.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(e,a)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var o=typeof Symbol=="function"&&Symbol.for,f=o?Symbol.for("react.element"):60103,v=o?Symbol.for("react.portal"):60106,_=o?Symbol.for("react.fragment"):60107,i=o?Symbol.for("react.strict_mode"):60108,r=o?Symbol.for("react.profiler"):60114,s=o?Symbol.for("react.provider"):60109,c=o?Symbol.for("react.context"):60110,n=o?Symbol.for("react.async_mode"):60111,l=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,d=o?Symbol.for("react.suspense"):60113,k=o?Symbol.for("react.suspense_list"):60120,S=o?Symbol.for("react.memo"):60115,E=o?Symbol.for("react.lazy"):60116,Y=o?Symbol.for("react.block"):60121,w=o?Symbol.for("react.fundamental"):60117,R=o?Symbol.for("react.responder"):60118,N=o?Symbol.for("react.scope"):60119;function j(g){return typeof g=="string"||typeof g=="function"||g===_||g===l||g===r||g===i||g===d||g===k||typeof g=="object"&&g!==null&&(g.$$typeof===E||g.$$typeof===S||g.$$typeof===s||g.$$typeof===c||g.$$typeof===p||g.$$typeof===w||g.$$typeof===R||g.$$typeof===N||g.$$typeof===Y)}function P(g){if(typeof g=="object"&&g!==null){var B=g.$$typeof;switch(B){case f:var X=g.type;switch(X){case n:case l:case _:case r:case i:case d:return X;default:var Ee=X&&X.$$typeof;switch(Ee){case c:case p:case E:case S:case s:return Ee;default:return B}}case v:return B}}}var H=n,z=l,V=c,ce=s,de=f,ue=p,he=_,se=E,fe=S,pe=v,te=r,ye=i,Z=d,q=!1;function me(g){return q||(q=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),ie(g)||P(g)===n}function ie(g){return P(g)===l}function h(g){return P(g)===c}function D(g){return P(g)===s}function L(g){return typeof g=="object"&&g!==null&&g.$$typeof===f}function I(g){return P(g)===p}function M(g){return P(g)===_}function $(g){return P(g)===E}function W(g){return P(g)===S}function A(g){return P(g)===v}function G(g){return P(g)===r}function U(g){return P(g)===i}function F(g){return P(g)===d}a.AsyncMode=H,a.ConcurrentMode=z,a.ContextConsumer=V,a.ContextProvider=ce,a.Element=de,a.ForwardRef=ue,a.Fragment=he,a.Lazy=se,a.Memo=fe,a.Portal=pe,a.Profiler=te,a.StrictMode=ye,a.Suspense=Z,a.isAsyncMode=me,a.isConcurrentMode=ie,a.isContextConsumer=h,a.isContextProvider=D,a.isElement=L,a.isForwardRef=I,a.isFragment=M,a.isLazy=$,a.isMemo=W,a.isPortal=A,a.isProfiler=G,a.isStrictMode=U,a.isSuspense=F,a.isValidElementType=j,a.typeOf=P})()},"./node_modules/react-is/index.js":(e,a,o)=>{e.exports=o("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(e,a,o)=>{o.r(a),o.d(a,{shallowEqualArrays:()=>v,shallowEqualObjects:()=>f});function f(_,i){if(_===i)return!0;if(!_||!i)return!1;var r=Object.keys(_),s=Object.keys(i),c=r.length;if(s.length!==c)return!1;for(var n=0;n<c;n++){var l=r[n];if(_[l]!==i[l]||!Object.prototype.hasOwnProperty.call(i,l))return!1}return!0}function v(_,i){if(_===i)return!0;if(!_||!i)return!1;var r=_.length;if(i.length!==r)return!1;for(var s=0;s<r;s++)if(_[s]!==i[s])return!1;return!0}},"./src/Component.ts":function(e,a,o){var f=this&&this.__rest||function(r,s){var c={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&s.indexOf(n)<0&&(c[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(r);l<n.length;l++)s.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(r,n[l])&&(c[n[l]]=r[n[l]]);return c},v=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(a,"__esModule",{value:!0});var _=v(o("./src/useMediaQuery.ts")),i=function(r){var s=r.children,c=r.device,n=r.onChange,l=f(r,["children","device","onChange"]),p=(0,_.default)(l,c,n);return typeof s=="function"?s(p):p?s:null};a.default=i},"./src/Context.ts":(e,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0});var f=o("react"),v=(0,f.createContext)(void 0);a.default=v},"./src/index.ts":function(e,a,o){var f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(a,"__esModule",{value:!0}),a.Context=a.toQuery=a.useMediaQuery=a.default=void 0;var v=f(o("./src/useMediaQuery.ts"));a.useMediaQuery=v.default;var _=f(o("./src/Component.ts"));a.default=_.default;var i=f(o("./src/toQuery.ts"));a.toQuery=i.default;var r=f(o("./src/Context.ts"));a.Context=r.default},"./src/mediaQuery.ts":function(e,a,o){var f=this&&this.__assign||function(){return f=Object.assign||function(d){for(var k,S=1,E=arguments.length;S<E;S++){k=arguments[S];for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&(d[Y]=k[Y])}return d},f.apply(this,arguments)},v=this&&this.__rest||function(d,k){var S={};for(var E in d)Object.prototype.hasOwnProperty.call(d,E)&&k.indexOf(E)<0&&(S[E]=d[E]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Y=0,E=Object.getOwnPropertySymbols(d);Y<E.length;Y++)k.indexOf(E[Y])<0&&Object.prototype.propertyIsEnumerable.call(d,E[Y])&&(S[E[Y]]=d[E[Y]]);return S},_=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(a,"__esModule",{value:!0});var i=_(o("./node_modules/prop-types/index.js")),r=i.default.oneOfType([i.default.string,i.default.number]),s={all:i.default.bool,grid:i.default.bool,aural:i.default.bool,braille:i.default.bool,handheld:i.default.bool,print:i.default.bool,projection:i.default.bool,screen:i.default.bool,tty:i.default.bool,tv:i.default.bool,embossed:i.default.bool},c={orientation:i.default.oneOf(["portrait","landscape"]),scan:i.default.oneOf(["progressive","interlace"]),aspectRatio:i.default.string,deviceAspectRatio:i.default.string,height:r,deviceHeight:r,width:r,deviceWidth:r,color:i.default.bool,colorIndex:i.default.bool,monochrome:i.default.bool,resolution:r,type:Object.keys(s)};c.type;var n=v(c,["type"]),l=f({minAspectRatio:i.default.string,maxAspectRatio:i.default.string,minDeviceAspectRatio:i.default.string,maxDeviceAspectRatio:i.default.string,minHeight:r,maxHeight:r,minDeviceHeight:r,maxDeviceHeight:r,minWidth:r,maxWidth:r,minDeviceWidth:r,maxDeviceWidth:r,minColor:i.default.number,maxColor:i.default.number,minColorIndex:i.default.number,maxColorIndex:i.default.number,minMonochrome:i.default.number,maxMonochrome:i.default.number,minResolution:r,maxResolution:r},n),p=f(f({},s),l);a.default={all:p,types:s,matchers:c,features:l}},"./src/toQuery.ts":function(e,a,o){var f=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(a,"__esModule",{value:!0});var v=f(o("./node_modules/hyphenate-style-name/index.js")),_=f(o("./src/mediaQuery.ts")),i=function(n){return"not ".concat(n)},r=function(n,l){var p=(0,v.default)(n);return typeof l=="number"&&(l="".concat(l,"px")),l===!0?p:l===!1?i(p):"(".concat(p,": ").concat(l,")")},s=function(n){return n.join(" and ")},c=function(n){var l=[];return Object.keys(_.default.all).forEach(function(p){var d=n[p];d!=null&&l.push(r(p,d))}),s(l)};a.default=c},"./src/useMediaQuery.ts":function(e,a,o){var f=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(a,"__esModule",{value:!0});var v=o("react"),_=f(o("./node_modules/matchmediaquery/index.js")),i=f(o("./node_modules/hyphenate-style-name/index.js")),r=o("./node_modules/shallow-equal/dist/index.esm.js"),s=f(o("./src/toQuery.ts")),c=f(o("./src/Context.ts")),n=function(w){return w.query||(0,s.default)(w)},l=function(w){if(w){var R=Object.keys(w);return R.reduce(function(N,j){return N[(0,i.default)(j)]=w[j],N},{})}},p=function(){var w=(0,v.useRef)(!1);return(0,v.useEffect)(function(){w.current=!0},[]),w.current},d=function(w){var R=(0,v.useContext)(c.default),N=function(){return l(w)||l(R)},j=(0,v.useState)(N),P=j[0],H=j[1];return(0,v.useEffect)(function(){var z=N();(0,r.shallowEqualObjects)(P,z)||H(z)},[w,R]),P},k=function(w){var R=function(){return n(w)},N=(0,v.useState)(R),j=N[0],P=N[1];return(0,v.useEffect)(function(){var H=R();j!==H&&P(H)},[w]),j},S=function(w,R){var N=function(){return(0,_.default)(w,R||{},!!R)},j=(0,v.useState)(N),P=j[0],H=j[1],z=p();return(0,v.useEffect)(function(){if(z){var V=N();return H(V),function(){V&&V.dispose()}}},[w,R]),P},E=function(w){var R=(0,v.useState)(w.matches),N=R[0],j=R[1];return(0,v.useEffect)(function(){var P=function(H){j(H.matches)};return w.addListener(P),j(w.matches),function(){w.removeListener(P)}},[w]),N},Y=function(w,R,N){var j=d(R),P=k(w);if(!P)throw new Error("Invalid or missing MediaQuery!");var H=S(P,j),z=E(H),V=p();return(0,v.useEffect)(function(){V&&N&&N(z)},[z]),(0,v.useEffect)(function(){return function(){H&&H.dispose()}},[]),z};a.default=Y},react:e=>{e.exports=u}},C={};function x(e){var a=C[e];if(a!==void 0)return a.exports;var o=C[e]={exports:{}};return T[e].call(o.exports,o,o.exports,x),o.exports}x.d=(e,a)=>{for(var o in a)x.o(a,o)&&!x.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})},x.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),x.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var O=x("./src/index.ts");return O})())})(Ae);var Le=Ae.exports;const rt=({data:m})=>{const b=m.reduce((e,a)=>a.calories>e?a.calories:e,-1/0),u=[0,Math.round(b*1.1)],T=Le.useMediaQuery({query:"(max-width: 600px)"}),C=window.innerWidth,x={x:Math.round(C*.65)*.5*-1,y:0},O={position:"absolute",left:"50%",top:"25%",transform:"translate(-50%, -50%)",wordBreak:"break-all",width:C*.65};return t("div",{style:{position:"relative",width:"100%",maxWidth:1200,height:300},children:t(Oe,{children:y(Ie,{data:m,children:[t(Re,{strokeDasharray:"3 3"}),t(be,{dataKey:"name"}),t(De,{domain:u}),t(je,{wrapperStyle:T?O:void 0,labelStyle:{fontSize:14,fontWeight:"bold",whiteSpace:"pre-wrap"},position:T?x:void 0}),t(le,{dataKey:"calories",barSize:25,children:m.map((e,a)=>t(Xe,{fill:xe[a%xe.length]},`cell-${a}`))})]})})})};function at(m){if(!m||m.intakes.length===0)return"No data";let b=0,u=0,T;for(const O of m.intakes){if(!O.recordedAt||O.type!=="food")continue;const e=new Date(O.recordedAt).getTime();T!==void 0&&(b+=e-T,u++),T=e}if(u===0)return"No data";const x=b/u/1e3/60/60;return x>=1?`${Math.round(x)} hours`:`${Math.round(x*60)} minutes`}const nt={calcAverageTimeBetweenMeals:at};const ot=({workout:m,isTableShown:b=!0})=>{const{description:u,type:T,items:C}=m,x=ne.calcWorkoutDuration({workout:m})+" min",O=Math.round(C.filter(e=>e.isCompleted).length/C.length*100);return y("article",{className:"day-report__workout-preview",children:[t(ee,{className:"day-report__workout-preview__header",children:y("h3",{children:[u," - ",T," - ",x," - ",O,"% completed"]})}),b&&y("table",{className:"day-report__workout-preview__table",children:[t("thead",{className:"day-report__workout-preview__table__header",children:y("tr",{children:[t("th",{children:"Exercise"}),t("th",{children:"Duration"}),t("th",{children:"Reps"}),t("th",{children:"Sets"}),t("th",{children:"Weight"}),t("th",{className:"day-report__workout-preview__table__header__completed",children:"Completed"})]})}),t("tbody",{className:"day-report__workout-preview__table__body",children:C.map((e,a)=>{const o=ne.calcItemDuration(e)+" min";return e.type==="superset"?y(J.Fragment,{children:[y("tr",{children:[t("td",{children:e.name}),t("td",{children:o}),t("td",{}),t("td",{children:e.sets}),t("td",{}),t("td",{className:"completed",children:e.isCompleted?t(ve,{}):""})]}),e.items.map((f,v)=>y("tr",{children:[t("td",{children:f.name}),t("td",{}),t("td",{children:f.reps}),t("td",{}),y("td",{children:[f.weight," ",f.weightUnit]}),t("td",{className:"completed"})]},`superset-${a}-subitem-${v}`))]},`superset-${a}`):e.type==="anaerobic"?y("tr",{children:[t("td",{children:e.name}),t("td",{children:o}),t("td",{children:e.reps}),t("td",{children:e.sets}),y("td",{children:[e.weight," ",e.weightUnit]}),t("td",{className:"completed",children:e.isCompleted?t(ve,{}):""})]},a):y("tr",{children:[t("td",{children:e.name}),t("td",{children:o}),t("td",{}),t("td",{}),t("td",{}),t("td",{className:"completed",children:e.isCompleted?t(ve,{}):""})]},a)})})]})]})};const Ne=({intake:m})=>{const[b,u]=J.useState(!1),T=m.name||m.items.map(e=>e.name).join(", "),C=Q.getTotalCalories(m),x=m.recordedAt?new Date(m.recordedAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"";function O(){u(!b)}return y("article",{className:Ce("day-report__intake-preview",{unrecorded:!m.isRecorded}),children:[y(ee,{className:"day-report__intake-preview__header",onClickFn:O,children:[y("h3",{className:"day-report__intake-preview__header__title",children:[T," - ",C," kcal - ",x]}),t("div",{children:b?t(Pe,{}):t(Me,{})})]}),b&&y(we,{children:[y("table",{className:"day-report__intake-preview__table",children:[t("thead",{className:"day-report__intake-preview__table__head",children:y("tr",{children:[t("th",{children:"Item"}),t("th",{children:"Calories"}),t("th",{children:"Weight"})]})}),t("tbody",{className:"day-report__intake-preview__table__body",children:m.items.map(e=>y("tr",{children:[t("td",{children:e.name}),t("td",{children:e.calories}),y("td",{children:[e.quantity," ",e.unit]})]},e.id))})]}),!m.isRecorded&&t("h4",{className:"day-report__intake-preview__unrecorded",children:"unrecorded"})]})]})},st=({day:m})=>{const{loggedInUser:b}=Ye(),{data:u,backgroundColor:T}=m;if(!u)return t("section",{className:"report day-report empty",children:t("p",{children:"No data for this day"})});const C=Q.getTotalCalories(u),x=Q.calcRemainingCalories(b,u),e=` calories ${x>0?"remaining":"over your limit"}`,a=new Intl.DateTimeFormat("en-US",{dateStyle:"full"}).format(m.date),o=nt.calcAverageTimeBetweenMeals(u),f=it(u);return y("section",{className:"report day-report",children:[y(ee,{className:"day-report__header",children:[t("h1",{children:a}),t("div",{className:"day-report__header__color-circle",style:{backgroundColor:T}})]}),y("div",{className:"day-report__weight",children:[u.weight&&y("p",{children:[t("strong",{children:"Weight: "}),u.weight]}),u.waist&&y("p",{children:[t("strong",{children:"Waist: "}),u.waist]})]}),y("div",{className:"day-report__calories",children:[t("h3",{className:"day-report__calories__title",children:"calories"}),y("p",{children:[t("strong",{children:"consumed Calories: "}),C]}),y("p",{children:[y("strong",{children:[e,": "]}),Math.abs(x)]}),y("p",{children:[t("strong",{children:"target caloric intake: "}),m.targetCalorie]})]}),u.intakes.length>0&&y("div",{className:"day-report__intakes",children:[t("h2",{className:"day-report__intakes__title",children:"Intakes"}),y("h4",{children:["Number of Intakes: ",u.intakes.length]}),y("h4",{children:["Average time between meals: ",o]}),t(ge,{className:"day-report__intakes__list",items:u.intakes,render:v=>t(Ne,{intake:v},v.id)}),t(rt,{data:f})]}),u.workouts.length>0&&y("div",{className:"day-report__workouts",children:[t("h1",{className:"day-report__workouts__title",children:"Workouts"}),t("ul",{children:u.workouts.map((v,_)=>t("li",{children:t(ot,{workout:v})},_))})]})]})};function it(m){return Je.sortIntakesByRecordedAt(m.intakes).map(T=>({name:T.name||T.items.reduce((C,x,O,e)=>e.length===1?x.name:O===0?C+`${x.name}, `:O===e.length-1?C+`and ${x.name}`:C+` ${x.name}, `,""),calories:T.items.reduce((C,x)=>C+Math.round(x.calories),0)}))}const lt=({days:m})=>t("section",{className:"days-report",children:m.map(b=>t("div",{className:"day-report",children:t("h3",{className:"day-report__date",children:b.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})},b.date.toISOString()))});const ct=()=>{const{isSuccess:m,filterBy:b,setFilterBy:u,currDay:T,setCurrDays:C,getWeekDays:x,getMonthDays:O,setQueryParams:e}=re();function a(o){if(m){switch(o){case K.Day:C([]);break;case K.Week:{if(!T)return;const f=x(T);if(!f)return;C(f);break}case K.Month:{if(!T)return;const f=O(T);if(!f)return;C(f);break}}u(o),e({key:"filterBy",value:o})}}return t("section",{className:"schedule-filter",children:Object.values(K).map(o=>t(oe,{onClickFn:()=>a(o),className:Ce("schedule-filter__btn",{active:b===o}),children:t("span",{children:o})},o))})};const dt=()=>{const{currDate:m,currDay:b,setCurrDay:u,currDays:T,setCurrDays:C,filterBy:x,calenderDays:O,isSuccess:e,moveToMonth:a,getWeekDays:o,getMonthDays:f,setQueryParams:v}=re(),[_,i]=J.useState(!1),r=J.useRef(null),s=J.useRef(0);function c(n){switch(x){case K.Day:{if(!_){u(n),v({key:"date",value:n.date}),C([]);return}if(!b)return;const l=[],p=O.findIndex(E=>ae(E.date,b==null?void 0:b.date)),d=O.findIndex(E=>ae(E.date,n.date)),k=Math.min(p,d),S=Math.max(p,d);for(let E=k;E<=S;E++)l.push(O[E]);C(l),u(n),v({key:"date",value:n.date});break}case K.Week:{const l=o(n);if(!l)return;C(l),u(n),v({key:"date",value:n.date});break}case K.Month:{const l=f(n);if(!l)return;C(l),u(n),v({key:"date",value:n.date});break}}}return J.useEffect(()=>{const n=d=>{const k=d.touches[0];s.current=k.clientX},l=d=>{const S=d.changedTouches[0].clientX,E=50;S-s.current>E&&a(-1),s.current-S>E&&a(1)},p=r.current;if(p)return p.addEventListener("touchstart",n,!1),p.addEventListener("touchend",l,!1),()=>{p&&(p.removeEventListener("touchstart",n),p.removeEventListener("touchend",l))}},[m,e,a]),J.useEffect(()=>{const n=p=>{p.key==="Shift"&&i(!0)},l=p=>{p.key==="Shift"&&i(!1)};return window.addEventListener("keydown",n),window.addEventListener("keyup",l),()=>{window.removeEventListener("keydown",n),window.removeEventListener("keyup",l)}},[]),y("ul",{className:"calender",ref:r,children:[Qe.map(n=>t("li",{className:"calender__item weekday-item",children:t("h3",{className:"calender__item__title",children:n.short})},n.short)),O.map(n=>{const{backgroundColor:l,date:p}=n,d=n.backgroundColor?"white":"",k=n.isBorder?"4px solid var(--color-success)":"none";return t("li",{className:Ce("calender__item",{active:b&&ae(n.date,b.date)||T.some(S=>ae(n.date,S.date))}),onClick:()=>c(n),style:{backgroundColor:l,color:d},children:t("div",{className:"calender__item__wrapper",style:{border:k},children:t("h3",{children:n.day})})},p.toISOString())})]})};const $e=({type:m,currData:b,prevData:u,goals:T})=>{const C=x();function x(){if(!b.length||!(u!=null&&u.length))return;const e={documentedDay:{label:"documented days",curr:0,prev:0,trend:{value:0,positive:"up"}},totalCalories:{label:"total calories",curr:0,prev:0,trend:{value:0,positive:"down"}},averageCaloriesPerDay:{label:"average calories per day",curr:0,prev:0,trend:{value:0,positive:"down"}},averageIntakesPerDay:{label:"average intakes per day",curr:0,prev:0,trend:{value:0,positive:"down"}},totalWorkouts:{label:"total workouts",curr:0,prev:0,trend:{value:0,positive:"up"}},excessCalories:{label:"excess calories",curr:0,prev:0,trend:{value:0,positive:"down"}},exceededDays:{label:"exceeded days",curr:0,prev:0,trend:{value:0,positive:"down"}},excessPercentage:{label:"excess percentage (days)",curr:0,prev:0,trend:{value:0,positive:"down"}}};if(e.documentedDay.curr=b.length,e.documentedDay.prev=u.length,e.documentedDay.trend.value=e.documentedDay.curr-e.documentedDay.prev,e.totalCalories.curr=Q.getTotalCalories(b),e.totalCalories.prev=Q.getTotalCalories(u),e.totalCalories.trend.value=e.totalCalories.curr-e.totalCalories.prev,e.averageCaloriesPerDay.curr=Math.round(e.totalCalories.curr/b.length),e.averageCaloriesPerDay.prev=Math.round(e.totalCalories.prev/u.length),e.averageCaloriesPerDay.trend.value=e.averageCaloriesPerDay.curr-e.averageCaloriesPerDay.prev,e.totalWorkouts.curr=ne.getTotalWorkouts(b),e.totalWorkouts.prev=ne.getTotalWorkouts(u),e.totalWorkouts.trend.value=e.totalWorkouts.curr-e.totalWorkouts.prev,e.excessCalories.curr=Q.getWeeklyExcessRateCalories(b),e.excessCalories.prev=Q.getWeeklyExcessRateCalories(u),e.excessCalories.trend.value=e.excessCalories.curr-e.excessCalories.prev,e.exceededDays.curr=b.filter(r=>{const s=Q.getDayCaloriesIntake({currDayData:r,data:b}),c=Q.getTotalCaloriesFromDailyData({dailyData:r});return s-c<0}).length,e.exceededDays.prev=u.filter(r=>{const s=Q.getDayCaloriesIntake({currDayData:r,data:u}),c=Q.getTotalCaloriesFromDailyData({dailyData:r});return s-c<0}).length,e.exceededDays.trend.value=e.exceededDays.curr-e.exceededDays.prev,e.excessPercentage.curr=Math.round(e.exceededDays.curr/b.length*100),e.excessPercentage.prev=Math.round(e.exceededDays.prev/u.length*100),e.excessPercentage.trend.value=e.excessPercentage.curr-e.excessPercentage.prev,e.averageIntakesPerDay.curr=Math.round(b.reduce((r,s)=>{const c=s.intakes.filter(n=>n.type==="food").length;return r+c},0)/b.length),e.averageIntakesPerDay.prev=Math.round(u.reduce((r,s)=>{const c=s.intakes.filter(n=>n.type==="food").length;return r+c},0)/u.length),m==="week")return Object.values(e);function a(r){var p,d;if(!r.length)return 0;const s=((p=r.find(k=>!!k.weight))==null?void 0:p.weight)||0,c=((d=r.findLast(k=>!!k.weight))==null?void 0:d.weight)||0,l=(s-c)/r.length;return isNaN(l)?0:l>=0?+l.toFixed(2):0}e.weightLossPerDay={label:"weight loss per day",curr:0,prev:0,trend:{value:0,positive:"up"}},e.weightLossPerDay.curr=a(b),e.weightLossPerDay.prev=a(u),e.weightLossPerDay.trend.value=e.weightLossPerDay.curr-e.weightLossPerDay.prev;function o(r){let s=0,c=0;return r.forEach(n=>{n.weight&&(s+=n.weight,c++)}),c>0?Math.round(s/c):0}if(e.averageWeight={label:"average weight",curr:0,prev:0,trend:{value:0,positive:"down"}},e.averageWeight.curr=o(b),e.averageWeight.prev=o(u),e.averageWeight.trend.value=e.averageWeight.curr-e.averageWeight.prev,!T||!T.length)return Object.values(e);const f=new Date(u[0].date).getMonth(),v=new Date(b[0].date).getMonth(),_=T.filter(r=>new Date(r.date).getMonth()===f),i=T.filter(r=>new Date(r.date).getMonth()===v);return e.totalGoals={label:"total goals",curr:0,prev:0,trend:{value:0,positive:"up"}},e.totalGoals.curr=i.length,e.totalGoals.prev=_.length,e.completedGoalsPerc={label:"completed goals percentage",curr:0,prev:0,trend:{value:0,positive:"up"}},e.completedGoalsPerc.curr=i.length?Math.round(i.filter(r=>r.isCompleted).length/i.length*100):0,e.completedGoalsPerc.prev=_.length?Math.round(_.filter(r=>r.isCompleted).length/_.length*100):0,e.completedGoalsPerc.trend.value=e.completedGoalsPerc.curr-e.completedGoalsPerc.prev,Object.values(e)}function O({trend:e,positive:a}){if(!e)return;const o=20;return e>0?t(et,{size:o,color:a==="up"?"green":"red"}):t(tt,{size:o,color:a==="down"?"green":"red"})}return C?t("div",{className:"schedule-report-table",children:y("table",{children:[t("thead",{children:y("tr",{children:[t("th",{children:"value"}),y("th",{children:["previous ",m]}),y("th",{children:["current ",m]}),t("th",{children:"trend"})]})}),t("tbody",{children:C.map((e,a)=>{const o=e.label==="excess percentage (days)"||e.label==="completed goals percentage";return y("tr",{children:[t("td",{children:e.label}),y("td",{children:[e.prev,o?"%":""]}),y("td",{children:[e.curr,o?"%":""]}),t("td",{children:O({trend:e.trend.value,positive:e.trend.positive})})]},a)})})]})}):null};const ut=({calenderDay:m})=>{const{backgroundColor:b,data:u,date:T}=m,C=Le.useMediaQuery({query:"(max-width: 600px)"}),[x,O]=J.useState(!C),[e,a]=J.useState(!1);if(!u)return null;const o=new Date(T).toLocaleDateString("en-US",{weekday:"short"}),f=Q.getTotalCalories(u),v=Q.calcRemainingCaloriesFromDayData(u),_=v>0?"remaining":"over your limit",i=Q.getDailyExcessRate({remainingCalories:v,targetCaloricIntake:u.targetCaloricIntake}),r=` calories ${_}`,s=u.intakes.length;function c(){O(n=>!n)}return y("article",{className:"week-report-day-display",children:[t(ee,{className:"week-report-day-display__header",style:{backgroundColor:b},children:t("h3",{children:o})}),x&&y("div",{className:"week-report-day-display__wrapper",children:[t("div",{className:"week-report-day-display__calories",children:t("table",{children:y("tbody",{children:[y("tr",{children:[t("th",{children:"Consumed Calories"}),t("td",{children:f})]}),y("tr",{children:[t("th",{children:r}),t("td",{children:Math.abs(v)})]}),y("tr",{children:[t("th",{children:"Target Caloric Intake"}),t("td",{children:u.targetCaloricIntake})]}),y("tr",{children:[t("th",{children:"Exceeded By"}),y("td",{children:[i,"%"]})]}),y("tr",{children:[t("th",{children:"workouts"}),t("td",{children:u.workouts.length})]})]})})}),y(oe,{className:"week-report-day-display__show-intakes-btn",onClickFn:()=>a(!e),children:[y("span",{children:[s," Intakes"]}),e?t(Pe,{}):t(Me,{})]}),e&&t(ge,{className:"week-report-day-display__intakes-list",items:u.intakes,render:n=>t(Ne,{intake:n},n.id)}),u.workouts.length>0&&y("div",{className:"week-report-day-display__workouts",children:[t("h3",{children:"Workouts:"}),t(ge,{className:"week-report-day-display__workouts__list",items:u.workouts,render:(n,l)=>{const{items:p,description:d}=n,k=Math.round(p.filter(S=>S.isCompleted).length/p.length*100);return y("p",{children:[t("strong",{children:d})," (",k,"% completed)"]},l)}})]})]}),C&&t(oe,{className:"week-report-day-display__expand-btn",onClickFn:c,children:x?"Hide":"Show"})]})};const Ge=({data:m})=>{const b=m.reduce((T,C)=>C.calories>T?C.calories:T,-1/0),u=[0,Math.round(b*1.1)];return t("div",{style:{width:"100%",maxWidth:1200,height:300},children:t(Oe,{width:"100%",height:"100%",children:y(Ie,{data:m,children:[t(Re,{strokeDasharray:"3 3"}),t(be,{dataKey:"name"}),t(De,{domain:u}),t(je,{}),t(le,{dataKey:"caloriesWithoutExcess",stackId:"a",fill:"#005FB3",barSize:50}),t(le,{dataKey:"excessCalories",stackId:"a",fill:"#FF0000",barSize:50})]})})})};const Fe=({type:m,currDate:b})=>{const{weekGoals:u,isWeekGoalsLoading:T,isWeekGoalsSuccess:C,isWeekGoalsError:x,isWeekGoalsEmpty:O,isWeekGoalsEditEnabled:e,monthGoals:a,isMonthGoalsLoading:o,isMonthGoalsSuccess:f,isMonthGoalsError:v,isMonthGoalsEmpty:_,isMonthGoalsEditEnabled:i}=re();return console.log({isMonthGoalsEditEnabled:i}),m==="month"?y("section",{className:"goals",children:[i&&t(Te,{type:"month"}),t(Se,{className:"goals__list",items:a,render:r=>t(_e,{goal:r,isEditEnabled:i},r.id),isLoading:o,isError:v,isSuccess:f,isEmpty:_,entityName:"goal"})]}):m==="week"?y("section",{className:"goals",children:[e&&t(Te,{type:"week",date:b}),t(Se,{className:"goals__list",items:u,render:r=>t(_e,{goal:r,isEditEnabled:e},r.id),isLoading:T,isError:x,isSuccess:C,isEmpty:O,entityName:"goals"})]}):null},ht=()=>{const{currDays:m,data:b,currDay:u}=re(),T=o(),C=m.reduce((i,r)=>r.data?[...i,r.data]:i,[]),x=_(),O=f(),e=v(),a=m.every(i=>!i.data)||!b;function o(){if(m.length===0)return"";const i=m[0].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"}),r=m[m.length-1].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"});return`${i} - ${r}`}function f(){return C.length?C.reduce((r,s)=>!s.weight||!s.waist?r:[...r,{weight:s.weight,waist:s.waist,date:s.date}],[]):null}function v(){return C.length?C.map(r=>{const s=Q.calcRemainingCaloriesFromDayData(r),c=s<0?Math.abs(s):0,n=Q.getTotalCalories(r),l=n-c;return{name:new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(new Date(r.date)),calories:n,excessCalories:c,caloriesWithoutExcess:l}}):null}function _(){if(!m.length||!b)return[];const i=m[0].date;i.setHours(0,0,0,0);const r=new Date(i);return r.setDate(r.getDate()-7),r.setHours(0,0,0,0),b.filter(c=>{const n=new Date(c.date);return n>=r&&n<i})}return y("section",{className:"report week-report",children:[y(ee,{className:"week-report__header",children:[t("h1",{children:"weekly report"}),t("h3",{children:T})]}),t($e,{type:"week",currData:C,prevData:x}),t(Fe,{type:"week",currDate:u==null?void 0:u.date}),O&&t(We,{data:O}),e&&t(Ge,{data:e}),a?t(ke,{entityName:"data for this week"}):t("div",{className:"week-report-day-display-container",children:m.map((i,r)=>t(ut,{calenderDay:i},i.id||r))})]})};const ft=({weekDays:m,goals:b})=>{const u=m.reduce((e,a)=>a.data?[...e,a.data]:e,[]),T=x(),C=O();function x(){const e=m[0].date.toLocaleString("en-GB",{day:"numeric"}),a=m[m.length-1].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"});return`${e} - ${a}`}function O(){const e={documentedDay:{label:"documented days",value:0},totalCalories:{label:"total calories",value:0},averageCaloriesPerDay:{label:"average calories per day",value:0},averageIntakesPerDay:{label:"average intakes per day",value:0},totalWorkouts:{label:"total workouts",value:0},excessCalories:{label:"excess calories",value:0},exceededDays:{label:"exceeded days",value:0},excessPercentage:{label:"excess percentage (days)",value:0}};return e.documentedDay.value=u.length,e.totalCalories.value=Q.getTotalCalories(u),e.averageCaloriesPerDay.value=Math.round(e.totalCalories.value/e.documentedDay.value),e.averageIntakesPerDay.value=Math.round(u.reduce((a,o)=>{const f=o.intakes.filter(v=>v.type==="food").length;return a+f},0)/u.length),e.totalWorkouts.value=ne.getTotalWorkouts(u),e.excessCalories.value=Q.getWeeklyExcessRateCalories(u),e.excessCalories.value=u.filter(a=>{const o=Q.getDayCaloriesIntake({currDayData:a,data:u}),f=Q.getTotalCaloriesFromDailyData({dailyData:a});return o-f<0}).length,e.excessPercentage.value=Math.round(e.exceededDays.value/u.length*100),Object.values(e)}return y("article",{className:"month-report-week-display",children:[t(ee,{className:"month-report-week-display__header",children:t("h3",{className:"month-report-week-display__header__title",children:T})}),y("div",{className:"month-report-week-display__content-container",children:[t("div",{className:"month-report-week-display__table-container ",children:y("table",{children:[t("thead",{children:y("tr",{children:[t("th",{children:"label"}),t("th",{children:"value"})]})}),t("tbody",{children:C.map((e,a)=>{const o=e.label==="excess percentage (days)";return y("tr",{children:[t("td",{children:e.label}),y("td",{children:[e.value,o?"%":""]})]},a)})})]})}),y("section",{className:"month-report-week-display__goals-container",children:[t("h3",{children:"goals"}),b.length===0?t(ke,{entityName:"week goals"}):t("ul",{children:b.map((e,a)=>t(_e,{goal:e,isEditEnabled:!1},a))})]})]})]})},pt=()=>{const{currDays:m,data:b,monthWeekGoals:u}=re(),T=f(),C=m.map(r=>r.data).filter(r=>!!r),x=v(),O=_(),e=i(),a=m.every(r=>!r.data)||!b,o=m.reduce((r,s,c,n)=>{const l=new Date(s.date).getDay();if(c===0||l===0)return[...r,{weekDays:[s],goals:[]}];const p=r[r.length-1],d=[...r.slice(0,r.length-1),{...p,weekDays:[...p.weekDays,s],goals:[]}];if((l===6||c===n.length-1)&&u){const k=d[d.length-1],S=u.filter(E=>{const Y=new Date(E.date),w=k.weekDays[0].date;w.setHours(0,0,0,0);const R=k.weekDays[k.weekDays.length-1].date;return R.setHours(23,59,59,999),Y>=w&&Y<=R});d[d.length-1].goals=S}return d},[]);function f(){const r=m[0].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"}),s=m[m.length-1].date.toLocaleString("en-GB",{year:"2-digit",month:"short",day:"numeric"});return`${r} - ${s}`}function v(){if(!m.length||!b)return[];const r=m[0].date;r.setHours(0,0,0,0);const s=r.getMonth()-1,c=r.getFullYear(),n=new Date(c,s,1);return b.filter(p=>{const d=new Date(p.date);return d>=n&&d<r})}function _(){return C?C.reduce((s,c)=>!c.weight||!c.waist?s:[...s,{date:c.date,weight:c.weight,waist:c.waist}],[]):null}function i(){return C?C.map(s=>{const c=Q.calcRemainingCaloriesFromDayData(s),n=c<0?Math.abs(c):0,l=Q.getTotalCalories(s),p=l-n;return{name:new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit"}).format(new Date(s.date)),calories:l,excessCalories:n,caloriesWithoutExcess:p}}):null}return y("section",{className:"report month-report",children:[y(ee,{className:"month-report__header",children:[t("h1",{children:"monthly report"}),t("h3",{children:T})]}),t($e,{type:"month",currData:C,prevData:x,goals:u}),t(Fe,{type:"month"}),a?t(ke,{entityName:"data for this month"}):y(we,{children:[O&&t(We,{data:O}),e&&t(Ge,{data:e}),o.map((r,s)=>t(ft,{weekDays:r.weekDays,goals:r.goals},s))]})]})},St=()=>{qe({title:"Schedule / Kceli"});const{currDate:m,currDay:b,setCurrDay:u,currDays:T,setCurrDays:C,filterBy:x,calenderDays:O,isLoading:e,isSuccess:a,isError:o,moveToMonth:f,getWeekDays:v,getMonthDays:_}=re(),i=!!b&&x===K.Day,r=T.length>0&&x===K.Day;return J.useEffect(()=>{if(!a||b)return;const s=m,c=O.find(n=>ae(n.date,s));if(c&&(u(c),x!==K.Day)){if(x===K.Week){const n=v(c);if(!n)return;C(n);return}if(x===K.Month){const n=_(c);if(!n)return;C(n);return}}},[O,a,b,T,u,m,x,C,v,_]),y("main",{className:"page schedule-page",children:[e&&t(Be,{}),o&&t(He,{}),a&&y(we,{children:[y(ee,{className:"schedule-page__header",children:[y("h2",{className:"schedule-page__header__title",children:[m.toLocaleString("en-GB",{month:"long"})," ",m.getFullYear()]}),y("div",{className:"schedule-page__header__btns-container",children:[t(oe,{onClickFn:()=>f(-1),children:t(Ze,{className:"schedule-page__header__btns-container__btn__icon"})}),t(oe,{onClickFn:()=>f(1),children:t(Ve,{className:"schedule-page__header__btns-container__btn__icon"})})]})]}),t(dt,{}),t(ct,{}),i&&t(st,{day:b}),r&&t(lt,{days:T}),x===K.Week&&t(ht,{}),x===K.Month&&t(pt,{})]})]})};export{St as default};

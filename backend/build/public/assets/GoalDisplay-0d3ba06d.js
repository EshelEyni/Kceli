import{m as u,j as t,S as _,z as b,o as g,p as y,a4 as v,r as m,F as S,B as C}from"./index-757a4c32.js";import{E}from"./ErrorMsg-71e8423a.js";import{E as L}from"./Empty-a9d04aca.js";import{d as w,e as T,f as $}from"./index.esm-00c61608.js";const q=({render:e,items:n,isLoading:a,isSuccess:o,isError:p,isEmpty:s,entityName:i,className:c})=>u("div",{className:`list-container ${c}`,children:[a&&t(_,{}),o&&!s&&t("ul",{className:`list ${c}`,children:n.map((l,h,r)=>e(l,h,r))}),o&&s&&t(L,{entityName:i}),p&&t(E,{msg:`Couldn't get ${i}. Please try again later.`})]});function A(e){return b({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]})(e)}const N=({isChecked:e,onClickFn:n})=>t("div",{className:"checkbox"+(e?" checked":" unchecked"),onClick:n,"data-testid":"checkbox",children:e&&t(A,{size:24,color:"var(--color-primary)","data-testid":"checkbox-icon"})});function z(){const e=g(),{mutate:n,isLoading:a}=y({mutationFn:v.deleteGoal,onSuccess:()=>{e.invalidateQueries(["goals"])}});return{deleteGoal:n,isLoading:a}}function B(){const e=g(),{mutate:n,isLoading:a}=y({mutationFn:o=>v.updateGoal(o),onSuccess:()=>{e.invalidateQueries(["goals"])}});return{updateGoal:n,isLoading:a}}const U=({goal:e,isEditEnabled:n})=>{const{updateGoal:a}=B(),{deleteGoal:o}=z(),[p,s]=m.useState(!1),[i,c]=m.useState(e.description);let l=0;function h(){n&&a({...e,isCompleted:!e.isCompleted})}function r(){n&&s(!0)}function x(){const d=new Date().getTime(),f=d-l;f<300&&f>0&&r(),l=d}function G(d){c(d.target.value)}function F(){a({...e,description:i},{onSuccess:k})}function D(){o(e.id)}function k(){c(e.description),s(!1)}return m.useEffect(()=>{c(e.description)},[e.description]),t("section",{className:"week-goal-display",onDoubleClick:r,onTouchEnd:x,children:p?u("div",{className:"week-goal-display__edit",children:[t("input",{type:"text",className:"week-goal-display__edit__input",value:i,onChange:G}),u("div",{className:"week-goal-display__edit__btns",children:[t(C,{onClickFn:F,children:t(w,{color:"var(--color-text-gray)"})}),t(C,{onClickFn:D,children:t(T,{color:"var(--color-text-gray)"})}),t(C,{onClickFn:k,children:t($,{color:"var(--color-text-gray)"})})]})]}):u(S,{children:[t("p",{children:e.description}),t(N,{isChecked:e.isCompleted,onClickFn:h})]})})};export{q as A,U as G};
